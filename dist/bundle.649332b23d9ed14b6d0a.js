/*! For license information please see bundle.649332b23d9ed14b6d0a.js.LICENSE.txt */
(()=>{var e,t,n={84:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},160:e=>{"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},635:(e,t,n)=>{var r=n(9794),i=n(9613),o=i;o.v1=r,o.v4=i,e.exports=o},663:(e,t,n)=>{"use strict";n.d(t,{xQ:()=>o});var r=n(9471),i=n(3328);function o(e=!0){const t=(0,r.useContext)(i.t);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:o,register:a}=t,s=(0,r.useId)();(0,r.useEffect)((()=>{if(e)return a(s)}),[e]);const l=(0,r.useCallback)((()=>e&&o&&o(s)),[s,o,e]);return!n&&o?[!1,l]:[!0]}},991:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,c="";function u(e){return e?e.replace(l,c):c}e.exports=function(e,l){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var d=1,h=1;function f(e){var t=e.match(n);t&&(d+=t.length);var r=e.lastIndexOf("\n");h=~r?e.length-r:h+e.length}function p(){var e={line:d,column:h};return function(t){return t.position=new m(e),b(),t}}function m(e){this.start=e,this.end={line:d,column:h},this.source=l.source}m.prototype.content=e;var g=[];function y(t){var n=new Error(l.source+":"+d+":"+h+": "+t);if(n.reason=t,n.filename=l.source,n.line=d,n.column=h,n.source=e,!l.silent)throw n;g.push(n)}function v(t){var n=t.exec(e);if(n){var r=n[0];return f(r),e=e.slice(r.length),n}}function b(){v(r)}function w(e){var t;for(e=e||[];t=x();)!1!==t&&e.push(t);return e}function x(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;c!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,c===e.charAt(n-1))return y("End of comment missing");var r=e.slice(2,n-2);return h+=2,f(r),e=e.slice(n),h+=2,t({type:"comment",comment:r})}}function E(){var e=p(),n=v(i);if(n){if(x(),!v(o))return y("property missing ':'");var r=v(a),l=e({type:"declaration",property:u(n[0].replace(t,c)),value:r?u(r[0].replace(t,c)):c});return v(s),l}}return b(),function(){var e,t=[];for(w(t);e=E();)!1!==e&&(t.push(e),w(t));return t}()}},1024:(e,t)=>{t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+f]=255&a,f+=p,a/=256,c-=8);e[n+f-p]|=128*m}},1097:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});const r=(0,n(9471).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},1385:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,l=[],c=!1,u=-1;function d(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length&&h())}function h(){if(!c){var e=a(d);c=!0;for(var t=l.length;t;){for(s=l,l=[];++u<t;)s&&s[u].run();u=-1,t=l.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||c||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},1394:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null;if(!e||"string"!=typeof e)return n;var r=(0,i.default)(e),o="function"==typeof t;return r.forEach((function(e){if("declaration"===e.type){var r=e.property,i=e.value;o?t(r,i,e):i&&((n=n||{})[r]=i)}})),n};var i=r(n(991))},1569:(e,t,n)=>{"use strict";n.d(t,{A:()=>vt});var r={};function i(e,t){return function(){return e.apply(t,arguments)}}n.r(r),n.d(r,{hasBrowserEnv:()=>he,hasStandardBrowserEnv:()=>pe,hasStandardBrowserWebWorkerEnv:()=>me,navigator:()=>fe,origin:()=>ge});var o=n(1385);const{toString:a}=Object.prototype,{getPrototypeOf:s}=Object,l=(c=Object.create(null),e=>{const t=a.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())});var c;const u=e=>(e=e.toLowerCase(),t=>l(t)===e),d=e=>t=>typeof t===e,{isArray:h}=Array,f=d("undefined"),p=u("ArrayBuffer"),m=d("string"),g=d("function"),y=d("number"),v=e=>null!==e&&"object"==typeof e,b=e=>{if("object"!==l(e))return!1;const t=s(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},w=u("Date"),x=u("File"),E=u("Blob"),S=u("FileList"),k=u("URLSearchParams"),[C,_,T,A]=["ReadableStream","Request","Response","Headers"].map(u);function N(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),h(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function I(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,R=e=>!f(e)&&e!==P,O=(D="undefined"!=typeof Uint8Array&&s(Uint8Array),e=>D&&e instanceof D);var D;const M=u("HTMLFormElement"),U=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),L=u("RegExp"),F=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};N(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},j=u("AsyncFunction"),B=(z="function"==typeof setImmediate,V=g(P.postMessage),z?setImmediate:V?(H=`axios@${Math.random()}`,q=[],P.addEventListener("message",(({source:e,data:t})=>{e===P&&t===H&&q.length&&q.shift()()}),!1),e=>{q.push(e),P.postMessage(H,"*")}):e=>setTimeout(e));var z,V,H,q;const $="undefined"!=typeof queueMicrotask?queueMicrotask.bind(P):void 0!==o&&o.nextTick||B,W={isArray:h,isArrayBuffer:p,isBuffer:function(e){return null!==e&&!f(e)&&null!==e.constructor&&!f(e.constructor)&&g(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||g(e.append)&&("formdata"===(t=l(e))||"object"===t&&g(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer),t},isString:m,isNumber:y,isBoolean:e=>!0===e||!1===e,isObject:v,isPlainObject:b,isReadableStream:C,isRequest:_,isResponse:T,isHeaders:A,isUndefined:f,isDate:w,isFile:x,isBlob:E,isRegExp:L,isFunction:g,isStream:e=>v(e)&&g(e.pipe),isURLSearchParams:k,isTypedArray:O,isFileList:S,forEach:N,merge:function e(){const{caseless:t}=R(this)&&this||{},n={},r=(r,i)=>{const o=t&&I(n,i)||i;b(n[o])&&b(r)?n[o]=e(n[o],r):b(r)?n[o]=e({},r):h(r)?n[o]=r.slice():n[o]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&N(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(N(t,((t,r)=>{n&&g(t)?e[r]=i(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const l={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||l[a]||(t[a]=e[a],l[a]=!0);e=!1!==n&&s(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:l,kindOfTest:u,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(h(e))return e;let t=e.length;if(!y(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:M,hasOwnProperty:U,hasOwnProp:U,reduceDescriptors:F,freezeMethods:e=>{F(e,((t,n)=>{if(g(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];g(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return h(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:I,global:P,isContextDefined:R,isSpecCompliantForm:function(e){return!!(e&&g(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(v(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=h(e)?[]:{};return N(e,((e,t)=>{const o=n(e,r+1);!f(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:j,isThenable:e=>e&&(v(e)||g(e))&&g(e.then)&&g(e.catch),setImmediate:B,asap:$};function K(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}W.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const Y=K.prototype,G={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{G[e]={value:e}})),Object.defineProperties(K,G),Object.defineProperty(Y,"isAxiosError",{value:!0}),K.from=(e,t,n,r,i,o)=>{const a=Object.create(Y);return W.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),K.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const J=K;var Z=n(9922).hp;function Q(e){return W.isPlainObject(e)||W.isArray(e)}function X(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function ee(e,t,n){return e?e.concat(t).map((function(e,t){return e=X(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const te=W.toFlatObject(W,{},null,(function(e){return/^is[A-Z]/.test(e)})),ne=function(e,t,n){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!W.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(W.isDate(e))return e.toISOString();if(!s&&W.isBlob(e))throw new J("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(e)||W.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Z.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"==typeof e)if(W.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(W.isArray(e)&&function(e){return W.isArray(e)&&!e.some(Q)}(e)||(W.isFileList(e)||W.endsWith(n,"[]"))&&(s=W.toArray(e)))return n=X(n),s.forEach((function(e,r){!W.isUndefined(e)&&null!==e&&t.append(!0===a?ee([n],r,o):null===a?n:n+"[]",l(e))})),!1;return!!Q(e)||(t.append(ee(i,n,o),l(e)),!1)}const u=[],d=Object.assign(te,{defaultVisitor:c,convertValue:l,isVisitable:Q});if(!W.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!W.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),W.forEach(n,(function(n,o){!0===(!(W.isUndefined(n)||null===n)&&i.call(t,n,W.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function re(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ie(e,t){this._pairs=[],e&&ne(e,this,t)}const oe=ie.prototype;oe.append=function(e,t){this._pairs.push([e,t])},oe.toString=function(e){const t=e?function(t){return e.call(this,t,re)}:re;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ae=ie;function se(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function le(e,t,n){if(!t)return e;const r=n&&n.encode||se;W.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(o=i?i(t,n):W.isURLSearchParams(t)?t.toString():new ae(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const ce=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ue={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},de={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ae,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},he="undefined"!=typeof window&&"undefined"!=typeof document,fe="object"==typeof navigator&&navigator||void 0,pe=he&&(!fe||["ReactNative","NativeScript","NS"].indexOf(fe.product)<0),me="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ge=he&&window.location.href||"http://localhost",ye={...r,...de},ve=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;return o=!o&&W.isArray(r)?r.length:o,s?(W.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):(r[o]&&W.isObject(r[o])||(r[o]=[]),t(e,n,r[o],i)&&W.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a)}if(W.isFormData(e)&&W.isFunction(e.entries)){const n={};return W.forEachEntry(e,((e,r)=>{t(function(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null},be={transitional:ue,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=W.isObject(e);if(i&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return r?JSON.stringify(ve(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ne(e,new ye.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ye.isNode&&W.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=W.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ne(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e){if(W.isString(e))try{return(0,JSON.parse)(e),W.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||be.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw J.from(e,J.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ye.classes.FormData,Blob:ye.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],(e=>{be.headers[e]={}}));const we=be,xe=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ee=Symbol("internals");function Se(e){return e&&String(e).trim().toLowerCase()}function ke(e){return!1===e||null==e?e:W.isArray(e)?e.map(ke):String(e)}function Ce(e,t,n,r,i){return W.isFunction(r)?r.call(this,t,n):(i&&(t=n),W.isString(t)?W.isString(r)?-1!==t.indexOf(r):W.isRegExp(r)?r.test(t):void 0:void 0)}class _e{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Se(t);if(!i)throw new Error("header name must be a non-empty string");const o=W.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=ke(e))}const o=(e,t)=>W.forEach(e,((e,n)=>i(e,n,t)));if(W.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(W.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&xe[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(W.isHeaders(e))for(const[t,r]of e.entries())i(r,t,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=Se(e)){const n=W.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(W.isFunction(t))return t.call(this,e,n);if(W.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Se(e)){const n=W.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ce(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Se(e)){const i=W.findKey(n,e);!i||t&&!Ce(0,n[i],i,t)||(delete n[i],r=!0)}}return W.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Ce(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return W.forEach(this,((r,i)=>{const o=W.findKey(n,i);if(o)return t[o]=ke(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=ke(r),n[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return W.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&W.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[Ee]=this[Ee]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Se(e);t[r]||(function(e,t){const n=W.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return W.isArray(e)?e.forEach(r):r(e),this}}_e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),W.reduceDescriptors(_e.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),W.freezeMethods(_e);const Te=_e;function Ae(e,t){const n=this||we,r=t||n,i=Te.from(r.headers);let o=r.data;return W.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Ne(e){return!(!e||!e.__CANCEL__)}function Ie(e,t,n){J.call(this,null==e?"canceled":e,J.ERR_CANCELED,t,n),this.name="CanceledError"}W.inherits(Ie,J,{__CANCEL__:!0});const Pe=Ie;function Re(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new J("Request failed with status code "+n.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Oe=(e,t,n=3)=>{let r=0;const i=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];i||(i=l),n[o]=s,r[o]=l;let u=a,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let n,r,i=0,o=1e3/t;const a=(t,o=Date.now())=>{i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),s=t-i;s>=o?a(e,t):(n=e,r||(r=setTimeout((()=>{r=null,a(n)}),o-s)))},()=>n&&a(n)]}((n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,l=i(s);r=o,e({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},De=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Me=e=>(...t)=>W.asap((()=>e(...t))),Ue=ye.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ye.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ye.origin),ye.navigator&&/(msie|trident)/i.test(ye.navigator.userAgent)):()=>!0,Le=ye.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];W.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),W.isString(r)&&a.push("path="+r),W.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Fe(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const je=e=>e instanceof Te?{...e}:e;function Be(e,t){t=t||{};const n={};function r(e,t,n,r){return W.isPlainObject(e)&&W.isPlainObject(t)?W.merge.call({caseless:r},e,t):W.isPlainObject(t)?W.merge({},t):W.isArray(t)?t.slice():t}function i(e,t,n,i){return W.isUndefined(t)?W.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function o(e,t){if(!W.isUndefined(t))return r(void 0,t)}function a(e,t){return W.isUndefined(t)?W.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>i(je(e),je(t),0,!0)};return W.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,a=o(e[r],t[r],r);W.isUndefined(a)&&o!==s||(n[r]=a)})),n}const ze=e=>{const t=Be({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=Te.from(s),t.url=le(Fe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),W.isFormData(r))if(ye.hasStandardBrowserEnv||ye.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(ye.hasStandardBrowserEnv&&(i&&W.isFunction(i)&&(i=i(t)),i||!1!==i&&Ue(t.url))){const e=o&&a&&Le.read(a);e&&s.set(o,e)}return t},Ve="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=ze(e);let i=r.data;const o=Te.from(r.headers).normalize();let a,s,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Te.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Re((function(e){t(e),p()}),(function(e){n(e),p()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new J("Request aborted",J.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new J("Network Error",J.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||ue;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new J(t,i.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&W.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),W.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=Oe(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([s,c]=Oe(h),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new Pe(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===ye.protocols.indexOf(y)?n(new J("Unsupported protocol "+y+":",J.ERR_BAD_REQUEST,e)):m.send(i||null)}))},He=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof J?t:new Pe(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=()=>W.asap(a),s}},qe=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},$e=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}(e))yield*qe(n,t)}(e,t);let o,a=0,s=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let o=r.byteLength;if(n){let e=a+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},We="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Ke=We&&"function"==typeof ReadableStream,Ye=We&&("function"==typeof TextEncoder?(Ge=new TextEncoder,e=>Ge.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ge;const Je=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Ze=Ke&&Je((()=>{let e=!1;const t=new Request(ye.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Qe=Ke&&Je((()=>W.isReadableStream(new Response("").body))),Xe={stream:Qe&&(e=>e.body)};var et;We&&(et=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Xe[e]&&(Xe[e]=W.isFunction(et[e])?t=>t[e]():(t,n)=>{throw new J(`Response type '${e}' is not supported`,J.ERR_NOT_SUPPORT,n)})})));const tt={http:null,xhr:Ve,fetch:We&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=ze(e);c=c?(c+"").toLowerCase():"text";let f,p=He([i,o&&o.toAbortSignal()],a);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&Ze&&"get"!==n&&"head"!==n&&0!==(g=await(async(e,t)=>{const n=W.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(W.isBlob(e))return e.size;if(W.isSpecCompliantForm(e)){const t=new Request(ye.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return W.isArrayBufferView(e)||W.isArrayBuffer(e)?e.byteLength:(W.isURLSearchParams(e)&&(e+=""),W.isString(e)?(await Ye(e)).byteLength:void 0)})(t):n})(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(W.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=De(g,Oe(Me(l)));r=$e(n.body,65536,e,t)}}W.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?d:void 0});let o=await fetch(f);const a=Qe&&("stream"===c||"response"===c);if(Qe&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=W.toFiniteNumber(o.headers.get("content-length")),[n,r]=s&&De(t,Oe(Me(s),!0))||[];o=new Response($e(o.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let y=await Xe[W.findKey(Xe,c)||"text"](o,e);return!a&&m&&m(),await new Promise(((t,n)=>{Re(t,n,{data:y,headers:Te.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:f})}))}catch(t){if(m&&m(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new J("Network Error",J.ERR_NETWORK,e,f),{cause:t.cause||t});throw J.from(t,t&&t.code,e,f)}})};W.forEach(tt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const nt=e=>`- ${e}`,rt=e=>W.isFunction(e)||null===e||!1===e,it=e=>{e=W.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!rt(n)&&(r=tt[(t=String(n)).toLowerCase()],void 0===r))throw new J(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(nt).join("\n"):" "+nt(e[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function ot(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pe(null,e)}function at(e){return ot(e),e.headers=Te.from(e.headers),e.data=Ae.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),it(e.adapter||we.adapter)(e).then((function(t){return ot(e),t.data=Ae.call(e,e.transformResponse,t),t.headers=Te.from(t.headers),t}),(function(t){return Ne(t)||(ot(e),t&&t.response&&(t.response.data=Ae.call(e,e.transformResponse,t.response),t.response.headers=Te.from(t.response.headers))),Promise.reject(t)}))}const st={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{st[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const lt={};st.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new J(r(i," has been removed"+(t?" in "+t:"")),J.ERR_DEPRECATED);return t&&!lt[i]&&(lt[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},st.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const ct={assertOptions:function(e,t,n){if("object"!=typeof e)throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new J("option "+o+" must be "+n,J.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new J("Unknown option "+o,J.ERR_BAD_OPTION)}},validators:st},ut=ct.validators;class dt{constructor(e){this.defaults=e,this.interceptors={request:new ce,response:new ce}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Be(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&ct.assertOptions(n,{silentJSONParsing:ut.transitional(ut.boolean),forcedJSONParsing:ut.transitional(ut.boolean),clarifyTimeoutError:ut.transitional(ut.boolean)},!1),null!=r&&(W.isFunction(r)?t.paramsSerializer={serialize:r}:ct.assertOptions(r,{encode:ut.function,serialize:ut.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ct.assertOptions(t,{baseUrl:ut.spelling("baseURL"),withXsrfToken:ut.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&W.merge(i.common,i[t.method]);i&&W.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Te.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[at.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(e){t.call(this,e);break}}try{c=at.call(this,h)}catch(e){return Promise.reject(e)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return le(Fe((e=Be(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}W.forEach(["delete","get","head","options"],(function(e){dt.prototype[e]=function(t,n){return this.request(Be(n||{},{method:e,url:t,data:(n||{}).data}))}})),W.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Be(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}dt.prototype[e]=t(),dt.prototype[e+"Form"]=t(!0)}));const ht=dt;class ft{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Pe(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ft((function(t){e=t})),cancel:e}}}const pt=ft,mt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mt).forEach((([e,t])=>{mt[t]=e}));const gt=mt,yt=function e(t){const n=new ht(t),r=i(ht.prototype.request,n);return W.extend(r,ht.prototype,n,{allOwnKeys:!0}),W.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Be(t,n))},r}(we);yt.Axios=ht,yt.CanceledError=Pe,yt.CancelToken=pt,yt.isCancel=Ne,yt.VERSION="1.8.4",yt.toFormData=ne,yt.AxiosError=J,yt.Cancel=yt.CanceledError,yt.all=function(e){return Promise.all(e)},yt.spread=function(e){return function(t){return e.apply(null,t)}},yt.isAxiosError=function(e){return W.isObject(e)&&!0===e.isAxiosError},yt.mergeConfig=Be,yt.AxiosHeaders=Te,yt.formToJSON=e=>ve(W.isHTMLForm(e)?new FormData(e):e),yt.getAdapter=it,yt.HttpStatusCode=gt,yt.default=yt;const vt=yt},1656:function(e,t,n){var r;e=n.nmd(e),function(){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof n.g&&n.g;i.global!==i&&i.window!==i&&i.self;var o,a=2147483647,s=36,l=/^xn--/,c=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,f=String.fromCharCode;function p(e){throw RangeError(d[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+m((e=e.replace(u,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function v(e){return m(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+f(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=s)e=h(e/35);return h(r+36*e/(e+38))}function x(e){var t,n,r,i,o,l,c,u,d,f,m,g=[],y=e.length,b=0,x=128,E=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&p("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<y;){for(o=b,l=1,c=s;i>=y&&p("invalid-input"),((u=(m=e.charCodeAt(i++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:s)>=s||u>h((a-b)/l))&&p("overflow"),b+=u*l,!(u<(d=c<=E?1:c>=E+26?26:c-E));c+=s)l>h(a/(f=s-d))&&p("overflow"),l*=f;E=w(b-o,t=g.length+1,0==o),h(b/t)>a-x&&p("overflow"),x+=h(b/t),b%=t,g.splice(b++,0,x)}return v(g)}function E(e){var t,n,r,i,o,l,c,u,d,m,g,v,x,E,S,k=[];for(v=(e=y(e)).length,t=128,n=0,o=72,l=0;l<v;++l)(g=e[l])<128&&k.push(f(g));for(r=i=k.length,i&&k.push("-");r<v;){for(c=a,l=0;l<v;++l)(g=e[l])>=t&&g<c&&(c=g);for(c-t>h((a-n)/(x=r+1))&&p("overflow"),n+=(c-t)*x,t=c,l=0;l<v;++l)if((g=e[l])<t&&++n>a&&p("overflow"),g==t){for(u=n,d=s;!(u<(m=d<=o?1:d>=o+26?26:d-o));d+=s)S=u-m,E=s-m,k.push(f(b(m+S%E,0))),u=h(S/E);k.push(f(b(u,0))),o=w(n,x,r==i),n=0,++r}++n,++t}return k.join("")}o={version:"1.3.2",ucs2:{decode:y,encode:v},decode:x,encode:E,toASCII:function(e){return g(e,(function(e){return c.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return g(e,(function(e){return l.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},1815:(e,t,n)=>{"use strict";function r(e){if("undefined"==typeof Proxy)return e;const t=new Map;return new Proxy(((...t)=>e(...t)),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function i(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function o(e){const t=[{},{}];return e?.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function a(e,t,n,r){if("function"==typeof t){const[i,a]=o(r);t=t(void 0!==n?n:e.custom,i,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[i,a]=o(r);t=t(void 0!==n?n:e.custom,i,a)}return t}function s(e,t,n){const r=e.getProps();return a(r,t,void 0!==n?n:r.custom,e)}function l(e,t){return e?.[t]??e?.default??e}n.d(t,{P:()=>Oa});const c=e=>e,u={},d=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],h={value:null,addProjectionMetrics:null};function f(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=d.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,o=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(u.schedule(t),e()),l++,t(s)}const u={schedule:(e,t=!1,o=!1)=>{const s=o&&i?n:r;return t&&a.add(e),s.has(e)||s.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{s=e,i?o=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&h.value&&h.value.frameloop[t].push(l),l=0,n.clear(),i=!1,o&&(o=!1,u.process(e)))}};return u}(o,t?n:void 0),e)),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:f,update:p,preRender:m,render:g,postRender:y}=a,v=()=>{const o=u.useManualTiming?i.timestamp:performance.now();n=!1,u.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1)),i.timestamp=o,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),f.process(i),p.process(i),m.process(i),g.process(i),y.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(v))};return{schedule:d.reduce(((t,o)=>{const s=a[o];return t[o]=(t,o=!1,a=!1)=>(n||(n=!0,r=!0,i.isProcessing||e(v)),s.schedule(t,o,a)),t}),{}),cancel:e=>{for(let t=0;t<d.length;t++)a[d[t]].cancel(e)},state:i,steps:a}}const{schedule:p,cancel:m,state:g,steps:y}=f("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:c,!0),v=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],b=(()=>new Set(v))(),w=new Set(["width","height","top","left","right","bottom",...v]);function x(e,t){-1===e.indexOf(t)&&e.push(t)}function E(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class S{constructor(){this.subscriptions=[]}add(e){return x(this.subscriptions,e),()=>E(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function k(e,t){return t?e*(1e3/t):0}let C;function _(){C=void 0}const T={now:()=>(void 0===C&&T.set(g.isProcessing||u.useManualTiming?g.timestamp:performance.now()),C),set:e=>{C=e,queueMicrotask(_)}},A={current:void 0};class N{constructor(e,t={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{const n=T.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const e of this.dependents)e.dirty();t&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=T.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new S);const n=this.events[e].add(t);return"change"===e?()=>{n(),p.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return A.current&&A.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=T.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return k(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function I(e,t){return new N(e,t)}const P=e=>Array.isArray(e);function R(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,I(n))}const O=e=>Boolean(e&&e.getVelocity);function D(e,t){const n=e.getValue("willChange");if(r=n,Boolean(O(r)&&r.add))return n.add(t);if(!n&&u.WillChange){const n=new u.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}const M=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),U="data-"+M("framerAppearId");function L(e){return e.props[U]}const F=(e,t)=>n=>t(e(n)),j=(...e)=>e.reduce(F),B=(e,t,n)=>n>t?t:n<e?e:n,z=e=>1e3*e,V=e=>e/1e3,H={layout:0,mainThread:0,waapi:0},q=e=>t=>"string"==typeof t&&t.startsWith(e),$=q("--"),W=q("var(--"),K=e=>!!W(e)&&Y.test(e.split("/*")[0].trim()),Y=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,G={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},J={...G,transform:e=>B(0,1,e)},Z={...G,default:1},Q=e=>Math.round(1e5*e)/1e5,X=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,ee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,te=(e,t)=>n=>Boolean("string"==typeof n&&ee.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),ne=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[i,o,a,s]=r.match(X);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},re={...G,transform:e=>Math.round((e=>B(0,255,e))(e))},ie={test:te("rgb","red"),parse:ne("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+re.transform(e)+", "+re.transform(t)+", "+re.transform(n)+", "+Q(J.transform(r))+")"},oe={test:te("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:ie.transform},ae=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),se=ae("deg"),le=ae("%"),ce=ae("px"),ue=ae("vh"),de=ae("vw"),he=(()=>({...le,parse:e=>le.parse(e)/100,transform:e=>le.transform(100*e)}))(),fe={test:te("hsl","hue"),parse:ne("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+le.transform(Q(t))+", "+le.transform(Q(n))+", "+Q(J.transform(r))+")"},pe={test:e=>ie.test(e)||oe.test(e)||fe.test(e),parse:e=>ie.test(e)?ie.parse(e):fe.test(e)?fe.parse(e):oe.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?ie.transform(e):fe.transform(e)},me=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,ge="number",ye="color",ve=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function be(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(ve,(e=>(pe.test(e)?(r.color.push(o),i.push(ye),n.push(pe.parse(e))):e.startsWith("var(")?(r.var.push(o),i.push("var"),n.push(e)):(r.number.push(o),i.push(ge),n.push(parseFloat(e))),++o,"${}"))).split("${}");return{values:n,split:a,indexes:r,types:i}}function we(e){return be(e).values}function xe(e){const{split:t,types:n}=be(e),r=t.length;return e=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],void 0!==e[o]){const t=n[o];i+=t===ge?Q(e[o]):t===ye?pe.transform(e[o]):e[o]}return i}}const Ee=e=>"number"==typeof e?0:e,Se={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(X)?.length||0)+(e.match(me)?.length||0)>0},parse:we,createTransformer:xe,getAnimatableNone:function(e){const t=we(e);return xe(e)(t.map(Ee))}};function ke(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ce(e,t){return n=>n>0?t:e}const _e=(e,t,n)=>e+(t-e)*n,Te=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Ae=[oe,ie,fe];function Ne(e){const t=(n=e,Ae.find((e=>e.test(n))));var n;if(Boolean(t),!Boolean(t))return!1;let r=t.parse(e);return t===fe&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,o=0,a=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=ke(s,r,e+1/3),o=ke(s,r,e),a=ke(s,r,e-1/3)}else i=o=a=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:r}}(r)),r}const Ie=(e,t)=>{const n=Ne(e),r=Ne(t);if(!n||!r)return Ce(e,t);const i={...n};return e=>(i.red=Te(n.red,r.red,e),i.green=Te(n.green,r.green,e),i.blue=Te(n.blue,r.blue,e),i.alpha=_e(n.alpha,r.alpha,e),ie.transform(i))},Pe=new Set(["none","hidden"]);function Re(e,t){return n=>_e(e,t,n)}function Oe(e){return"number"==typeof e?Re:"string"==typeof e?K(e)?Ce:pe.test(e)?Ie:Ue:Array.isArray(e)?De:"object"==typeof e?pe.test(e)?Ie:Me:Ce}function De(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>Oe(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Me(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Oe(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Ue=(e,t)=>{const n=Se.createTransformer(t),r=be(e),i=be(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Pe.has(e)&&!i.values.length||Pe.has(t)&&!r.values.length?function(e,t){return Pe.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):j(De(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][r[o]],s=e.values[a]??0;n[i]=s,r[o]++}return n}(r,i),i.values),n):Ce(e,t)};function Le(e,t,n){return"number"==typeof e&&"number"==typeof t&&"number"==typeof n?_e(e,t,n):Oe(e)(e,t)}const Fe=e=>{const t=({timestamp:t})=>e(t);return{start:()=>p.update(t,!0),stop:()=>m(t),now:()=>g.isProcessing?g.timestamp:T.now()}},je=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let t=0;t<i;t++)r+=e(t/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Be=2e4;function ze(e){let t=0,n=e.next(t);for(;!n.done&&t<Be;)t+=50,n=e.next(t);return t>=Be?1/0:t}function Ve(e,t,n){const r=Math.max(t-5,0);return k(n-e(r),t-r)}const He=.01,qe=2,$e=.005,We=.5;const Ke=12;function Ye(e,t){return e*Math.sqrt(1-t*t)}const Ge=["duration","bounce"],Je=["stiffness","damping","mass"];function Ze(e,t){return t.some((t=>void 0!==e[t]))}function Qe(e=.3,t=.3){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],s={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Ze(e,Je)&&Ze(e,Ge))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,o=2*B(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:1,stiffness:i,damping:o}}else{const n=function({duration:e=800,bounce:t=.3,velocity:n=0,mass:r=1}){let i,o;z(10);let a=1-t;a=B(.05,1,a),e=B(.01,10,V(e)),a<1?(i=t=>{const r=t*a,i=r*e;return.001-(r-n)/Ye(t,a)*Math.exp(-i)},o=t=>{const r=t*a*e,o=r*n+n,s=Math.pow(a,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=Ye(Math.pow(t,2),a);return(.001-i(t)>0?-1:1)*((o-s)*l)/c}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,o=t=>Math.exp(-t*e)*(e*e*(n-t)));const s=function(e,t,n){let r=n;for(let n=1;n<Ke;n++)r-=e(r)/t(r);return r}(i,o,5/e);if(e=z(e),isNaN(s))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(s,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...n,velocity:-V(n.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),g=a-o,y=V(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(r||(r=v?He:qe),i||(i=v?$e:We),m<1){const e=Ye(y,m);b=t=>{const n=Math.exp(-m*y*t);return a-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return a-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const w={calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)s.done=e>=d;else{let n=0===e?p:0;m<1&&(n=0===e?z(p):Ve(b,e,t));const o=Math.abs(n)<=r,l=Math.abs(a-t)<=i;s.done=o&&l}return s.value=s.done?a:t,s},toString:()=>{const e=Math.min(ze(w),Be),t=je((t=>w.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return w}function Xe({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:s,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},f=e=>void 0===s?l:void 0===l||Math.abs(s-e)<Math.abs(l-e)?s:l;let p=n*t;const m=d+p,g=void 0===a?m:a(m);g!==m&&(p=g-d);const y=e=>-p*Math.exp(-e/r),v=e=>g+y(e),b=e=>{const t=y(e),n=v(e);h.done=Math.abs(t)<=c,h.value=h.done?g:n};let w,x;const E=e=>{var t;t=h.value,(void 0!==s&&t<s||void 0!==l&&t>l)&&(w=e,x=Qe({keyframes:[h.value,f(h.value)],velocity:Ve(v,e,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:e=>{let t=!1;return x||void 0!==w||(t=!0,b(e),E(e)),void 0!==w&&e>=w?x.next(e-w):(!t&&b(e),h)}}}Qe.applyToOptions=e=>{const t=function(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(ze(r),Be);return{type:"keyframes",ease:e=>r.next(i*e).value/t,duration:V(i)}}(e,100,Qe);return e.ease=t.ease,e.duration=z(t.duration),e.type="keyframes",e};const et=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function tt(e,t,n,r){if(e===t&&n===r)return c;return i=>0===i||1===i?i:et(function(e,t,n,r,i){let o,a,s=0;do{a=t+(n-t)/2,o=et(a,r,i)-e,o>0?n=a:t=a}while(Math.abs(o)>1e-7&&++s<12);return a}(i,0,1,e,n),t,r)}const nt=tt(.42,0,1,1),rt=tt(0,0,.58,1),it=tt(.42,0,.58,1),ot=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,at=e=>t=>1-e(1-t),st=tt(.33,1.53,.69,.99),lt=at(st),ct=ot(lt),ut=e=>(e*=2)<1?.5*lt(e):.5*(2-Math.pow(2,-10*(e-1))),dt=e=>1-Math.sin(Math.acos(e)),ht=at(dt),ft=ot(dt),pt=e=>Array.isArray(e)&&"number"==typeof e[0],mt={linear:c,easeIn:nt,easeInOut:it,easeOut:rt,circIn:dt,circInOut:ft,circOut:ht,backIn:lt,backInOut:ct,backOut:st,anticipate:ut},gt=e=>{if(pt(e)){e.length;const[t,n,r,i]=e;return tt(t,n,r,i)}return"string"==typeof e?mt[e]:e},yt=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function vt({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(gt):gt(r),o={done:!1,value:t[0]},a=function(e,t){return e.map((e=>e*t))}(n&&n.length===t.length?n:function(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=yt(0,t,r);e.push(_e(n,1,i))}}(t,e.length-1),t}(t),e),s=function(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(t.length,1===o)return()=>t[0];if(2===o&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],i=n||u.mix||Le,o=e.length-1;for(let n=0;n<o;n++){let o=i(e[n],e[n+1]);if(t){const e=Array.isArray(t)?t[n]||c:t;o=j(e,o)}r.push(o)}return r}(t,r,i),l=s.length,d=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=yt(e[r],e[r+1],n);return s[r](i)};return n?t=>d(B(e[0],e[o-1],t)):d}(a,t,{ease:Array.isArray(i)?i:(l=t,d=i,l.map((()=>d||it)).splice(0,l.length-1))});var l,d;return{calculatedDuration:e,next:t=>(o.value=s(t),o.done=t>=e,o)}}const bt=e=>null!==e;function wt(e,{repeat:t,repeatType:n="loop"},r,i=1){const o=e.filter(bt),a=i<0||t&&"loop"!==n&&t%2==1?0:o.length-1;return a&&void 0!==r?r:o[a]}const xt={decay:Xe,inertia:Xe,tween:vt,keyframes:vt,spring:Qe};function Et(e){"string"==typeof e.type&&(e.type=xt[e.type])}class St{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise((e=>{this.resolve=e}))}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const kt=e=>e/100;class Ct extends St{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;if(e&&e.updatedAt!==T.now()&&this.tick(T.now()),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:t}=this.options;t&&t()},H.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Et(e);const{type:t=vt,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const s=t||vt;s!==vt&&"number"!=typeof a[0]&&(this.mixKeyframes=j(kt,Le(a[0],a[1])),a=[0,100]);const l=s({...e,keyframes:a});"mirror"===i&&(this.mirroredGenerator=s({...e,keyframes:[...a].reverse(),velocity:-o})),null===l.calculatedDuration&&(l.calculatedDuration=ze(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:s}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let v=this.currentTime,b=n;if(u){const e=Math.min(this.currentTime,r)/a;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1),Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/a)):"mirror"===d&&(b=o)),v=B(0,1,n)*a}const w=y?{done:!1,value:c[0]}:b.next(v);i&&(w.value=i(w.value));let{done:x}=w;y||null===s||(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const E=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return E&&f!==Xe&&(w.value=wt(c,this.options,m,this.speed)),p&&p(w.value),E&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return V(this.calculatedDuration)}get time(){return V(this.currentTime)}set time(e){e=z(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(T.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=V(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Fe,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(T.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,H.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}const _t=e=>180*e/Math.PI,Tt=e=>{const t=_t(Math.atan2(e[1],e[0]));return Nt(t)},At={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Tt,rotateZ:Tt,skewX:e=>_t(Math.atan(e[1])),skewY:e=>_t(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Nt=e=>((e%=360)<0&&(e+=360),e),It=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Pt=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Rt={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:It,scaleY:Pt,scale:e=>(It(e)+Pt(e))/2,rotateX:e=>Nt(_t(Math.atan2(e[6],e[5]))),rotateY:e=>Nt(_t(Math.atan2(-e[2],e[0]))),rotateZ:Tt,rotate:Tt,skewX:e=>_t(Math.atan(e[4])),skewY:e=>_t(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ot(e){return e.includes("scale")?1:0}function Dt(e,t){if(!e||"none"===e)return Ot(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Rt,i=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=At,i=t}if(!i)return Ot(t);const o=r[t],a=i[1].split(",").map(Mt);return"function"==typeof o?o(a):a[o]}function Mt(e){return parseFloat(e.trim())}const Ut=e=>e===G||e===ce,Lt=new Set(["x","y","z"]),Ft=v.filter((e=>!Lt.has(e))),jt={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Dt(t,"x"),y:(e,{transform:t})=>Dt(t,"y")};jt.translateX=jt.x,jt.translateY=jt.y;const Bt=new Set;let zt=!1,Vt=!1,Ht=!1;function qt(){if(Vt){const e=Array.from(Bt).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return Ft.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((([t,n])=>{e.getValue(t)?.set(n)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Vt=!1,zt=!1,Bt.forEach((e=>e.complete(Ht))),Bt.clear()}function $t(){Bt.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Vt=!0)}))}class Wt{constructor(e,t,n,r,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bt.add(this),zt||(zt=!0,p.read($t),p.resolveKeyframes(qt))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=r?.get(),o=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,o);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=o),r&&void 0===i&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}function Kt(e){let t;return()=>(void 0===t&&(t=e()),t)}const Yt=Kt((()=>void 0!==window.ScrollTimeline)),Gt={};function Jt(e,t){const n=Kt(e);return()=>Gt[t]??n()}const Zt=Jt((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing"),Qt=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Xt={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qt([0,.65,.55,1]),circOut:Qt([.55,0,1,.45]),backIn:Qt([.31,.01,.66,-.59]),backOut:Qt([.33,1.53,.69,.99])};function en(e,t){return e?"function"==typeof e?Zt()?je(e,t):"ease-out":pt(e)?Qt(e):Array.isArray(e)?e.map((e=>en(e,t)||Xt.easeOut)):Xt[e]:void 0}function tn(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:s="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const d=en(s,i);Array.isArray(d)&&(u.easing=d),h.value&&H.waapi++;const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:"reverse"===a?"alternate":"normal"};c&&(f.pseudoElement=c);const p=e.animate(u,f);return h.value&&p.finished.finally((()=>{H.waapi--})),p}function nn(e){return"function"==typeof e&&"applyToOptions"in e}class rn extends St{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:s}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=o,this.options=e,e.type;const l=function({type:e,...t}){return nn(e)&&Zt()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=tn(t,n,r,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=wt(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}s?.(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return V(Number(e))}get time(){return V(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=z(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Yt()?(this.animation.timeline=e,c):t(this)}}const on={anticipate:ut,backInOut:ct,circInOut:ft};class an extends rn{constructor(e){var t;"string"==typeof(t=e).ease&&t.ease in on&&(t.ease=on[t.ease]),Et(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:i,...o}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const a=new Ct({...o,autoplay:!1}),s=z(this.finishedTime??this.time);t.setWithVelocity(a.sample(s-10).value,a.sample(s).value,10),a.stop()}}const sn=(e,t)=>!("zIndex"===t||"number"!=typeof e&&!Array.isArray(e)&&("string"!=typeof e||!Se.test(e)&&"0"!==e||e.startsWith("url("))),ln=new Set(["opacity","clipPath","filter","transform"]),cn=Kt((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));class un extends St{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:s,motionValue:l,element:c,...u}){super(),this.stop=()=>{this._animation?(this._animation.stop(),this.stopTimeline?.()):this.keyframeResolver?.cancel()},this.createdAt=T.now();const d={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:o,name:s,motionValue:l,element:c,...u},h=c?.KeyframeResolver||Wt;this.keyframeResolver=new h(a,((e,t,n)=>this.onKeyframesResolved(e,t,d,!n)),s,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:s,isHandoff:l,onUpdate:d}=n;this.resolvedAt=T.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const o=e[e.length-1],a=sn(i,t),s=sn(o,t);return!(!a||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||nn(n))&&r)}(e,i,o,a)||(!u.instantAnimations&&s||d?.(wt(e,n,t)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const h={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},f=!l&&function(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=e;if(!(t&&t.owner&&t.owner.current instanceof HTMLElement))return!1;const{onUpdate:s,transformTemplate:l}=t.owner.getProps();return cn()&&n&&ln.has(n)&&("transform"!==n||!l)&&!s&&!r&&"mirror"!==i&&0!==o&&"inertia"!==a}(h)?new an({...h,element:h.motionValue.owner.current}):new Ct(h);f.finished.then((()=>this.notifyFinished())).catch(c),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then((()=>{}))}get animation(){return this._animation||(Ht=!0,$t(),qt(),Ht=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const dn=e=>null!==e,hn={type:"spring",stiffness:500,damping:25,restSpeed:10},fn={type:"keyframes",duration:.8},pn={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mn=(e,t,n,r={},i,o)=>a=>{const s=l(r,e)||{},c=s.delay||r.delay||0;let{elapsed:d=0}=r;d-=z(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-d,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:o?void 0:i};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:s,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(s)||Object.assign(h,((e,{keyframes:t})=>t.length>2?fn:b.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:hn:pn)(e,h)),h.duration&&(h.duration=z(h.duration)),h.repeatDelay&&(h.repeatDelay=z(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let f=!1;if((!1===h.type||0===h.duration&&!h.repeatDelay)&&(h.duration=0,0===h.delay&&(f=!0)),(u.instantAnimations||u.skipAnimations)&&(f=!0,h.duration=0,h.delay=0),h.allowFlatten=!s.type&&!s.ease,f&&!o&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(dn),o=t&&"loop"!==n&&t%2==1?0:i.length-1;return o&&void 0!==r?r:i[o]}(h.keyframes,s);if(void 0!==e)return void p.update((()=>{h.onUpdate(e),h.onComplete()}))}return new un(h)};function gn({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function yn(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...c}=t;r&&(o=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const t in c){const r=e.getValue(t,e.latestValues[t]??null),i=c[t];if(void 0===i||d&&gn(d,t))continue;const a={delay:n,...l(o||{},t)},s=r.get();if(void 0!==s&&!r.isAnimating&&!Array.isArray(i)&&i===s&&!a.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){const n=L(e);if(n){const e=window.MotionHandoffAnimation(n,t,p);null!==e&&(a.startTime=e,h=!0)}}D(e,t),r.start(mn(t,r,i,e.shouldReduceMotion&&w.has(t)?{type:!1}:a,e,h));const f=r.animation;f&&u.push(f)}return a&&Promise.all(u).then((()=>{p.update((()=>{a&&function(e,t){const n=s(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const t in o)R(e,t,(a=o[t],P(a)?a[a.length-1]||0:a));var a}(e,a)}))})),u}function vn(e,t,n={}){const r=s(e,t,"exit"===n.type?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(yn(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return function(e,t,n=0,r=0,i=1,o){const a=[],s=(e.variantChildren.size-1)*r,l=1===i?(e=0)=>e*r:(e=0)=>s-e*r;return Array.from(e.variantChildren).sort(bn).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(vn(e,t,{...o,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,o+r,a,s,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[o,a]:[a,o];return e().then((()=>t()))}return Promise.all([o(),a(n.delay)])}function bn(e,t){return e.sortNodePosition(t)}function wn(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function xn(e){return"string"==typeof e||Array.isArray(e)}const En=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sn=["initial",...En],kn=Sn.length;function Cn(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Cn(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<kn;n++){const r=Sn[n],i=e.props[r];(xn(i)||!1===i)&&(t[r]=i)}return t}const _n=[...En].reverse(),Tn=En.length;function An(e){let t=function(e){return t=>Promise.all(t.map((({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>vn(e,t,n)));r=Promise.all(i)}else if("string"==typeof t)r=vn(e,t,n);else{const i="function"==typeof t?s(e,t,n.custom):t;r=Promise.all(yn(e,i,n))}return r.then((()=>{e.notify("AnimationComplete",t)}))}(e,t,n))))}(e),n=In(),r=!0;const o=t=>(n,r)=>{const i=s(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(i){const{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function a(a){const{props:l}=e,c=Cn(e.parent)||{},u=[],d=new Set;let h={},f=1/0;for(let t=0;t<Tn;t++){const s=_n[t],g=n[s],y=void 0!==l[s]?l[s]:c[s],v=xn(y),b=s===a?g.isActive:null;!1===b&&(f=t);let w=y===c[s]&&y!==l[s]&&v;if(w&&r&&e.manuallyAnimateOnMount&&(w=!1),g.protectedKeys={...h},!g.isActive&&null===b||!y&&!g.prevProp||i(y)||"boolean"==typeof y)continue;const x=(p=g.prevProp,"string"==typeof(m=y)?m!==p:!!Array.isArray(m)&&!wn(m,p));let E=x||s===a&&g.isActive&&!w&&v||t>f&&v,S=!1;const k=Array.isArray(y)?y:[y];let C=k.reduce(o(s),{});!1===b&&(C={});const{prevResolvedValues:_={}}=g,T={..._,...C},A=t=>{E=!0,d.has(t)&&(S=!0,d.delete(t)),g.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in T){const t=C[e],n=_[e];if(h.hasOwnProperty(e))continue;let r=!1;r=P(t)&&P(n)?!wn(t,n):t!==n,r?null!=t?A(e):d.add(e):void 0!==t&&d.has(e)?A(e):g.protectedKeys[e]=!0}g.prevProp=y,g.prevResolvedValues=C,g.isActive&&(h={...h,...C}),r&&e.blockInitialAnimation&&(E=!1),E&&(!w||!x||S)&&u.push(...k.map((e=>({animation:e,options:{type:s}}))))}var p,m;if(d.size){const t={};if("boolean"!=typeof l.initial){const n=s(e,Array.isArray(l.initial)?l.initial[0]:l.initial);n&&n.transition&&(t.transition=n.transition)}d.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=r??null})),u.push({animation:t})}let g=Boolean(u.length);return!r||!1!==l.initial&&l.initial!==l.animate||e.manuallyAnimateOnMount||(g=!1),r=!1,g?t(u):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach((e=>e.animationState?.setActive(t,r))),n[t].isActive=r;const i=a(t);for(const e in n)n[e].protectedKeys={};return i},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=In(),r=!0}}}function Nn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function In(){return{animate:Nn(!0),whileInView:Nn(),whileHover:Nn(),whileTap:Nn(),whileDrag:Nn(),whileFocus:Nn(),exit:Nn()}}class Pn{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Rn=0;const On={animation:{Feature:class extends Pn{constructor(e){super(e),e.animationState||(e.animationState=An(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();i(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends Pn{constructor(){super(...arguments),this.id=Rn++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},Dn={x:!1,y:!1};function Mn(){return Dn.x||Dn.y}function Un(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Ln=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function Fn(e){return{point:{x:e.pageX,y:e.pageY}}}function jn(e,t,n,r){return Un(e,t,(e=>t=>Ln(t)&&e(t,Fn(t)))(n),r)}function Bn({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function zn(e){return e.max-e.min}function Vn(e,t,n,r=.5){e.origin=r,e.originPoint=_e(t.min,t.max,e.origin),e.scale=zn(n)/zn(t),e.translate=_e(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Hn(e,t,n,r){Vn(e.x,t.x,n.x,r?r.originX:void 0),Vn(e.y,t.y,n.y,r?r.originY:void 0)}function qn(e,t,n){e.min=n.min+t.min,e.max=e.min+zn(t)}function $n(e,t,n){e.min=t.min-n.min,e.max=e.min+zn(t)}function Wn(e,t,n){$n(e.x,t.x,n.x),$n(e.y,t.y,n.y)}const Kn=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Yn(e){return[e("x"),e("y")]}function Gn(e){return void 0===e||1===e}function Jn({scale:e,scaleX:t,scaleY:n}){return!Gn(e)||!Gn(t)||!Gn(n)}function Zn(e){return Jn(e)||Qn(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Qn(e){return Xn(e.x)||Xn(e.y)}function Xn(e){return e&&"0%"!==e}function er(e,t,n){return n+t*(e-n)}function tr(e,t,n,r,i){return void 0!==i&&(e=er(e,i,r)),er(e,n,r)+t}function nr(e,t=0,n=1,r,i){e.min=tr(e.min,t,n,r,i),e.max=tr(e.max,t,n,r,i)}function rr(e,{x:t,y:n}){nr(e.x,t.translate,t.scale,t.originPoint),nr(e.y,n.translate,n.scale,n.originPoint)}const ir=.999999999999,or=1.0000000000001;function ar(e,t){e.min=e.min+t,e.max=e.max+t}function sr(e,t,n,r,i=.5){nr(e,t,n,_e(e.min,e.max,i),r)}function lr(e,t){sr(e.x,t.x,t.scaleX,t.scale,t.originX),sr(e.y,t.y,t.scaleY,t.scale,t.originY)}function cr(e,t){return Bn(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const ur=({current:e})=>e?e.ownerDocument.defaultView:null;function dr(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const hr=(e,t)=>Math.abs(e-t);class fr{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=gr(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=hr(e.x,t.x),r=hr(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=g;this.history.push({...r,timestamp:i});const{onStart:o,onMove:a}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=pr(t,this.transformPagePoint),p.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=gr("pointercancel"===e.type?this.lastMoveEventInfo:pr(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!Ln(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const o=pr(Fn(e),this.transformPagePoint),{point:a}=o,{timestamp:s}=g;this.history=[{...a,timestamp:s}];const{onSessionStart:l}=t;l&&l(e,gr(o,this.history)),this.removeListeners=j(jn(this.contextWindow,"pointermove",this.handlePointerMove),jn(this.contextWindow,"pointerup",this.handlePointerUp),jn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),m(this.updatePoint)}}function pr(e,t){return t?{point:t(e.point)}:e}function mr(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gr({point:e},t){return{point:e,delta:mr(e,vr(t)),offset:mr(e,yr(t)),velocity:br(t,.1)}}function yr(e){return e[0]}function vr(e){return e[e.length-1]}function br(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=vr(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>z(t)));)n--;if(!r)return{x:0,y:0};const o=V(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function wr(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function xr(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Er=.35;function Sr(e,t,n){return{min:kr(e,t),max:kr(e,n)}}function kr(e,t){return"number"==typeof e?e:e[t]||0}const Cr=new WeakMap;class _r{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new fr(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Fn(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(o=n)||"y"===o?Dn[o]?null:(Dn[o]=!0,()=>{Dn[o]=!1}):Dn.x||Dn.y?null:(Dn.x=Dn.y=!0,()=>{Dn.x=Dn.y=!1}),!this.openDragLock))return;var o;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn((e=>{let t=this.getAxisMotionValue(e).get()||0;if(le.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];r&&(t=zn(r)*(parseFloat(t)/100))}}this.originPoint[e]=t})),i&&p.postRender((()=>i(e,t))),D(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Yn((e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:ur(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&p.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Tr(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?_e(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?_e(n,e,r.max):Math.min(e,n)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&dr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,{top:t,left:n,bottom:r,right:i}){return{x:wr(e.x,n,i),y:wr(e.y,t,r)}}(n.layoutBox,e),this.elastic=function(e=Er){return!1===e?e=0:!0===e&&(e=Er),{x:Sr(e,"left","right"),y:Sr(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Yn((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!dr(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=cr(e,n),{scroll:i}=t;return i&&(ar(r.x,i.offset.x),ar(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:xr(e.x,t.x),y:xr(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=Bn(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=Yn((a=>{if(!Tr(a,t,this.currentDirection))return;let l=s&&s[a]||{};o&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,d)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return D(this.visualElement,e),n.start(mn(e,n,0,t,this.visualElement,!1))}stopAnimation(){Yn((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Yn((e=>this.getAxisMotionValue(e).animation?.pause()))}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Yn((t=>{const{drag:n}=this.getProps();if(!Tr(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-_e(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!dr(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Yn((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=zn(e),i=zn(t);return i>r?n=yt(t.min,t.max-r,e.min):r>i&&(n=yt(e.min,e.max-i,t.min)),B(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Yn((t=>{if(!Tr(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(_e(i,o,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Cr.set(this.visualElement,this);const e=jn(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();dr(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),p.read(t);const i=Un(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Yn((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Er,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Tr(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const Ar=e=>(t,n)=>{e&&p.postRender((()=>e(t,n)))};var Nr=n(7671);const{schedule:Ir,cancel:Pr}=f(queueMicrotask,!1);var Rr=n(9471),Or=n(663),Dr=n(6936);const Mr=(0,Rr.createContext)({}),Ur={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lr(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Fr={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!ce.test(e))return e;e=parseFloat(e)}return`${Lr(e,t.target.x)}% ${Lr(e,t.target.y)}%`}},jr={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Se.parse(e);if(i.length>5)return r;const o=Se.createTransformer(e),a="number"!=typeof i[0]?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;i[0+a]/=s,i[1+a]/=l;const c=_e(s,l,.5);return"number"==typeof i[2+a]&&(i[2+a]/=c),"number"==typeof i[3+a]&&(i[3+a]/=c),o(i)}},Br={};class zr extends Rr.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)Br[t]=e[t],$(t)&&(Br[t].isCSSVariable=!0)}(Hr),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ur.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:o}=n;return o?(o.isPresent=i,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||p.postRender((()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ir.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Vr(e){const[t,n]=(0,Or.xQ)(),r=(0,Rr.useContext)(Dr.L);return(0,Nr.jsx)(zr,{...e,layoutGroup:r,switchLayoutGroup:(0,Rr.useContext)(Mr),isPresent:t,safeToRemove:n})}const Hr={borderRadius:{...Fr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fr,borderTopRightRadius:Fr,borderBottomLeftRadius:Fr,borderBottomRightRadius:Fr,boxShadow:jr},qr=(e,t)=>e.depth-t.depth;class $r{constructor(){this.children=[],this.isDirty=!1}add(e){x(this.children,e),this.isDirty=!0}remove(e){E(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qr),this.isDirty=!1,this.children.forEach(e)}}function Wr(e){return O(e)?e.get():e}const Kr=["TopLeft","TopRight","BottomLeft","BottomRight"],Yr=Kr.length,Gr=e=>"string"==typeof e?parseFloat(e):e,Jr=e=>"number"==typeof e||ce.test(e);function Zr(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Qr=ei(0,.5,ht),Xr=ei(.5,.95,c);function ei(e,t,n){return r=>r<e?0:r>t?1:n(yt(e,t,r))}function ti(e,t){e.min=t.min,e.max=t.max}function ni(e,t){ti(e.x,t.x),ti(e.y,t.y)}function ri(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ii(e,t,n,r,i){return e=er(e-=t,1/n,r),void 0!==i&&(e=er(e,1/i,r)),e}function oi(e,t,[n,r,i],o,a){!function(e,t=0,n=1,r=.5,i,o=e,a=e){if(le.test(t)&&(t=parseFloat(t),t=_e(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let s=_e(o.min,o.max,r);e===o&&(s-=t),e.min=ii(e.min,t,n,s,i),e.max=ii(e.max,t,n,s,i)}(e,t[n],t[r],t[i],t.scale,o,a)}const ai=["x","scaleX","originX"],si=["y","scaleY","originY"];function li(e,t,n,r){oi(e.x,t,ai,n?n.x:void 0,r?r.x:void 0),oi(e.y,t,si,n?n.y:void 0,r?r.y:void 0)}function ci(e){return 0===e.translate&&1===e.scale}function ui(e){return ci(e.x)&&ci(e.y)}function di(e,t){return e.min===t.min&&e.max===t.max}function hi(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function fi(e,t){return hi(e.x,t.x)&&hi(e.y,t.y)}function pi(e){return zn(e.x)/zn(e.y)}function mi(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class gi{constructor(){this.members=[]}add(e){x(this.members,e),e.scheduleRender()}remove(e){if(E(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let e=t;e>=0;e--){const t=this.members[e];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const yi={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},vi=["","X","Y","Z"],bi={visibility:"hidden"};let wi=0;function xi(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ei(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=L(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",p,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ei(r)}function Si({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=t?.()){this.id=wi++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,h.value&&(yi.nodes=yi.calculatedTargetDeltas=yi.calculatedProjections=0),this.nodes.forEach(_i),this.nodes.forEach(Oi),this.nodes.forEach(Di),this.nodes.forEach(Ti),h.addProjectionMetrics&&h.addProjectionMetrics(yi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new $r)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new S),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;var n;this.isSVG=(n=t)instanceof SVGElement&&"svg"!==n.tagName,this.instance=t;const{layoutId:r,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=T.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(m(r),e(o-t))};return p.setup(r,!0),()=>m(r)}(r,250),Ur.hasAnimatedSinceResize&&(Ur.hasAnimatedSinceResize=!1,this.nodes.forEach(Ri))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||i)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||o.getDefaultTransition()||Bi,{onLayoutAnimationStart:a,onLayoutAnimationComplete:s}=o.getProps(),c=!this.targetLayout||!fi(this.targetLayout,r),u=!t&&n;if(this.options.layoutRoot||this.resumeFrom||u||t&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);const t={...l(i,"layout"),onPlay:a,onComplete:s};(o.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||Ri(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),m(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Mi),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ei(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){const t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Ni);this.isUpdating||this.nodes.forEach(Ii),this.isUpdating=!1,this.nodes.forEach(Pi),this.nodes.forEach(ki),this.nodes.forEach(Ci),this.clearAllSnapshots();const e=T.now();g.delta=B(0,1e3/60,e-g.timestamp),g.timestamp=e,g.isProcessing=!0,y.update.process(g),y.preRender.process(g),y.render.process(g),g.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ir.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ai),this.sharedNodes.forEach(Ui)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,p.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){p.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||zn(this.snapshot.measuredBox.x)||zn(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!ui(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Zn(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Hi((r=n).x),Hi(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!this.scroll?.wasRoot&&!this.path.some($i)){const{scroll:e}=this.root;e&&(ar(t.x,e.offset.x),ar(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(ni(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:o}=r;r!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&ni(t,e),ar(t.x,i.offset.x),ar(t.y,i.offset.y))}return t}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};ni(n,e);for(let e=0;e<this.path.length;e++){const r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&lr(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),Zn(r.latestValues)&&lr(n,r.latestValues)}return Zn(this.latestValues)&&lr(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};ni(t,e);for(let e=0;e<this.path.length;e++){const n=this.path[e];if(!n.instance)continue;if(!Zn(n.latestValues))continue;Jn(n.latestValues)&&n.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};ni(r,n.measurePageBox()),li(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return Zn(this.latestValues)&&li(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==g.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:i}=this.options;if(this.layout&&(r||i)){if(this.resolvedRelativeTargetAt=g.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Wn(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,s;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,s=this.relativeParent.target,qn(o.x,a.x,s.x),qn(o.y,a.y,s.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ni(this.target,this.layout.layoutBox),rr(this.target,this.targetDelta)):ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Wn(this.relativeTargetOrigin,this.target,e.target),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}h.value&&yi.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Jn(this.parent.latestValues)&&!Qn(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===g.timestamp&&(n=!1),n)return;const{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!i)return;ni(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n,r=!1){const i=n.length;if(!i)return;let o,a;t.x=t.y=1;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const{visualElement:i}=o.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&lr(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,rr(e,a)),r&&Zn(o.latestValues)&&lr(e,o.latestValues))}t.x<or&&t.x>ir&&(t.x=1),t.y<or&&t.y>ir&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:s}=e;s?(this.projectionDelta&&this.prevProjectionDelta?(ri(this.prevProjectionDelta.x,this.projectionDelta.x),ri(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Hn(this.projectionDelta,this.layoutCorrected,s,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&mi(this.projectionDelta.x,this.prevProjectionDelta.x)&&mi(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",s)),h.value&&yi.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(ji));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,f,p,m,g;Li(o.x,e.x,n),Li(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wn(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=a,g=n,Fi(f.x,p.x,m.x,g),Fi(f.y,p.y,m.y,g),d&&(l=this.relativeTarget,h=d,di(l.x,h.x)&&di(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),ni(d,this.relativeTarget)),s&&(this.animationValues=i,function(e,t,n,r,i,o){i?(e.opacity=_e(0,n.opacity??1,Qr(r)),e.opacityExit=_e(t.opacity??1,0,Xr(r))):o&&(e.opacity=_e(t.opacity??1,n.opacity??1,r));for(let i=0;i<Yr;i++){const o=`border${Kr[i]}Radius`;let a=Zr(t,o),s=Zr(n,o);void 0===a&&void 0===s||(a||(a=0),s||(s=0),0===a||0===s||Jr(a)===Jr(s)?(e[o]=Math.max(_e(Gr(a),Gr(s),r),0),(le.test(s)||le.test(a))&&(e[o]+="%")):e[o]=s)}(t.rotate||n.rotate)&&(e.rotate=_e(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(m(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=p.update((()=>{Ur.hasAnimatedSinceResize=!0,H.layout++,this.currentAnimation=function(e,t,n){const r=O(0)?0:I(0);return r.start(mn("",r,1e3,n)),r.animation}(0,0,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{H.layout--},onComplete:()=>{H.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&qi(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=zn(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=zn(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}ni(t,n),lr(t,i),Hn(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new gi),this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&xi("z",e,r,this.animationValues);for(let t=0;t<vi.length;t++)xi(`rotate${vi[t]}`,e,r,this.animationValues),xi(`skew${vi[t]}`,e,r,this.animationValues);e.render();for(const t in r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return bi;const t={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=Wr(e?.pointerEvents)||"",t.transform=n?n(this.latestValues,""):"none",t;const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Wr(e?.pointerEvents)||""),this.hasProjected&&!Zn(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}const i=r.animationValues||r.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,a=n?.z||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:o,skewX:a,skewY:s}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),o&&(r+=`rotateY(${o}deg) `),a&&(r+=`skewX(${a}deg) `),s&&(r+=`skewY(${s}deg) `)}const s=e.x.scale*t.x,l=e.y.scale*t.y;return 1===s&&1===l||(r+=`scale(${s}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i),n&&(t.transform=n(i,t.transform));const{x:o,y:a}=this.projectionDelta;t.transformOrigin=`${100*o.origin}% ${100*a.origin}% 0`,r.animationValues?t.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:t.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const e in Br){if(void 0===i[e])continue;const{correct:n,applyTo:o,isCSSVariable:a}=Br[e],s="none"===t.transform?i[e]:n(i[e],r);if(o){const e=o.length;for(let n=0;n<e;n++)t[o[n]]=s}else a?this.options.visualElement.renderState.vars[e]=s:t[e]=s}return this.options.layoutId&&(t.pointerEvents=r===this?Wr(e?.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>e.currentAnimation?.stop())),this.root.nodes.forEach(Ni),this.root.sharedNodes.clear()}}}function ki(e){e.updateLayout()}function Ci(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;"size"===i?Yn((e=>{const r=o?t.measuredBox[e]:t.layoutBox[e],i=zn(r);r.min=n[e].min,r.max=r.min+i})):qi(i,t.layoutBox,n)&&Yn((r=>{const i=o?t.measuredBox[r]:t.layoutBox[r],a=zn(n[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Hn(a,n,t.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?Hn(s,e.applyTransform(r,!0),t.measuredBox):Hn(s,n,t.layoutBox);const l=!ui(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const a={x:{min:0,max:0},y:{min:0,max:0}};Wn(a,t.layoutBox,i.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};Wn(s,n,o.layoutBox),fi(a,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function _i(e){h.value&&yi.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ti(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ai(e){e.clearSnapshot()}function Ni(e){e.clearMeasurements()}function Ii(e){e.isLayoutDirty=!1}function Pi(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ri(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Oi(e){e.resolveTargetDelta()}function Di(e){e.calcProjection()}function Mi(e){e.resetSkewAndRotation()}function Ui(e){e.removeLeadSnapshot()}function Li(e,t,n){e.translate=_e(t.translate,0,n),e.scale=_e(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Fi(e,t,n,r){e.min=_e(t.min,n.min,r),e.max=_e(t.max,n.max,r)}function ji(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Bi={duration:.45,ease:[.4,0,.1,1]},zi=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Vi=zi("applewebkit/")&&!zi("chrome/")?Math.round:c;function Hi(e){e.min=Vi(e.min),e.max=Vi(e.max)}function qi(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=pi(t),i=pi(n),!(Math.abs(r-i)<=.2));var r,i}function $i(e){return e!==e.root&&e.scroll?.wasRoot}const Wi=Si({attachResizeListener:(e,t)=>Un(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ki={current:void 0},Yi=Si({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ki.current){const e=new Wi({});e.mount(window),e.setOptions({layoutScroll:!0}),Ki.current=e}return Ki.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Gi={pan:{Feature:class extends Pn{constructor(){super(...arguments),this.removePointerDownListener=c}onPointerDown(e){this.session=new fr(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ur(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ar(e),onStart:Ar(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&p.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=jn(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Pn{constructor(e){super(e),this.removeGroupControls=c,this.removeListeners=c,this.controls=new _r(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||c}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Yi,MeasureLayout:Vr}};function Ji(e,t){const n=function(e){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document;const n=t.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Zi(e){return!("touch"===e.pointerType||Mn())}function Qi(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&p.postRender((()=>i(t,Fn(t))))}const Xi=(e,t)=>!!t&&(e===t||Xi(e,t.parentElement)),eo=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),to=new WeakSet;function no(e){return t=>{"Enter"===t.key&&e(t)}}function ro(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function io(e){return Ln(e)&&!Mn()}function oo(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&p.postRender((()=>i(t,Fn(t))))}const ao=new WeakMap,so=new WeakMap,lo=e=>{const t=ao.get(e.target);t&&t(e)},co=e=>{e.forEach(lo)};const uo={some:0,all:1},ho={inView:{Feature:class extends Pn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:uo[r]};return function(e,t,n){const r=function({root:e,...t}){const n=e||document;so.has(n)||so.set(n,{});const r=so.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(co,{root:e,...t})),r[i]}(t);return ao.set(e,n),r.observe(e),()=>{ao.delete(e),r.unobserve(e)}}(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Pn{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,i,o]=Ji(e,n),a=e=>{const r=e.currentTarget;if(!io(e)||to.has(r))return;to.add(r);const o=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",l),to.has(r)&&to.delete(r),io(e)&&"function"==typeof o&&o(e,{success:t})},s=e=>{a(e,r===window||r===document||n.useGlobalTarget||Xi(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",s,i),window.addEventListener("pointercancel",l,i)};return r.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,i),e instanceof HTMLElement&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=no((()=>{if(to.has(n))return;ro(n,"down");const e=no((()=>{ro(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>ro(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,i))),t=e,eo.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),o}(e,((e,t)=>(oo(this.node,t,"Start"),(e,{success:t})=>oo(this.node,e,t?"End":"Cancel"))),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Pn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=j(Un(this.node.current,"focus",(()=>this.onFocus())),Un(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Pn{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,i,o]=Ji(e,n),a=e=>{if(!Zi(e))return;const{target:n}=e,r=t(n,e);if("function"!=typeof r||!n)return;const o=e=>{Zi(e)&&(r(e),n.removeEventListener("pointerleave",o))};n.addEventListener("pointerleave",o,i)};return r.forEach((e=>{e.addEventListener("pointerenter",a,i)})),o}(e,((e,t)=>(Qi(this.node,t,"Start"),e=>Qi(this.node,e,"End")))))}unmount(){}}}},fo={layout:{ProjectionNode:Yi,MeasureLayout:Vr}},po=(0,Rr.createContext)({strict:!1});var mo=n(1097);const go=(0,Rr.createContext)({});function yo(e){return i(e.animate)||Sn.some((t=>xn(e[t])))}function vo(e){return Boolean(yo(e)||e.variants)}function bo(e){return Array.isArray(e)?e.join(" "):e}var wo=n(3025);const xo={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Eo={};for(const e in xo)Eo[e]={isEnabled:t=>xo[e].some((e=>!!t[e]))};const So=Symbol.for("motionComponentSymbol");function ko(e,t,n){return(0,Rr.useCallback)((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):dr(n)&&(n.current=r))}),[t])}var Co=n(3328),_o=n(4491);function To(e,t,n,r,i){const{visualElement:o}=(0,Rr.useContext)(go),a=(0,Rr.useContext)(po),s=(0,Rr.useContext)(Co.t),l=(0,Rr.useContext)(mo.Q).reducedMotion,c=(0,Rr.useRef)(null);r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:l}));const u=c.current,d=(0,Rr.useContext)(Mr);!u||u.projection||!i||"html"!==u.type&&"svg"!==u.type||function(e,t,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Ao(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:Boolean(a)||s&&dr(s),visualElement:e,animationType:"string"==typeof o?o:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(c.current,n,i,d);const h=(0,Rr.useRef)(!1);(0,Rr.useInsertionEffect)((()=>{u&&h.current&&u.update(n,s)}));const f=n[U],p=(0,Rr.useRef)(Boolean(f)&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return(0,_o.E)((()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Ir.render(u.render),p.current&&u.animationState&&u.animationState.animateChanges())})),(0,Rr.useEffect)((()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask((()=>{window.MotionHandoffMarkAsComplete?.(f)})),p.current=!1))})),u}function Ao(e){if(e)return!1!==e.options.allowProjection?e.projection:Ao(e.parent)}function No({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){function o(e,o){let a;const s={...(0,Rr.useContext)(mo.Q),...e,layoutId:Io(e)},{isStatic:l}=s,c=function(e){const{initial:t,animate:n}=function(e,t){if(yo(e)){const{initial:t,animate:n}=e;return{initial:!1===t||xn(t)?t:void 0,animate:xn(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,Rr.useContext)(go));return(0,Rr.useMemo)((()=>({initial:t,animate:n})),[bo(t),bo(n)])}(e),u=r(e,l);if(!l&&wo.B){(0,Rr.useContext)(po).strict;const e=function(e){const{drag:t,layout:n}=Eo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(s);a=e.MeasureLayout,c.visualElement=To(i,u,s,t,e.ProjectionNode)}return(0,Nr.jsxs)(go.Provider,{value:c,children:[a&&c.visualElement?(0,Nr.jsx)(a,{visualElement:c.visualElement,...s}):null,n(i,e,ko(u,c.visualElement,o),u,l,c.visualElement)]})}e&&function(e){for(const t in e)Eo[t]={...Eo[t],...e[t]}}(e),o.displayName=`motion.${"string"==typeof i?i:`create(${i.displayName??i.name??""})`}`;const a=(0,Rr.forwardRef)(o);return a[So]=i,a}function Io({layoutId:e}){const t=(0,Rr.useContext)(Dr.L).id;return t&&void 0!==e?t+"-"+e:e}function Po(e,{layout:t,layoutId:n}){return b.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!Br[e]||"opacity"===e)}const Ro=(e,t)=>t&&"number"==typeof e?t.transform(e):e,Oo={...G,transform:Math.round},Do={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce,rotate:se,rotateX:se,rotateY:se,rotateZ:se,scale:Z,scaleX:Z,scaleY:Z,scaleZ:Z,skew:se,skewX:se,skewY:se,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:J,originX:he,originY:he,originZ:ce,zIndex:Oo,fillOpacity:J,strokeOpacity:J,numOctaves:Oo},Mo={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Uo=v.length;function Lo(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let a=!1,s=!1;for(const e in t){const n=t[e];if(b.has(e))a=!0;else if($(e))i[e]=n;else{const t=Ro(n,Do[e]);e.startsWith("origin")?(s=!0,o[e]=t):r[e]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",i=!0;for(let o=0;o<Uo;o++){const a=v[o],s=e[a];if(void 0===s)continue;let l=!0;if(l="number"==typeof s?s===(a.startsWith("scale")?1:0):0===parseFloat(s),!l||n){const e=Ro(s,Do[a]);l||(i=!1,r+=`${Mo[a]||a}(${e}) `),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;r.transformOrigin=`${e} ${t} ${n}`}}function Fo(e,t,n){for(const r in t)O(t[r])||Po(r,n)||(e[r]=t[r])}function jo(e,t){const n={},r=function(e,t){const n={};return Fo(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return(0,Rr.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return Lo(n,t,e),Object.assign({},n.vars,n.style)}),[t])}(e,t)),n}(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Bo=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zo(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Bo.has(e)}let Vo=e=>!zo(e);try{(Ho=require("@emotion/is-prop-valid").default)&&(Vo=e=>e.startsWith("on")?!zo(e):Ho(e))}catch{}var Ho;const qo=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $o(e){return"string"==typeof e&&!e.includes("-")&&!!(qo.indexOf(e)>-1||/[A-Z]/u.test(e))}const Wo={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ko={offset:"strokeDashoffset",array:"strokeDasharray"};function Yo(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:a=0,...s},l,c,u){if(Lo(e,s,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=u?.transformBox??"fill-box",delete d.transformBox),void 0!==t&&(d.x=t),void 0!==n&&(d.y=n),void 0!==r&&(d.scale=r),void 0!==i&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?Wo:Ko;e[o.offset]=ce.transform(-r);const a=ce.transform(t),s=ce.transform(n);e[o.array]=`${a} ${s}`}(d,i,o,a,!1)}const Go=e=>"string"==typeof e&&"svg"===e.toLowerCase();function Jo(e,t,n,r){const i=(0,Rr.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Yo(n,t,Go(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};Fo(t,e.style,e),i.style={...t,...i.style}}return i}function Zo(e=!1){return(t,n,r,{latestValues:i},o)=>{const a=($o(t)?Jo:jo)(n,i,o,t),s=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"==typeof e.values||(Vo(i)||!0===n&&zo(i)||!t&&!zo(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"==typeof t,e),l=t!==Rr.Fragment?{...s,...a,ref:r}:{},{children:c}=n,u=(0,Rr.useMemo)((()=>O(c)?c.get():c),[c]);return(0,Rr.createElement)(t,{...l,children:u})}}var Qo=n(6728);const Xo=e=>(t,n)=>{const r=(0,Rr.useContext)(go),i=(0,Rr.useContext)(Co.t),o=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:ea(n,r,i,e),renderState:t()}}(e,t,r,i);return n?o():(0,Qo.M)(o)};function ea(e,t,n,r){const o={},s=r(e,{});for(const e in s)o[e]=Wr(s[e]);let{initial:l,animate:c}=e;const u=yo(e),d=vo(e);t&&d&&!u&&!1!==e.inherit&&(void 0===l&&(l=t.initial),void 0===c&&(c=t.animate));let h=!!n&&!1===n.initial;h=h||!1===l;const f=h?c:l;if(f&&"boolean"!=typeof f&&!i(f)){const t=Array.isArray(f)?f:[f];for(let n=0;n<t.length;n++){const r=a(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const e in n){let t=n[e];Array.isArray(t)&&(t=t[h?t.length-1:0]),null!==t&&(o[e]=t)}for(const t in e)o[t]=e[t]}}}return o}function ta(e,t,n){const{style:r}=e,i={};for(const o in r)(O(r[o])||t.style&&O(t.style[o])||Po(o,e)||void 0!==n?.getValue(o)?.liveStyle)&&(i[o]=r[o]);return i}const na={useVisualState:Xo({scrapeMotionValuesFromProps:ta,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{}})})};function ra(e,t,n){const r=ta(e,t,n);for(const n in e)(O(e[n])||O(t[n]))&&(r[-1!==v.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=e[n]);return r}const ia={useVisualState:Xo({scrapeMotionValuesFromProps:ra,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}})})};function oa(e,t){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){return No({...$o(n)?ia:na,preloadedFeatures:e,useRender:Zo(r),createVisualElement:t,Component:n})}}const aa=e=>t=>t.test(e),sa=[G,ce,le,se,de,ue,{test:e=>"auto"===e,parse:e=>e}],la=e=>sa.find(aa(e)),ca=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),ua=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function da(e,t,n=1){const[r,i]=function(e){const t=ua.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return ca(e)?parseFloat(e):e}return K(i)?da(i,t,n+1):i}const ha=e=>/^0[^.\s]+$/u.test(e),fa=new Set(["brightness","contrast","saturate","opacity"]);function pa(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(X)||[];if(!r)return e;const i=n.replace(r,"");let o=fa.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const ma=/\b([a-z-]*)\(.*?\)/gu,ga={...Se,getAnimatableNone:e=>{const t=e.match(ma);return t?t.map(pa).join(" "):e}},ya={...Do,color:pe,backgroundColor:pe,outlineColor:pe,fill:pe,stroke:pe,borderColor:pe,borderTopColor:pe,borderRightColor:pe,borderBottomColor:pe,borderLeftColor:pe,filter:ga,WebkitFilter:ga},va=e=>ya[e];function ba(e,t){let n=va(e);return n!==ga&&(n=Se),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const wa=new Set(["auto","none","0"]);class xa extends Wt{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let r=e[n];if("string"==typeof r&&(r=r.trim(),K(r))){const i=da(r,t.current);void 0!==i&&(e[n]=i),n===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!w.has(n)||2!==e.length)return;const[r,i]=e,o=la(r),a=la(i);if(o!==a)if(Ut(o)&&Ut(a))for(let t=0;t<e.length;t++){const n=e[t];"string"==typeof n&&(e[t]=parseFloat(n))}else jt[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++)(null===e[t]||("number"==typeof(r=e[t])?0===r:null===r||"none"===r||"0"===r||ha(r)))&&n.push(t);var r;n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"==typeof t&&!wa.has(t)&&be(t).values.length&&(r=e[i]),i++}if(r&&n)for(const i of t)e[i]=ba(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jt[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=jt[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach((([t,n])=>{e.getValue(t).set(n)})),this.resolveNoneKeyframes()}}const Ea=[...sa,pe,Se],Sa={current:null},ka={current:!1},Ca=new WeakMap,_a=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ta{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wt,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=T.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,p.render(this.render,!1,!0))};const{latestValues:s,renderState:l}=o;this.latestValues=s,this.baseTarget={...s},this.initialValues=t.initial?{...s}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=yo(t),this.isVariantNode=vo(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in u){const t=u[e];void 0!==s[e]&&O(t)&&t.set(s[e],!1)}}mount(e){this.current=e,Ca.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),ka.current||function(){if(ka.current=!0,wo.B)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sa.current=e.matches;e.addListener(t),t()}else Sa.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Sa.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),m(this.notifyUpdate),m(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=b.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&p.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i(),o&&o(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Eo){const t=Eo[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<_a.length;t++){const n=_a[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const r=e["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],o=n[r];if(O(i))e.addValue(r,i);else if(O(o))e.addValue(r,I(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,I(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=I(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return null!=n&&("string"==typeof n&&(ca(n)||ha(n))?n=parseFloat(n):(r=n,!Ea.find(aa(r))&&Se.test(t)&&(n=ba(e,t))),this.setBaseTarget(e,O(n)?n.get():n)),O(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"==typeof t||"object"==typeof t){const r=a(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||O(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new S),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Aa extends Ta{constructor(){super(...arguments),this.KeyframeResolver=xa}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;O(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}function Na(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const t in n)e.style.setProperty(t,n[t])}class Ia extends Aa{constructor(){super(...arguments),this.type="html",this.renderInstance=Na}readValueFromInstance(e,t){if(b.has(t))return((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Dt(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),i=($(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof i?i.trim():i}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return cr(e,t)}build(e,t,n){Lo(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return ta(e,t,n)}}const Pa=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class Ra extends Aa{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(b.has(t)){const e=va(t);return e&&e.default||0}return t=Pa.has(t)?t:M(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return ra(e,t,n)}build(e,t,n){Yo(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){Na(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(Pa.has(n)?n:M(n),t.attrs[n])}(e,t,0,r)}mount(e){this.isSVGTag=Go(e.tagName),super.mount(e)}}const Oa=r(oa({...On,...ho,...Gi,...fo},((e,t)=>$o(e)?new Ra(t):new Ia(t,{allowProjection:e!==Rr.Fragment}))))},2042:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},2075:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9471);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const o=r.forwardRef(i)},2386:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},2487:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},2721:(e,t,n)=>{e.exports=self.fetch||(self.fetch=n(8837).default||n(8837))},2757:function(e,t,n){var r;e=n.nmd(e),function(){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof n.g&&n.g;i.global!==i&&i.window!==i&&i.self;var o,a=2147483647,s=36,l=/^xn--/,c=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,f=String.fromCharCode;function p(e){throw RangeError(d[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+m((e=e.replace(u,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function v(e){return m(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+f(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=s)e=h(e/35);return h(r+36*e/(e+38))}function x(e){var t,n,r,i,o,l,c,u,d,f,m,g=[],y=e.length,b=0,x=128,E=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&p("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<y;){for(o=b,l=1,c=s;i>=y&&p("invalid-input"),((u=(m=e.charCodeAt(i++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:s)>=s||u>h((a-b)/l))&&p("overflow"),b+=u*l,!(u<(d=c<=E?1:c>=E+26?26:c-E));c+=s)l>h(a/(f=s-d))&&p("overflow"),l*=f;E=w(b-o,t=g.length+1,0==o),h(b/t)>a-x&&p("overflow"),x+=h(b/t),b%=t,g.splice(b++,0,x)}return v(g)}function E(e){var t,n,r,i,o,l,c,u,d,m,g,v,x,E,S,k=[];for(v=(e=y(e)).length,t=128,n=0,o=72,l=0;l<v;++l)(g=e[l])<128&&k.push(f(g));for(r=i=k.length,i&&k.push("-");r<v;){for(c=a,l=0;l<v;++l)(g=e[l])>=t&&g<c&&(c=g);for(c-t>h((a-n)/(x=r+1))&&p("overflow"),n+=(c-t)*x,t=c,l=0;l<v;++l)if((g=e[l])<t&&++n>a&&p("overflow"),g==t){for(u=n,d=s;!(u<(m=d<=o?1:d>=o+26?26:d-o));d+=s)S=u-m,E=s-m,k.push(f(b(m+S%E,0))),u=h(S/E);k.push(f(b(u,0))),o=w(n,x,r==i),n=0,++r}++n,++t}return k.join("")}o={version:"1.3.2",ucs2:{decode:y,encode:v},decode:x,encode:E,toASCII:function(e){return g(e,(function(e){return c.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return g(e,(function(e){return l.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},2828:(e,t,n)=>{"use strict";var r=n(7961),i=n(1024),o=n(3169);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return V(B(t,e.length-n),e,n,r)}function x(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return x(e,t,n,r)}function S(e,t,n,r){return V(z(t),e,n,r)}function k(e,t,n,r){return V(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.hp=l,t.IS=50,l.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.IS;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){o=c[d],a=u[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||U(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return o||U(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:B(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}},3025:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});const r="undefined"!=typeof window},3096:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>i});const r=e=>"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))){const i=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)})(e),i=e=>"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r<128)t+=String.fromCharCode(r);else if(192<=r&&r<224){const i=e[++n];t+=String.fromCharCode((31&r)<<6|63&i)}else if(240<=r&&r<365){const i="%"+[r,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(i)}else t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)},3169:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},3261:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9471);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const o=r.forwardRef(i)},3300:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(6940).__exportStar)(n(8842),t)},3328:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});const r=(0,n(9471).createContext)(null)},3534:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+A(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+A(s=e[c],c);l+=N(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=N(s=s.value,t,i,u=o+A(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},3614:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,i=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,s=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||i.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(a,l):e.replace(o,l)).replace(r,s))}},3749:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(8025),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=0;d<r.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var h=this.temp[d-2],f=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,p=((h=this.temp[d-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[d]=(f+this.temp[d-7]|0)+(p+this.temp[d-16]|0)}var m=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&l^~s&c)|0)+(u+(r.KEY[d]+this.temp[d]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;u=c,c=l,l=s,s=a+m|0,a=o,o=i,i=n,n=m+g|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=l,t[6]+=c,t[7]+=u},e}();t.RawSha256=i},3847:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)3&t||(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},4483:(e,t,n)=>{"use strict";var r=n(7961),i=n(1024),o=n(3169);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return V(B(t,e.length-n),e,n,r)}function x(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return x(e,t,n,r)}function S(e,t,n,r){return V(z(t),e,n,r)}function k(e,t,n,r){return V(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.hp=l,t.IS=50,l.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.IS;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){o=c[d],a=u[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||U(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return o||U(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:B(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}},4491:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(9471);const i=n(3025).B?r.useLayoutEffect:r.useEffect},4723:(e,t,n)=>{"use strict";var r=n(9834);t.H=r.createRoot,r.hydrateRoot},4773:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},5333:(e,t,n)=>{e.exports=n(9388).Observable},5416:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}},5433:(e,t,n)=>{"use strict";var r=n(9922).hp;Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var i=n(3096),o=void 0!==r&&r.from?function(e){return r.from(e,"utf8")}:i.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},5457:(e,t,n)=>{"use strict";t.decode=t.parse=n(7715),t.encode=t.stringify=n(7567)},5682:()=>{},6130:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},6201:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9471);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const o=r.forwardRef(i)},6262:(e,t,n)=>{"use strict";var r=n(9618),i=n(6863);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.qg=b;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(5457);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=l.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=a.exec(b);if(x){var E=(x=x[0]).toLowerCase();this.protocol=E,b=b.substr(x.length)}if(n||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||x&&g[x]||(b=b.substr(2),this.slashes=!0)}if(!g[x]&&(S||x&&!y[x])){for(var k,C,_=-1,T=0;T<h.length;T++)-1!==(A=b.indexOf(h[T]))&&(-1===_||A<_)&&(_=A);for(-1!==(C=-1===_?b.lastIndexOf("@"):b.lastIndexOf("@",_))&&(k=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(k)),_=-1,T=0;T<d.length;T++){var A;-1!==(A=b.indexOf(d[T]))&&(-1===_||A<_)&&(_=A)}-1===_&&(_=b.length),this.host=b.slice(0,_),b=b.slice(_),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var I=this.hostname.split(/\./),P=(T=0,I.length);T<P;T++){var R=I[T];if(R&&!R.match(f)){for(var O="",D=0,M=R.length;D<M;D++)R.charCodeAt(D)>127?O+="x":O+=R[D];if(!O.match(f)){var U=I.slice(0,T),L=I.slice(T+1),F=R.match(p);F&&(U.push(F[1]),L.unshift(F[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+j,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[E])for(T=0,P=u.length;T<P;T++){var z=u[T];if(-1!==b.indexOf(z)){var V=encodeURIComponent(z);V===z&&(V=escape(z)),b=b.split(z).join(V)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var q=b.indexOf("?");if(-1!==q?(this.search=b.substr(q),this.query=b.substr(q+1),t&&(this.query=v.parse(this.query)),b=b.slice(0,q)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var $=this.search||"";this.path=j+$}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var f=d[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||b||n.host&&e.pathname,E=x,S=n.pathname&&n.pathname.split("/")||[],k=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===S[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return k&&(n.hostname=n.host=S.shift(),(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.host=n.hostname=N.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=S.slice(-1)[0],_=(n.host||e.host||S.length>1)&&("."===C||".."===C)||""===C,T=0,A=S.length;A>=0;A--)"."===(C=S[A])?S.splice(A,1):".."===C?(S.splice(A,1),T++):T&&(S.splice(A,1),T--);if(!x&&!E)for(;T--;T)S.unshift("..");!x||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),_&&"/"!==S.join("/").substr(-1)&&S.push("");var N,I=""===S[0]||S[0]&&"/"===S[0].charAt(0);return k&&(n.hostname=n.host=I?"":S.length?S.shift():"",(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.host=n.hostname=N.shift())),(x=x||n.host&&S.length)&&!I&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},6728:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(9471);function i(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},6740:(e,t,n)=>{"use strict";var r=n(1656),i=n(4773);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.qg=b,t.GP=function(e){return i.isString(e)&&(e=b(e)),e instanceof o?e.format():o.prototype.format.call(e)};var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(5457);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=l.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=a.exec(b);if(x){var E=(x=x[0]).toLowerCase();this.protocol=E,b=b.substr(x.length)}if(n||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||x&&g[x]||(b=b.substr(2),this.slashes=!0)}if(!g[x]&&(S||x&&!y[x])){for(var k,C,_=-1,T=0;T<h.length;T++)-1!==(A=b.indexOf(h[T]))&&(-1===_||A<_)&&(_=A);for(-1!==(C=-1===_?b.lastIndexOf("@"):b.lastIndexOf("@",_))&&(k=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(k)),_=-1,T=0;T<d.length;T++){var A;-1!==(A=b.indexOf(d[T]))&&(-1===_||A<_)&&(_=A)}-1===_&&(_=b.length),this.host=b.slice(0,_),b=b.slice(_),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var I=this.hostname.split(/\./),P=(T=0,I.length);T<P;T++){var R=I[T];if(R&&!R.match(f)){for(var O="",D=0,M=R.length;D<M;D++)R.charCodeAt(D)>127?O+="x":O+=R[D];if(!O.match(f)){var U=I.slice(0,T),L=I.slice(T+1),F=R.match(p);F&&(U.push(F[1]),L.unshift(F[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+j,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[E])for(T=0,P=u.length;T<P;T++){var z=u[T];if(-1!==b.indexOf(z)){var V=encodeURIComponent(z);V===z&&(V=escape(z)),b=b.split(z).join(V)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var q=b.indexOf("?");if(-1!==q?(this.search=b.substr(q),this.query=b.substr(q+1),t&&(this.query=v.parse(this.query)),b=b.slice(0,q)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var $=this.search||"";this.path=j+$}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var f=d[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||b||n.host&&e.pathname,E=x,S=n.pathname&&n.pathname.split("/")||[],k=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===S[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return k&&(n.hostname=n.host=S.shift(),(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.host=n.hostname=N.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=S.slice(-1)[0],_=(n.host||e.host||S.length>1)&&("."===C||".."===C)||""===C,T=0,A=S.length;A>=0;A--)"."===(C=S[A])?S.splice(A,1):".."===C?(S.splice(A,1),T++):T&&(S.splice(A,1),T--);if(!x&&!E)for(;T--;T)S.unshift("..");!x||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),_&&"/"!==S.join("/").substr(-1)&&S.push("");var N,I=""===S[0]||S[0]&&"/"===S[0].charAt(0);return k&&(n.hostname=n.host=I?"":S.length?S.shift():"",(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.host=n.hostname=N.shift())),(x=x||n.host&&S.length)&&!I&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},6852:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},a=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,i=t.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!o)return!1;for(r in e);return void 0===r||t.call(e,r)},s=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(i)return i(e,n).value}return e[n]};e.exports=function e(){var t,n,r,i,c,u,d=arguments[0],h=1,f=arguments.length,p=!1;for("boolean"==typeof d&&(p=d,d=arguments[1]||{},h=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});h<f;++h)if(null!=(t=arguments[h]))for(n in t)r=l(d,n),d!==(i=l(t,n))&&(p&&i&&(a(i)||(c=o(i)))?(c?(c=!1,u=r&&o(r)?r:[]):u=r&&a(r)?r:{},s(d,{name:n,newValue:e(p,u,i)})):void 0!==i&&s(d,{name:n,newValue:i}));return d}},6863:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},6936:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r=(0,n(9471).createContext)({})},6940:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>x,__await:()=>v,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>_,__createBinding:()=>h,__decorate:()=>s,__exportStar:()=>f,__extends:()=>i,__generator:()=>d,__importDefault:()=>k,__importStar:()=>S,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>y,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(e){u(o[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function _(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},7230:(e,t,n)=>{"use strict";var r=n(9471),i=n(9817);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=D&&e[D]||e["@@iterator"])?e:null}var U,L=Object.assign;function F(e){if(void 0===U)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return B(e.type,!1);case 11:return B(e.type.render,!1);case 1:return B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case C:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case I:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return V(e(t))}catch(e){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,ke=null;function Ce(e){if(e=bi(e)){if("function"!=typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Ee(e.stateNode,e.type,t))}}function _e(e){Se?ke?ke.push(e):ke=[e]:Se=e}function Te(){if(Se){var e=Se,t=ke;if(ke=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ae(e,t){return e(t)}function Ne(){}var Ie=!1;function Pe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ae(e,t,n)}finally{Ie=!1,(null!==Se||null!==ke)&&(Ne(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Me(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Ue=!1,Le=null,Fe=!1,je=null,Be={onError:function(e){Ue=!0,Le=e}};function ze(e,t,n,r,i,o,a,s,l){Ue=!1,Le=null,Me.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(o(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ze=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!=(o&=a)&&(r=dt(o))}else 0!=(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&4194240&o))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var xt,Et,St,kt,Ct,_t=!1,Tt=[],At=null,Nt=null,It=null,Pt=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Ut(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=bi(t))&&Et(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){_t=!1,null!==At&&Ft(At)&&(At=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==It&&Ft(It)&&(It=null),Pt.forEach(jt),Rt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),null!==It&&zt(It,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var Ht=w.ReactCurrentBatchConfig,qt=!0;function $t(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Wt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Kt(e,t,n,r){if(qt){var i=Gt(e,t,n,r);if(null===i)qr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Ut(At,e,t,n,r,i),!0;case"dragenter":return Nt=Ut(Nt,e,t,n,r,i),!0;case"mouseover":return It=Ut(It,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Ut(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Ut(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Gt(e,t,n,r))&&qr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Yt=null;function Gt(e,t,n,r){if(Yt=null,null!==(e=vi(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Qt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(L({},fn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),yn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return kn}var _n=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(_n),An=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),In=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Pn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Un=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function $n(e,t,n,r){_e(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Yn(e){Fr(e,0)}function Gn(e){if(K(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Qn;if(u){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"==typeof er.oninput}Qn=Xn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Gn(Kn)){var t=[];$n(t,Kn,e,xe(e)),Pe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Kn)}function or(e,t){if("click"===e)return Gn(t)}function ar(e,t){if("input"===e||"change"===e)return Gn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||(r="selectionStart"in(r=gr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},kr={};function Cr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var _r=Cr("animationend"),Tr=Cr("animationiteration"),Ar=Cr("animationstart"),Nr=Cr("transitionend"),Ir=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ir.set(e,t),l(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(_r,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Ar,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ur=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(ze.apply(this,arguments),Ue){if(!Ue)throw Error(o(198));var u=Le;Ue=!1,Le=null,Fe||(Fe=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}}}if(Fe)throw e=je,Fe=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Ur.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Jt(t)){case 1:var i=$t;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=o,i=xe(n),a=[];e:{var s=Ir.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case _r:case Tr:case Ar:l=yn;break;case Nr:l=In;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=Re(p,h))&&u.push($r(p,m,f))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Yr(a,s,l,u,!1),null!==c&&null!==d&&Yr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Jn;else if(qn(s))if(Zn)g=ar;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?$n(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=en()):(Qt="value"in(Zt=i)?Zt.value:Zt.textContent,Vn=!0)),0<(y=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),(v||null!==(v=zn(n)))&&(b.data=v))),(v=Un?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Xt=Qt=Zt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v)}Fr(a,t)}))}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift($r(e,o,i)),null!=(o=Re(e,t))&&r.push($r(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Re(n,o))&&a.unshift($r(n,l,s)):i||null!=(l=Re(n,o))&&a.push($r(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Zr(e){return("string"==typeof e?e:""+e).replace(Gr,"\n").replace(Jr,"")}function Qr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(o(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var Ei=[],Si=-1;function ki(e){return{current:e}}function Ci(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function _i(e,t){Si++,Ei[Si]=e.current,e.current=t}var Ti={},Ai=ki(Ti),Ni=ki(!1),Ii=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!=e.childContextTypes}function Oi(){Ci(Ni),Ci(Ai)}function Di(e,t,n){if(Ai.current!==Ti)throw Error(o(168));_i(Ai,t),_i(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return L({},n,r)}function Ui(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ii=Ai.current,_i(Ai,e),_i(Ni,Ni.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ni),Ci(Ai),_i(Ai,e)):Ci(Ni),_i(Ni,n)}var Fi=null,ji=!1,Bi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Vi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Xe,Vi),t}finally{bt=t,Bi=!1}}return null}var Hi=[],qi=0,$i=null,Wi=0,Ki=[],Yi=0,Gi=null,Ji=1,Zi="";function Qi(e,t){Hi[qi++]=Wi,Hi[qi++]=$i,$i=e,Wi=t}function Xi(e,t,n){Ki[Yi++]=Ji,Ki[Yi++]=Zi,Ki[Yi++]=Gi,Gi=e;var r=Ji;e=Zi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,Zi=o+e}else Ji=1<<o|n<<i|r,Zi=e}function eo(e){null!==e.return&&(Qi(e,1),Xi(e,1,0))}function to(e){for(;e===$i;)$i=Hi[--qi],Hi[qi]=null,Wi=Hi[--qi],Hi[qi]=null;for(;e===Gi;)Gi=Ki[--Yi],Ki[Yi]=null,Zi=Ki[--Yi],Ki[Yi]=null,Ji=Ki[--Yi],Ki[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gi?{id:Ji,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return!(!(1&e.mode)||128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===R&&bo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(i,d),io&&Qi(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Qi(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Qi(i,m),c}function g(i,s,l,c){var u=M(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),io&&Qi(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return io&&Qi(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Qi(i,g),u}return function e(r,o,a,l){if("object"==typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===R&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=yo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((o=Mc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=yo(r,o,a),l.return=r,r=l)}return s(r);case E:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,l)).return=r,r=o}return s(r);case R:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(M(a))return g(r,o,a,l);vo(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),Eo=wo(!1),So=ki(null),ko=null,Co=null,_o=null;function To(){_o=Co=ko=null}function Ao(e){var t=So.current;Ci(So),e._currentValue=t}function No(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Io(e,t){ko=e,_o=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===ko)throw Error(o(308));Co=e,ko.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Ro=null;function Oo(e){null===Ro?Ro=[e]:Ro.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Oo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Uo=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Al){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mo(e,n)}return null===(i=r.interleaved)?(t.next=t,Oo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mo(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Vo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var i=e.updateQueue;Uo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=L({},d,h);break e;case 2:Uo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ul|=a,e.lanes=a,e.memoizedState=d}}function qo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var $o={},Wo=ki($o),Ko=ki($o),Yo=ki($o);function Go(e){if(e===$o)throw Error(o(174));return e}function Jo(e,t){switch(_i(Yo,t),_i(Ko,e),_i(Wo,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Wo),_i(Wo,t)}function Zo(){Ci(Wo),Ci(Ko),Ci(Yo)}function Qo(e){Go(Yo.current);var t=Go(Wo.current),n=le(t,e.type);t!==n&&(_i(Ko,e),_i(Wo,n))}function Xo(e){Ko.current===e&&(Ci(Wo),Ci(Ko))}var ea=ki(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Xa:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Qa,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function ya(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"==typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Ul|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Ul|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ea(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function ka(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ua(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Pa(9,_a.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(o(349));30&aa||Ca(n,t,i)}return i}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _a(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Na(e)}function Ta(e,t,n){return n((function(){Aa(t)&&Na(e)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function Na(e){var t=Mo(e,1);null!==t&&nc(t,e,1,-1)}function Ia(e){var t=va();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,sa,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ra(){return ba().memoizedState}function Oa(e,t,n,r){var i=va();sa.flags|=e,i.memoizedState=Pa(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Pa(t,n,o,r))}sa.flags|=e,i.memoizedState=Pa(1|t,n,o,r)}function Ma(e,t){return Oa(8390656,8,e,t)}function Ua(e,t){return Da(2048,8,e,t)}function La(e,t){return Da(4,2,e,t)}function Fa(e,t){return Da(4,4,e,t)}function ja(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!=n?n.concat([e]):null,Da(4,4,ja.bind(null,t,e),n)}function za(){}function Va(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 21&aa?(sr(n,t)||(n=mt(),sa.lanes|=n,Ul|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n)}function $a(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Wa(){return ba().memoizedState}function Ka(e,t,n){var r=tc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(e)?Ja(t,n):null!==(n=Do(e,t,n,r))&&(nc(n,e,r,ec()),Za(n,t,r))}function Ya(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))Ja(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Oo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),Za(n,t,r))}}function Ga(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ja(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Za(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Qa={readContext:Po,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Xa={readContext:Po,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Oa(4194308,4,ja.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ia,useDebugValue:za,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=$a.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=va();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nl)throw Error(o(349));30&aa||Ca(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(Ta.bind(null,r,a,e),[e]),r.flags|=2048,Pa(9,_a.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Nl.identifierPrefix;if(io){var n=Zi;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Po,useCallback:Va,useContext:Po,useEffect:Ua,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:Ha,useReducer:xa,useRef:Ra,useState:function(){return xa(wa)},useDebugValue:za,useDeferredValue:function(e){return qa(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:Wa,unstable_isNewReconciler:!1},ts={readContext:Po,useCallback:Va,useContext:Po,useEffect:Ua,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:Ha,useReducer:Ea,useRef:Ra,useState:function(){return Ea(wa)},useDebugValue:za,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:qa(t,la.memoizedState,e)},useTransition:function(){return[Ea(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:Wa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=jo(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=jo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=jo(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(nc(t,e,r,n),zo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(i,o))}function as(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"==typeof o&&null!==o?o=Po(o):(i=Ri(t)?Ii:Ai.current,o=(r=null!=(r=t.contextTypes))?Pi(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Po(o):(o=Ri(t)?Ii:Ai.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Ho(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var hs="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=jo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,$l=r),ds(0,t)},n}function ps(e,t,n){(n=jo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!=typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=jo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Eo(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Io(t,i),r=ga(e,t,n,r,o,i),n=ya(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,!(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);131072&e.flags&&(bs=!0)}}return _s(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Ol,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,_i(Ol,Rl),Rl|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Ol,Rl),Rl|=n;else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_i(Ol,Rl),Rl|=r;return ws(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,i){var o=Ri(n)?Ii:Ai.current;return o=Pi(t,o),Io(t,i),n=ga(e,t,n,r,o,i),r=ya(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Ts(e,t,n,r,i){if(Ri(n)){var o=!0;Ui(t)}else o=!1;if(Io(t,i),null===t.stateNode)Hs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?Po(c):Pi(t,c=Ri(n)?Ii:Ai.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Uo=!1;var h=t.memoizedState;a.state=h,Ho(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ni.current||Uo?("function"==typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Uo||os(t,n,s,r,h,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,l="object"==typeof(l=n.contextType)&&null!==l?Po(l):Pi(t,l=Ri(n)?Ii:Ai.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Uo=!1,h=t.memoizedState,a.state=h,Ho(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ni.current||Uo?("function"==typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Uo||os(t,n,c,r,h,p,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,o,i)}function As(e,t,n,r,i,o){Cs(e,t);var a=!!(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),qs(e,t,o);r=t.stateNode,vs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Jo(e,t.containerInfo)}function Is(e,t,n,r,i){return po(),mo(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Rs,Os,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Us(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_i(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},1&i||null===s?s=Uc(l,i,0,null):(s.childLanes=0,s.pendingProps=l),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Us(n),t.memoizedState=Ms,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Uc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&xo(t,e.child,null,s),t.child.memoizedState=Us(s),t.memoizedState=Ms,a);if(!(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,js(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(l=!!(s&e.childLanes),bs||l){if(null!==(r=Nl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(r.suspendedLanes|s)?0:i)&&i!==a.retryLane&&(a.retryLane=i,Mo(e,i),nc(r,e,i,-1))}return mc(),js(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Yi++]=Ji,Ki[Yi++]=Zi,Ki[Yi++]=Gi,Ji=e.id,Zi=e.overflow,Gi=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 1&l||t.child===a?(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null),null!==r?s=Oc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Us(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Uc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),No(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(ea,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Hs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ul|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Ws(t),null;case 3:return r=t.stateNode,Zo(),Ci(Ni),Ci(Ai),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Rs(e,t),Ws(t),null;case 5:Xo(t);var i=Go(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=Go(Wo.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=!!(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":J(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":ie(r,a),jr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":W(r),X(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":J(e,r),i=G(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"==typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"==typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&jr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),X(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=Go(Yo.current),Go(Wo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Qr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ci(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&1&t.mode&&!(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Zo(),Rs(e,t),null===e&&Vr(t.stateNode.containerInfo),Ws(t),null;case 10:return Ao(t.type._context),Ws(t),null;case 19:if(Ci(ea),null===(a=t.memoizedState))return Ws(t),null;if(r=!!(128&t.flags),null===(l=a.rendering))if(r)$s(a,!1);else{if(0!==Dl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,$s(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Vl&&(t.flags|=128,r=!0,$s(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$s(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ws(t),null}else 2*Ze()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,$s(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=ea.current,_i(ea,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Rl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zo(),Ci(Ni),Ci(Ai),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xo(t),null;case 13:if(Ci(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ea),null;case 4:return Zo(),null;case 10:return Ao(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Go(Wo.current);var o,a=null;switch(n){case"input":i=G(e,i),r=G(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Xr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&jr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gs=!1,Js=!1,Zs="function"==typeof WeakSet?WeakSet:Set,Qs=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){kc(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){kc(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Js||Xs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Js&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(2&o||4&o)&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Js&&(Xs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){kc(n,t,e)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,hl(e,t,n),Js=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(e){kc(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){kc(e,e.return,t)}try{nl(5,e,e.return)}catch(t){kc(e,e.return,t)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Xs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Xs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(t){kc(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":Q(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(t){kc(e,e.return,t)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){kc(e,e.return,t)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(t){kc(e,e.return,t)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Ze())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(u=Js)||d,ml(t,e),Js=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(Qs=e,d=e.child;null!==d;){for(h=Qs=d;null!==Qs;){switch(p=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Xs(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){kc(r,n,e)}}break;case 5:Xs(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Qs=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=null!=(c=h.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(t){kc(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(t){kc(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(t){kc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Qs=e,bl(e,t,n)}function bl(e,t,n){for(var r=!!(1&e.mode);null!==Qs;){var i=Qs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Gs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Gs;var c=Js;if(Gs=a,(Js=l)&&!c)for(Qs=i;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,Qs=l):El(i);for(;null!==o;)Qs=o,bl(o,t,n),o=o.sibling;Qs=i,Gs=s,Js=c}wl(e)}else 8772&i.subtreeFlags&&null!==o?(o.return=i,Qs=o):wl(e)}}function wl(e){for(;null!==Qs;){var t=Qs;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Js||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(o(163))}Js||512&t.flags&&il(t)}catch(e){kc(t,t.return,e)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function xl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function El(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){kc(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){kc(t,i,e)}}var o=t.return;try{il(t)}catch(e){kc(t,o,e)}break;case 5:var a=t.return;try{il(t)}catch(e){kc(t,a,e)}}}catch(e){kc(t,t.return,e)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Sl,kl=Math.ceil,Cl=w.ReactCurrentDispatcher,_l=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Al=0,Nl=null,Il=null,Pl=0,Rl=0,Ol=ki(0),Dl=0,Ml=null,Ul=0,Ll=0,Fl=0,jl=null,Bl=null,zl=0,Vl=1/0,Hl=null,ql=!1,$l=null,Wl=null,Kl=!1,Yl=null,Gl=0,Jl=0,Zl=null,Ql=-1,Xl=0;function ec(){return 6&Al?Ze():-1!==Ql?Ql:Ql=Ze()}function tc(e){return 1&e.mode?2&Al&&0!==Pl?Pl&-Pl:null!==go.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type):1}function nc(e,t,n,r){if(50<Jl)throw Jl=0,Zl=null,Error(o(185));yt(e,n,r),2&Al&&e===Nl||(e===Nl&&(!(2&Al)&&(Ll|=n),4===Dl&&sc(e,Pl)),rc(e,r),1===n&&0===Al&&!(1&t.mode)&&(Vl=Ze()+500,ji&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?s&n&&!(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Nl?Pl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai((function(){!(6&Al)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ql=-1,Xl=0,6&Al)throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Pl:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=gc(e,r);else{t=r;var i=Al;Al|=2;var a=pc();for(Nl===e&&Pl===t||(Hl=null,Vl=Ze()+500,hc(e,t));;)try{vc();break}catch(t){fc(e,t)}To(),Cl.current=a,Al=i,null!==Il?t=0:(Nl=null,Pl=0,t=Dl)}if(0!==t){if(2===t&&0!==(i=pt(e))&&(r=i,t=oc(e,i)),1===t)throw n=Ml,hc(e,0),sc(e,r),rc(e,Ze()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=gc(e,r),2===t&&(a=pt(e),0!==a&&(r=a,t=oc(e,a))),1!==t)))throw n=Ml,hc(e,0),sc(e,r),rc(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Bl,Hl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zl+500-Ze())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bl,Hl),t);break}xc(e,Bl,Hl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bl,Hl),r);break}xc(e,Bl,Hl);break;default:throw Error(o(329))}}}return rc(e,Ze()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(6&Al)throw Error(o(327));Ec();var t=ht(e,0);if(!(1&t))return rc(e,Ze()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,hc(e,0),sc(e,t),rc(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,Hl),rc(e,Ze()),null}function cc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Vl=Ze()+500,ji&&Vi())}}function uc(e){null!==Yl&&0===Yl.tag&&!(6&Al)&&Ec();var t=Al;Al|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,!(6&(Al=t))&&Vi()}}function dc(){Rl=Ol.current,Ci(Ol)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Oi();break;case 3:Zo(),Ci(Ni),Ci(Ai),ra();break;case 5:Xo(r);break;case 4:Zo();break;case 13:case 19:Ci(ea);break;case 10:Ao(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Il=e=Oc(e.current,null),Pl=Rl=t,Dl=0,Ml=null,Fl=Ll=Ul=0,Bl=jl=null,null!==Ro){for(t=0;t<Ro.length;t++)if(null!==(r=(n=Ro[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Ro=null}return e}function fc(e,t){for(;;){var n=Il;try{if(To(),ia.current=Qa,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,_l.current=null,null===n||null===n.return){Dl=1,Ml=t,Il=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,h=d.tag;if(!(1&d.mode||0!==h&&11!==h&&15!==h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){ms(a,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=gs(s);if(null!==y){!(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),mo(cs(c,l));break e}}a=c=cs(c,l),4!==Dl&&(Dl=2),null===jl?jl=[a]:jl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vo(a,fs(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof v.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Wl&&Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Vo(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(e){t=e,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function pc(){var e=Cl.current;return Cl.current=Qa,null===e?Qa:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Nl||!(268435455&Ul)&&!(268435455&Ll)||sc(Nl,Pl)}function gc(e,t){var n=Al;Al|=2;var r=pc();for(Nl===e&&Pl===t||(Hl=null,hc(e,t));;)try{yc();break}catch(t){fc(e,t)}if(To(),Al=n,Cl.current=r,null!==Il)throw Error(o(261));return Nl=null,Pl=0,Dl}function yc(){for(;null!==Il;)bc(Il)}function vc(){for(;null!==Il&&!Ge();)bc(Il)}function bc(e){var t=Sl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?wc(e):Il=t,_l.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Dl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ks(n,t,Rl)))return void(Il=n);if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Dl&&(Dl=5)}function xc(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Yl);if(6&Al)throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Nl&&(Il=Nl=null,Pl=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Kl||(Kl=!0,Nc(tt,(function(){return Ec(),null}))),a=!!(15990&n.flags),15990&n.subtreeFlags||a){a=Tl.transition,Tl.transition=null;var s=bt;bt=1;var l=Al;Al|=4,_l.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,1028&t.subtreeFlags&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(e){kc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Je(),Al=l,bt=s,Tl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Gl=i),0===(a=e.pendingLanes)&&(Wl=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=$l,$l=null,e;!!(1&Gl)&&0!==e.tag&&Ec(),1&(a=e.pendingLanes)?e===Zl?Jl++:(Jl=0,Zl=e):Jl=0,Vi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function Ec(){if(null!==Yl){var e=wt(Gl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Gl=0,6&Al)throw Error(o(331));var i=Al;for(Al|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(16&Qs.flags){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Qs=h;else for(;null!==Qs;){var f=(d=Qs).sibling,p=d.return;if(ol(d),d===u){Qs=null;break}if(null!==f){f.return=p,Qs=f;break}Qs=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qs=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(2048&(a=Qs).flags)switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Qs=v;break e}Qs=a.return}}var b=e.current;for(Qs=b;null!==Qs;){var w=(s=Qs).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,Qs=w;else e:for(s=b;null!==Qs;){if(2048&(l=Qs).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){kc(l,l.return,e)}if(l===s){Qs=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Qs=x;break e}Qs=l.return}}if(Al=i,Vi(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Sc(e,t,n){e=Bo(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Bo(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Dl||3===Dl&&(130023424&Pl)===Pl&&500>Ze()-zl?hc(e,0):Fl|=n),rc(e,t)}function _c(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=ec();null!==(e=Mo(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),_c(e,n)}function Nc(e,t){return Ke(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ic(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)Rc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Mc(n.children,i,a,t);case k:s=8,i|=8;break;case C:return(e=Pc(12,n,t,2|i)).elementType=C,e.lanes=a,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=a,e;case I:return(e=Pc(19,n,t,i)).elementType=I,e.lanes=a,e;case O:return Uc(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case T:s=9;break e;case A:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Uc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,a,s,l){return e=new jc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function zc(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Mi(e,n,t)}return t}function Vc(e,t,n,r,i,o,a,s,l){return(e=Bc(n,r,!0,e,0,o,0,s,l)).context=zc(null),n=e.current,(o=jo(r=ec(),i=tc(n))).callback=null!=t?t:null,Bo(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=jo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,a))&&(nc(e,i,a,o),zo(e,i,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(!(e.lanes&n||128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),po();break;case 5:Qo(t);break;case 1:Ri(t.type)&&Ui(t);break;case 4:Jo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(ea,1&ea.current),t.flags|=128,null):n&t.child.childLanes?Ls(e,t,n):(_i(ea,1&ea.current),null!==(e=qs(e,t,n))?e.sibling:null);_i(ea,1&ea.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return qs(e,t,n)}(e,t,n);bs=!!(131072&e.flags)}else bs=!1,io&&1048576&t.flags&&Xi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Pi(t,Ai.current);Io(t,n),i=ga(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Ui(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=As(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Rc(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(r),e=ns(r,e),i){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),Ho(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Is(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Is(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Eo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Qo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ls(e,t,n);case 4:return Jo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,_i(So,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=qs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=jo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),No(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),No(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Io(t,n),r=r(i=Po(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),Es(e,t,r,i=ns(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Hs(e,t),t.tag=1,Ri(r)?(e=!0,Ui(t)):e=!1,Io(t,n),as(t,r,i),ls(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"==typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Xc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=qc(a);s.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=qc(a);o.call(e)}}var a=Vc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=a,e[pi]=a.current,Vr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=qc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return qc(a)}Gc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},Gc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[pi]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Ze()),!(6&Al)&&(Vl=Ze()+500,Vi()))}break;case 13:uc((function(){var t=Mo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},Et=function(e){if(13===e.tag){var t=Mo(e,134217728);null!==t&&nc(t,e,134217728,ec()),Wc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Mo(e,t);null!==n&&nc(n,e,t,ec()),Wc(e,t)}},kt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));K(r),Q(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,_e,Te,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(o(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kc;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(o(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Xc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},7413:(e,t,n)=>{"use strict";var r=n(7961),i=n(1024),o=n(3169);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return V(B(t,e.length-n),e,n,r)}function x(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return x(e,t,n,r)}function S(e,t,n,r){return V(z(t),e,n,r)}function k(e,t,n,r){return V(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.hp=l,t.IS=50,l.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.IS;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){o=c[d],a=u[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||U(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return o||U(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:B(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}},7497:(e,t,n)=>{"use strict";var r=n(2757),i=n(2386);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.qg=b;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(5457);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=l.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=a.exec(b);if(x){var E=(x=x[0]).toLowerCase();this.protocol=E,b=b.substr(x.length)}if(n||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||x&&g[x]||(b=b.substr(2),this.slashes=!0)}if(!g[x]&&(S||x&&!y[x])){for(var k,C,_=-1,T=0;T<h.length;T++)-1!==(A=b.indexOf(h[T]))&&(-1===_||A<_)&&(_=A);for(-1!==(C=-1===_?b.lastIndexOf("@"):b.lastIndexOf("@",_))&&(k=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(k)),_=-1,T=0;T<d.length;T++){var A;-1!==(A=b.indexOf(d[T]))&&(-1===_||A<_)&&(_=A)}-1===_&&(_=b.length),this.host=b.slice(0,_),b=b.slice(_),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var I=this.hostname.split(/\./),P=(T=0,I.length);T<P;T++){var R=I[T];if(R&&!R.match(f)){for(var O="",D=0,M=R.length;D<M;D++)R.charCodeAt(D)>127?O+="x":O+=R[D];if(!O.match(f)){var U=I.slice(0,T),L=I.slice(T+1),F=R.match(p);F&&(U.push(F[1]),L.unshift(F[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+j,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[E])for(T=0,P=u.length;T<P;T++){var z=u[T];if(-1!==b.indexOf(z)){var V=encodeURIComponent(z);V===z&&(V=escape(z)),b=b.split(z).join(V)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var q=b.indexOf("?");if(-1!==q?(this.search=b.substr(q),this.query=b.substr(q+1),t&&(this.query=v.parse(this.query)),b=b.slice(0,q)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var $=this.search||"";this.path=j+$}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var f=d[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||b||n.host&&e.pathname,E=x,S=n.pathname&&n.pathname.split("/")||[],k=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===S[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return k&&(n.hostname=n.host=S.shift(),(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.host=n.hostname=N.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=S.slice(-1)[0],_=(n.host||e.host||S.length>1)&&("."===C||".."===C)||""===C,T=0,A=S.length;A>=0;A--)"."===(C=S[A])?S.splice(A,1):".."===C?(S.splice(A,1),T++):T&&(S.splice(A,1),T--);if(!x&&!E)for(;T--;T)S.unshift("..");!x||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),_&&"/"!==S.join("/").substr(-1)&&S.push("");var N,I=""===S[0]||S[0]&&"/"===S[0].charAt(0);return k&&(n.hostname=n.host=I?"":S.length?S.shift():"",(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.host=n.hostname=N.shift())),(x=x||n.host&&S.length)&&!I&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},7530:(e,t,n)=>{"use strict";n.d(t,{J5:()=>l,SP:()=>a,ZL:()=>m,gg:()=>o,o9:()=>g});var r=n(1569);const i={603:{friendsWatched:12,friendsLiked:11},238:{friendsWatched:8,friendsLiked:7}},o=e=>i[e.id]||{friendsWatched:0,friendsLiked:0},a=r.A.create({headers:{"Cache-Control":"no-cache"}}),s=new Map,l=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=JSON.stringify({url:e,params:t});if(s.has(r)){const e=s.get(r);if(e.expiry>Date.now())return{data:e.data};s.delete(r)}try{const n=await a.get(e,{params:t});return s.set(r,{data:n.data,expiry:Date.now()+3e5}),n}catch(r){if(n>0)return await new Promise((e=>setTimeout(e,100*(1<<2-n)))),l(e,t,n-1);throw r}},c={Director:5,"Original Music Composer":3,"Director of Photography":2},u={11:[10751,18],0:[18,9648],9:[27,53],6:[12,14]},d=[5,10,15,20,25,30,40,50],h=(new Date).getFullYear(),f=e=>{if(!e)return[];const t=e.toLowerCase().replace(/^(the|a|an) /,"").replace(/[^\w\s]/g," ").replace(/\s+/g," ").trim(),n=new Set(["and","or","of","in","on","at","to","for","with","by"]);return t.split(" ").filter((e=>e.length>2&&!n.has(e)))},p=(e,t)=>{var n,r,i,o;let a=0;const s=[];if(t.title&&(e.title||e.name)){const n=((e,t)=>{if(!e||!t)return 0;const n=f(e),r=f(t);if(0===n.length||0===r.length)return 0;const i=n.join(" "),o=r.join(" ");if(i===o)return 100;if(o.startsWith(i))return 90;if(o.includes(i))return 80;const a=n.filter((e=>r.some((t=>t.includes(e)||e.includes(t))))).length/n.length;return Math.round(70*a)})(t.title,e.title||e.name);n>70&&(s.push("Similar title"),a+=n/10)}const l=e.genre_ids.filter((e=>t.genres.includes(e))).length;l>0&&(s.push(`Matched ${l} genres`),a+=5*l);const p=(null===(n=e.keywords)||void 0===n?void 0:n.filter((e=>t.keywords.includes(e))).length)||0;p>0&&(s.push(`Matched ${p} keywords`),a+=3*p);const m=(null===(r=e.cast)||void 0===r?void 0:r.filter((e=>t.cast.includes(e))).length)||0;m>0&&(s.push("Matched cast"),a+=2*m),t.director&&null!==(i=e.crew)&&void 0!==i&&i.some((e=>e.id===t.director))&&(s.push("Directed by target director"),a+=4);const g=new Date(e.release_date||e.first_air_date||h).getFullYear();h-g<=5&&(s.push(`Recent release (${g})`),a+=3);const y=Math.min(Math.floor((e.popularity||0)/20),5);y>0&&(s.push("Popularity boost"),a+=y),(e.vote_average||0)>3&&(s.push("High vote average"),a+=2.5*(e.vote_average||0));const v=new Set(e.genre_ids).size;v>1&&(s.push("Genre diversity"),a+=Math.min(v,3));const b=JSON.parse(localStorage.getItem("viewingHistory")||"[]").filter((t=>{var n;return null===(n=t.genre_ids)||void 0===n?void 0:n.some((t=>e.genre_ids.includes(t)))})).length;b>0&&(s.push("Similar tastes boost"),a+=2*b);const w=(null===(o=e.credits)||void 0===o||null===(o=o.crew)||void 0===o?void 0:o.reduce(((e,t)=>e+(c[t.job]||0)),0))||0;return w>0&&(s.push("Creative team boost"),a+=w),e.genre_ids.some((e=>(u[(new Date).getMonth()]||[]).includes(e)))&&(s.push("Seasonal recommendation"),a+=3),(e=>d.some((t=>(h-e)%t==0)))(g)&&(s.push("Classic film anniversary"),a+=2),{score:Math.min(Math.round(a),100),reasons:s}},m=async e=>{if(null==e||!e.media_type||null==e||!e.id)return console.error("Invalid primary result:",e),[];try{var t,n,r,i;const o=e.media_type,a=e.id,s="b484a8d608caf759d5d575db3ec03bbc";if(!["movie","tv"].includes(o))return console.error("Error: Invalid mediaType:",o),[];const c=(await l(`https://api.themoviedb.org/3/${o}/${a}`,{api_key:s,append_to_response:"keywords,credits"})).data,u="movie"===o?(null===(t=c.keywords)||void 0===t||null===(t=t.keywords)||void 0===t?void 0:t.map((e=>e.id)))||[]:(null===(n=c.keywords)||void 0===n||null===(n=n.results)||void 0===n?void 0:n.map((e=>e.id)))||[],d={genres:c.genres.map((e=>e.id)),keywords:u,director:null===(r=c.credits.crew.find((e=>"Director"===e.job)))||void 0===r?void 0:r.id,cast:c.credits.cast.slice(0,5).map((e=>e.id)),analysis:{mood:"neutral",themes:[]},title:c.title||c.name},h=l(`https://api.themoviedb.org/3/${o}/${a}/similar`,{api_key:s}),f="movie"===o?"tv":"movie",m=l(`https://api.themoviedb.org/3/discover/${f}`,{api_key:s,with_genres:d.genres.join(","),sort_by:"popularity.desc",page:1}),g=await Promise.allSettled([h,m]);let y=[];if(g.forEach(((e,t)=>{if("fulfilled"===e.status){const n=0===t?o:f,r=e.value.data.results.map((e=>({...e,media_type:n})));y.push(...r)}})),null!==(i=c.similar)&&void 0!==i&&i.results){const e=c.similar.results.map((e=>({...e,media_type:o})));y.push(...e)}const v=new Set,b=y.filter((e=>!(!e.id||!e.media_type||e.id===a||v.has(e.id)||(v.add(e.id),0)))),w=JSON.parse(localStorage.getItem("userPrefs")||"{}");let x=b.map((e=>({...e,...p(e,d)}))).sort(((e,t)=>t.score-e.score));x=x.map((e=>{let t=e.score;w.favoriteGenres&&e.genre_ids.some((e=>w.favoriteGenres.includes(e)))&&(t+=5,e.reasons.push("Matched your favorite genre"));const n=JSON.parse(localStorage.getItem("userRatings")||"{}");return n.similar&&n.similar.length>0&&n.similar.some((t=>e.genre_ids.includes(t.genreId)&&t.rating>=4))&&(t+=3,e.reasons.push("Boost from similar highly rated items")),{...e,score:t}})).sort(((e,t)=>t.score-e.score));let E=[];const S=new Set;for(const e of x){const t=e.genre_ids[0];if(S.has(t)?E.push(e):(E.push(e),S.add(t)),E.length>=9)break}return E.slice(0,9)}catch(e){return console.error("Recommendation engine error:",e),[]}},g=e=>{if(!e)return null;let t=[];if(e.referenceName){if(t.push(`Similar to "${e.referenceName}"`),e.modifierType)switch(e.modifierType){case"family-friendly":t.push("More family-friendly");break;case"darker":t.push("Darker tone");break;case"lighter":t.push("Lighter content");break;case"scarier":t.push("Scarier");break;case"more-action":t.push("More action");break;case"funnier":t.push("Funnier");break;case"more-dramatic":t.push("More dramatic")}return t.join(" but ")}if(e.mood)switch(e.mood){case"exciting":t.push("Exciting content");break;case"thoughtful":t.push("Thoughtful, meaningful content");break;case"emotional":t.push("Emotional, moving content");break;case"scary":t.push("Scary, thrilling content")}if(e.context)switch(e.context){case"date":t.push("Great for date night");break;case"family":t.push("Family-friendly");break;case"friends":t.push("Fun with friends");break;case"solo":t.push("Perfect for watching alone");break;case"learning":t.push("Educational content")}return e.emotionalState&&t.push(`Great when feeling ${e.emotionalState}`),e.genres&&e.genres.length>0&&t.push(e.genres.join(", ")),e.subjects&&e.subjects.length>0&&t.push(`About ${e.subjects.join(", ")}`),e.timeRange?t.push(`From ${e.timeRange.start}-${e.timeRange.end}`):e.year&&t.push(`From ${e.year}`),e.person&&t.push(`With ${e.person}`),t.join(" • ")}},7567:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},7642:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,l,c,u;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(l=s;0!=l--;)if(!o(e[l],a[l]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!o(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(l=s;0!=l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof a.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof a.toString)return e.toString()===a.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],a[c[l]]))return!1;return!0}return e!=e&&a!=a}e.exports=function(e,t){try{return o(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},7671:(e,t,n)=>{"use strict";e.exports=n(7933)},7715:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(n);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,d,h,f,p=e[c].replace(a,"%20"),m=p.indexOf(r);m>=0?(u=p.substr(0,m),d=p.substr(m+1)):(u=p,d=""),h=decodeURIComponent(u),f=decodeURIComponent(d),t(o,h)?Array.isArray(o[h])?o[h].push(f):o[h]=[o[h],f]:o[h]=f}return o}},7865:(e,t,n)=>{var r="Expected a function",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),h=Object.prototype.toString,f=Math.max,p=Math.min,m=function(){return d.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=a.test(e);return n||s.test(e)?l(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(r);return g(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),function(e,t,n){var i,o,a,s,l,c,u=0,d=!1,h=!1,v=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=i,r=o;return i=o=void 0,u=t,s=e.apply(r,n)}function w(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-u>=a}function x(){var e=m();if(w(e))return E(e);l=setTimeout(x,function(e){var n=t-(e-c);return h?p(n,a-(e-u)):n}(e))}function E(e){return l=void 0,v&&i?b(e):(i=o=void 0,s)}function S(){var e=m(),n=w(e);if(i=arguments,o=this,c=e,n){if(void 0===l)return function(e){return u=e,l=setTimeout(x,t),d?b(e):s}(c);if(h)return l=setTimeout(x,t),b(c)}return void 0===l&&(l=setTimeout(x,t)),s}return t=y(t)||0,g(n)&&(d=!!n.leading,a=(h="maxWait"in n)?f(y(n.maxWait)||0,t):a,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==l&&clearTimeout(l),u=0,i=c=o=l=void 0},S.flush=function(){return void 0===l?s:E(m())},S}(e,t,{leading:i,maxWait:t,trailing:o})}},7933:(e,t,n)=>{"use strict";var r=n(9471),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},7961:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=s(e),a=o[0],l=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,l)),u=0,d=l>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,c=r-i;s<c;s+=a)o.push(l(e,s,s+a>c?c:s+a));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8025:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},8080:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9471);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const o=r.forwardRef(i)},8397:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(5433);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(84);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(6130);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(2487);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},8582:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(E);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(_),_=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"==typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,C=null,_=-1,T=5,A=-1;function N(){return!(t.unstable_now()-A<T)}function I(){if(null!==C){var e=t.unstable_now();A=e;var n=!0;try{n=C(!0,e)}finally{n?S():(k=!1,C=null)}}else k=!1}if("function"==typeof b)S=function(){b(I)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=I,S=function(){R.postMessage(null)}}else S=function(){y(I,0)};function O(e){C=e,k||(k=!0,S())}function D(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(_),_=-1):g=!0,D(x,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},8585:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9471);function i({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"}))}const o=r.forwardRef(i)},8837:(e,t,n)=>{"use strict";function r(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],a=[],s={},l=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:l,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(l())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}n.r(t),n.d(t,{default:()=>r})},8842:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(6940),i=n(8025),o=n(3749),a=n(8397),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},8916:(e,t,n)=>{var r,i,o;void 0===(i="function"==typeof(r=o=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in o)o[l]&&(s+="; "+l,!0!==o[l]&&(s+="="+o[l].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(i[c]=l,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))})?r.call(t,n,t,e):r)||(e.exports=i),e.exports=o()},9002:function(e,t,n){"use strict";var r=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(1394)),i=n(3614);function o(e,t){var n={};return e&&"string"==typeof e?((0,r.default)(e,(function(e,r){e&&r&&(n[(0,i.camelCase)(e,t)]=r)})),n):n}o.default=o,e.exports=o},9388:(e,t)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}t.Observable=void 0;var o=function(){return"function"==typeof Symbol},a=function(e){return o()&&Boolean(Symbol[e])},s=function(e){return a(e)?Symbol[e]:"@@"+e};o()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var l=s("iterator"),c=s("observable"),u=s("species");function d(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function h(e){var t=e.constructor;return void 0!==t&&null===(t=t[u])&&(t=void 0),void 0!==t?t:E}function f(e){return e instanceof E}function p(e){p.log?p.log(e):setTimeout((function(){throw e}))}function m(e){Promise.resolve().then((function(){try{e()}catch(e){p(e)}}))}function g(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=d(t,"unsubscribe");n&&n.call(t)}}catch(e){p(e)}}function y(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function v(e,t,n){e._state="running";var r=e._observer;try{var i=d(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(y(e),!i)throw n;i.call(r,n);break;case"complete":y(e),i&&i.call(r)}}catch(e){p(e)}"closed"===e._state?g(e):"running"===e._state&&(e._state="ready")}function b(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void m((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(v(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void v(e,t,n);e._queue.push({type:t,value:n})}}var w=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new x(this);try{this._cleanup=r.call(void 0,i)}catch(e){i.error(e)}"initializing"===this._state&&(this._state="ready")}return i(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(y(this),g(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),x=function(){function e(t){n(this,e),this._subscription=t}return i(e,[{key:"next",value:function(e){b(this._subscription,"next",e)}},{key:"error",value:function(e){b(this._subscription,"error",e)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),E=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return i(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new w(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=h(this),r=arguments.length>1,i=!1,o=arguments[1];return new n((function(n){return t.subscribe({next:function(t){var a=!i;if(i=!0,!a||r)try{o=e(o,t)}catch(e){return n.error(e)}else o=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=h(this);return new i((function(t){var r,o=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=h(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){r.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=d(t,c);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return f(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(a("iterator")&&(r=d(t,l)))return new n((function(e){m((function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(e.next(l),e.closed)return}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){m((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new("function"==typeof this?this:e)((function(e){m((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:u,get:function(){return this}}]),e}();t.Observable=E,o()&&Object.defineProperty(E,Symbol("extensions"),{value:{symbol:c,hostReportError:p},configurable:!0})},9471:(e,t,n)=>{"use strict";e.exports=n(3534)},9613:(e,t,n)=>{var r=n(3847),i=n(2042);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},9618:function(e,t,n){var r;e=n.nmd(e),function(){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof n.g&&n.g;i.global!==i&&i.window!==i&&i.self;var o,a=2147483647,s=36,l=/^xn--/,c=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,f=String.fromCharCode;function p(e){throw RangeError(d[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+m((e=e.replace(u,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function v(e){return m(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+f(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=s)e=h(e/35);return h(r+36*e/(e+38))}function x(e){var t,n,r,i,o,l,c,u,d,f,m,g=[],y=e.length,b=0,x=128,E=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&p("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<y;){for(o=b,l=1,c=s;i>=y&&p("invalid-input"),((u=(m=e.charCodeAt(i++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:s)>=s||u>h((a-b)/l))&&p("overflow"),b+=u*l,!(u<(d=c<=E?1:c>=E+26?26:c-E));c+=s)l>h(a/(f=s-d))&&p("overflow"),l*=f;E=w(b-o,t=g.length+1,0==o),h(b/t)>a-x&&p("overflow"),x+=h(b/t),b%=t,g.splice(b++,0,x)}return v(g)}function E(e){var t,n,r,i,o,l,c,u,d,m,g,v,x,E,S,k=[];for(v=(e=y(e)).length,t=128,n=0,o=72,l=0;l<v;++l)(g=e[l])<128&&k.push(f(g));for(r=i=k.length,i&&k.push("-");r<v;){for(c=a,l=0;l<v;++l)(g=e[l])>=t&&g<c&&(c=g);for(c-t>h((a-n)/(x=r+1))&&p("overflow"),n+=(c-t)*x,t=c,l=0;l<v;++l)if((g=e[l])<t&&++n>a&&p("overflow"),g==t){for(u=n,d=s;!(u<(m=d<=o?1:d>=o+26?26:d-o));d+=s)S=u-m,E=s-m,k.push(f(b(m+S%E,0))),u=h(S/E);k.push(f(b(u,0))),o=w(n,x,r==i),n=0,++r}++n,++t}return k.join("")}o={version:"1.3.2",ucs2:{decode:y,encode:v},decode:x,encode:E,toASCII:function(e){return g(e,(function(e){return c.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return g(e,(function(e){return l.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},9727:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var r=n(9471),i=n(1815),o=n(3261),a=n(2075),s=n(6201),l=n(8585);function c({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const u=r.forwardRef(c);function d({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),r.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const h=r.forwardRef(d);var f=n(8080),p=n(7530);let m=new Set,g=!1,y=0,v=new Set,b=!1,w=0;const x=e=>{var t,n;return e?null!==(t=e.signInUserSession)&&void 0!==t&&null!==(t=t.accessToken)&&void 0!==t&&t.jwtToken?e.signInUserSession.accessToken.jwtToken:e.token?e.token:null!==(n=e.signInUserSession)&&void 0!==n&&null!==(n=n.idToken)&&void 0!==n&&n.jwtToken?e.signInUserSession.idToken.jwtToken:"string"==typeof e&&3===e.split(".").length?e:null:null},E=e=>{let{result:t,onClick:n,promptLogin:c,currentUser:d,isAuthenticated:E=!!d,simplifiedView:S=!1,onFavoriteToggle:k,onWatchlistToggle:C,highlightMatch:_=!1,initialIsFavorited:T=null,initialIsInWatchlist:A=null,fromWatchlist:N=!1,fromFavorites:I=!1,isMiniCard:P=!1}=e;const[R,O]=(0,r.useState)(null!=T&&T),[D,M]=(0,r.useState)(null!=A&&A),[U,L]=(0,r.useState)(!1),[F,j]=(0,r.useState)(!1),[B,z]=(0,r.useState)(!1),[V,H]=(0,r.useState)(!1),q=(0,r.useRef)(null!==T),$=(0,r.useRef)(null!==A),{id:W,title:K,name:Y,poster_path:G,overview:J,vote_average:Z,release_date:Q,first_air_date:X,media_type:ee,genre_ids:te,score:ne,scoreReasons:re,popularity:ie}=t||{},oe=null==W?void 0:W.toString(),ae=K||Y||"Untitled",se=(e=>{if(!e)return"";const t=new Date(e);return isNaN(t.getFullYear())?"":t.getFullYear().toString()})(Q||X);let le=0;null!=Z&&(le="string"==typeof Z?parseFloat(Z):Number(Z));const ce=le?Math.round(10*le)/10:0,[ue,de]=(0,r.useState)(ce),[he,fe]=(0,r.useState)(!1),pe=null!=ne?ne:Z?Math.round(10*Z):null,me=Math.round(ie)||"N/A",ge=ee||(Q?"movie":"tv"),ye=G?`https://image.tmdb.org/t/p/w500${G}`:"/placeholder.png",ve=(0,p.gg)(t);(0,r.useEffect)((()=>{(async()=>{if(oe&&!(ce>0)&&(I||N)){fe(!0);try{const e="movie"===ge?"movie":"tv",t=await fetch(`https://api.themoviedb.org/3/${e}/${oe}?api_key=b484a8d608caf759d5d575db3ec03bbc`);if(t.ok){const e=await t.json();if(e.vote_average){const t=Math.round(10*e.vote_average)/10;de(t)}}}catch(e){console.error(`Error fetching rating for ${ae}:`,e)}finally{fe(!1)}}})()}),[oe,ce,I,N,ge,ae]),(0,r.useEffect)((()=>{q.current||null!==T?null!==T&&O(T):(async()=>{if(!E||!d)return;const e=x(d);if(e)try{const t=Date.now();if(g&&t-y<3e4){const e=m.has(oe);return O(e),void(q.current=!0)}if(g)return;L(!0);const n=await fetch("https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod/favourite",{headers:{Authorization:`Bearer ${e}`},credentials:"include",mode:"cors"}).catch((e=>(console.warn("Error fetching favorites:",e.message),null)));if(!n)return O(!1),q.current=!0,void L(!1);if(n.ok){const e=await n.json();if(null!=e&&e.items&&Array.isArray(e.items)){m=new Set(e.items.map((e=>e.mediaId))),g=!0,y=Date.now();const t=m.has(oe);O(t)}else O(!1)}else O(!1);q.current=!0,L(!1)}catch(e){console.error("Error checking favorite status:",e),q.current=!0,L(!1)}})()}),[E,d,oe,T]),(0,r.useEffect)((()=>{$.current||null!==A?null!==A&&M(A):(async()=>{if(!E||!d)return;const e=x(d);if(e)try{const t=Date.now();if(b&&t-w<3e4){const e=v.has(oe);return M(e),void($.current=!0)}if(b)return;j(!0);const n=await fetch("https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod/watchlist",{headers:{Authorization:`Bearer ${e}`},credentials:"include",mode:"cors"}).catch((e=>(console.warn("Error fetching watchlist:",e.message),null)));if(!n)return M(!1),$.current=!0,void j(!1);if(n.ok){const e=await n.json();if(null!=e&&e.items&&Array.isArray(e.items)){v=new Set(e.items.map((e=>e.mediaId))),b=!0,w=Date.now();const t=v.has(oe);M(t)}else M(!1)}else M(!1);$.current=!0,j(!1)}catch(e){console.error("Error checking watchlist status:",e),$.current=!0,j(!1)}})()}),[E,d,oe,A]),(0,r.useEffect)((()=>{const e=e=>{const{mediaId:t,isFavorited:n}=e.detail||{};t===oe&&(O(n),n?m.add(t):m.delete(t))};return document.addEventListener("favorites-updated",e),()=>{document.removeEventListener("favorites-updated",e)}}),[oe]),(0,r.useEffect)((()=>{const e=e=>{const{mediaId:t,isInWatchlist:n}=e.detail||{};t===oe&&(M(n),n?v.add(t):v.delete(t))};return document.addEventListener("watchlist-updated",e),()=>{document.removeEventListener("watchlist-updated",e)}}),[oe]);const be=(0,r.useCallback)((async e=>{var t;if(e.stopPropagation(),e.preventDefault(),null===(t=e.nativeEvent)||void 0===t||t.stopImmediatePropagation(),q.current=!0,!E)return void(null==c||c());const n=x(d);if(!n)return;L(!0);const r=R,i=r?"DELETE":"POST";O(!r);try{const e=await fetch("https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod/favourite",{method:i,headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},credentials:"include",mode:"cors",body:JSON.stringify({mediaId:oe,title:ae,mediaType:ge,posterPath:G,overview:J})});if(!e.ok)throw O(r),new Error(`Server error: ${e.status}`);r?m.delete(oe):m.add(oe),z(!0),setTimeout((()=>z(!1)),1500),document.dispatchEvent(new CustomEvent("favorites-updated",{detail:{mediaId:oe,isFavorited:!r,item:r?null:{mediaId:oe,title:ae,mediaType:ge,posterPath:G,voteAverage:ce,releaseDate:Q||X}}})),k&&k(oe,!r),y=0}catch(e){console.error("Error updating favorite:",e)}finally{L(!1)}}),[E,d,oe,R,ae,ge,G,J,c,k]),we=(0,r.useCallback)((async e=>{var t;if(e&&(e.stopPropagation(),e.preventDefault(),null===(t=e.nativeEvent)||void 0===t||t.stopImmediatePropagation()),$.current=!0,!E)return void(null==c||c());const n=x(d);if(!n)return;j(!0);const r=D,i=r?"DELETE":"POST";M(!r);try{const t=await fetch("https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod/watchlist",{method:i,headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},credentials:"include",mode:"cors",body:JSON.stringify({mediaId:oe,title:ae,mediaType:ge,posterPath:G,overview:J})});if(!t.ok){M(r),console.error(`Server error: ${t.status}`);try{const e=await t.json();console.error("Error details:",e)}catch(e){}throw new Error(`Server error: ${t.status}`)}r?v.delete(oe):v.add(oe),H(!0),setTimeout((()=>H(!1)),1500),document.dispatchEvent(new CustomEvent("watchlist-updated",{detail:{mediaId:oe,isInWatchlist:!r,item:r?null:{mediaId:oe,title:ae,mediaType:ge,posterPath:G,voteAverage:ce,releaseDate:Q||X}}})),C&&C(oe,!r),w=0}catch(e){console.error("Error updating watchlist:",e),M(r)}finally{j(!1)}}),[E,d,oe,D,ae,ge,G,J,c,C]),xe=R?o.A:f.A,Ee=R?"text-red-500 animate-pulse":"text-white hover:text-red-300",Se=e=>{e.target.closest("button")||null==n||n(t)};return r.createElement(i.P.div,{role:"button",tabIndex:"0",onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),Se(e))},"aria-label":`View details for ${ae}`,className:"group bg-transparent rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 ease-out relative flex flex-col h-full cursor-pointer "+(_?"ring-2 ring-offset-1 ring-offset-gray-900 ring-indigo-500 shadow-lg shadow-indigo-500/20":""),whileHover:{y:-3},layout:!0},r.createElement("div",{className:`bg-white rounded-xl overflow-hidden shadow-lg ${R?"ring-1 ring-red-300/50":""} transition-all duration-300 h-full`,onClick:Se},r.createElement("div",{className:"relative overflow-hidden h-[140px] sm:h-[160px] md:h-[200px] flex-shrink-0"},r.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-10"}),r.createElement(i.P.img,{src:ye,alt:`Poster for ${ae}`,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},loading:"lazy"}),null!==pe&&r.createElement("div",{className:"absolute bottom-2 left-2 z-10 px-2 py-0.5 rounded-full text-xs font-semibold text-white shadow-md "+(pe>=70?"bg-green-600/90":pe>=50?"bg-yellow-600/90":"bg-red-600/90")},pe,"% Match"),r.createElement("span",{className:"absolute top-2 left-2 z-10 bg-black/60 text-white px-1.5 py-0.5 rounded-md text-[10px] sm:text-xs font-medium backdrop-blur-sm shadow"},"movie"===ge?"Movie":"TV"),E&&r.createElement(r.Fragment,null,r.createElement(i.P.button,{type:"button",onClick:be,disabled:U,className:`absolute top-2 right-2 z-20 p-1.5 rounded-full transition-all duration-200 ease-in-out backdrop-blur-sm focus:outline-none ${U?"bg-gray-500/70 cursor-not-allowed":R?"bg-red-600/70 hover:bg-red-500/80":"bg-black/50 hover:bg-black/70"} ${B?"ring-2 ring-offset-2 ring-offset-gray-800 ring-red-400":""}`,"aria-label":R?"Remove from favorites":"Add to favorites",whileTap:{scale:.9},whileHover:{scale:1.1},title:R?"Remove from favorites":"Add to favorites"},U?r.createElement("div",{className:"w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-spin"}):r.createElement(xe,{className:`w-5 h-5 ${Ee}`})),r.createElement(i.P.button,{type:"button",onClick:we,disabled:F,className:`absolute top-2 right-10 z-20 p-1.5 rounded-full transition-all duration-200 ease-in-out backdrop-blur-sm focus:outline-none ${F?"bg-gray-500/70 cursor-not-allowed":D?"bg-blue-600/70 hover:bg-blue-500/80":"bg-black/50 hover:bg-black/70"} ${V?"ring-2 ring-offset-2 ring-offset-gray-800 ring-blue-400":""}`,"aria-label":D?"Remove from watchlist":"Add to watchlist",whileTap:{scale:.9},whileHover:{scale:1.1},title:D?"Remove from watchlist":"Add to watchlist"},F?r.createElement("div",{className:"w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-spin"}):r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 "+(D?"text-blue-300":"text-white hover:text-blue-300"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:D?2.5:2},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})))),ve.friendsLiked>0&&!S&&r.createElement("div",{className:"absolute bottom-2 right-2 z-10 flex items-center bg-black/60 px-1.5 py-0.5 rounded-md backdrop-blur-sm"},r.createElement(h,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-blue-300"}),r.createElement("span",{className:"ml-1 text-[10px] sm:text-xs text-white font-medium"},ve.friendsLiked," liked")),_&&r.createElement("div",{className:"absolute top-0 left-0 z-10 bg-gradient-to-br from-purple-600 to-indigo-600 text-white text-[10px] sm:text-xs py-0.5 px-2 rounded-br-lg rounded-tl-xl shadow font-semibold"},"Matched! ✨")),N||I?r.createElement("div",{className:"p-2 sm:p-3"},r.createElement("h2",{className:"font-semibold text-gray-800 truncate text-sm sm:text-base",title:ae},ae),r.createElement("div",{className:"flex items-center justify-between mt-1 sm:mt-2 text-xs sm:text-sm"},r.createElement("span",{className:"bg-indigo-100 text-indigo-800 px-1.5 sm:px-2 py-0.5 rounded text-xs"},"movie"===ge?"Movie":"TV Show"),r.createElement("div",{className:"flex items-center"},r.createElement(a.A,{className:"w-3 h-3 text-amber-500 mr-0.5"}),he?r.createElement("span",{className:"text-gray-700 animate-pulse"},"•••"):r.createElement("span",{className:"text-gray-700"},ue>0?ue:ce>0?ce:"–")))):S?r.createElement("div",{className:"p-2 sm:p-3"},r.createElement("h2",{className:"font-semibold text-gray-800 truncate text-sm sm:text-base",title:ae},ae),r.createElement("div",{className:"flex items-center justify-between mt-1 sm:mt-2 text-xs sm:text-sm"},r.createElement("div",{className:"flex items-center space-x-1 sm:space-x-2"},r.createElement("span",{className:"bg-indigo-100 text-indigo-800 px-1.5 sm:px-2 py-0.5 rounded text-xs"},"movie"===ge?"Movie":"TV Show"),se&&r.createElement("span",{className:"text-gray-600"},se)),ce>0&&r.createElement("div",{className:"flex items-center"},r.createElement(a.A,{className:"w-3 h-3 text-amber-500 mr-0.5"}),r.createElement("span",{className:"text-gray-700"},ce)))):r.createElement("div",{className:"p-2 sm:p-3 flex flex-col flex-grow bg-white rounded-b-xl"},r.createElement("h2",{className:"text-xs sm:text-sm md:text-base font-bold text-gray-800 mb-1 line-clamp-1 group-hover:text-indigo-700 transition-colors duration-300",title:ae},ae),J&&r.createElement("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2 mb-1 sm:mb-2 leading-relaxed flex-grow"},J),re&&re.length>0&&r.createElement("div",{className:"mt-auto mb-2 space-y-1"},re.map(((e,t)=>r.createElement("div",{key:t,className:"flex items-center text-[10px] sm:text-xs"},r.createElement(s.A,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 mr-1 text-green-500 flex-shrink-0"}),r.createElement("span",{className:"text-gray-600 truncate"},e))))),r.createElement("div",{className:"border-t border-gray-100 pt-2 flex items-center justify-between space-x-1"},r.createElement("div",{className:"flex items-center space-x-1"},r.createElement(a.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-amber-400"}),r.createElement("span",{className:"font-medium text-xs sm:text-sm text-gray-700"},ce||"N/A")),r.createElement("div",{className:"flex items-center space-x-1"},r.createElement(l.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),r.createElement("span",{className:"text-xs sm:text-sm text-gray-600"},se||"N/A")),r.createElement("div",{className:"flex items-center space-x-1"},r.createElement(u,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),r.createElement("span",{className:"text-xs sm:text-sm text-gray-600"},me))))))},S=r.memo(E)},9794:(e,t,n)=>{var r,i,o=n(3847),a=n(2042),s=0,l=0;e.exports=function(e,t,n){var c=t&&n||0,u=t||[],d=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==h){var f=o();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==h&&(h=i=16383&(f[6]<<8|f[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=p-s+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(h=h+1&16383),(g<0||p>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,l=m,i=h;var y=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;u[c++]=y>>>24&255,u[c++]=y>>>16&255,u[c++]=y>>>8&255,u[c++]=255&y;var v=p/4294967296*1e4&268435455;u[c++]=v>>>8&255,u[c++]=255&v,u[c++]=v>>>24&15|16,u[c++]=v>>>16&255,u[c++]=h>>>8|128,u[c++]=255&h;for(var b=0;b<6;++b)u[c+b]=d[b];return t||a(u)}},9817:(e,t,n)=>{"use strict";e.exports=n(8582)},9834:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(7230)},9922:(e,t,n)=>{"use strict";const r=n(7961),i=n(1024),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=l,t.IS=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=s(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const i=function(e){if(l.isBuffer(e)){const t=0|p(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||J(e.length)?s(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(i)return r?-1:W(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){let o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*a}else-1!==r&&(o-=o-r),r=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function w(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let a;for(r>o/2&&(r=o/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(J(r))return a;e[n+a]=r}return a}function x(e,t,n,r){return Y(W(t,e.length-n),e,n,r)}function E(e,t,n,r){return Y(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return Y(K(t),e,n,r)}function k(e,t,n,r){return Y(function(e,t){let n,r,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,s,l;switch(a){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(o=l));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(G(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(G(t,Uint8Array))i+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(G(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n);for(let e=0;e<s;++e)if(c[e]!==u[e]){o=c[e],a=u[e];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function A(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function N(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=Z[e[r]];return i}function P(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r,i){V(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function M(e,t,n,r,i){V(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return t=+t,n>>>=0,o||U(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return t=+t,n>>>=0,o||U(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Q((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=Q((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Q((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=Q((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=Q((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Q((function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}let i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=Q((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Q((function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=l.isBuffer(e)?e:l.from(e,r),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this};const j={};function B(e,t,n){j[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function z(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function V(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new j.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,i,o)}function H(e,t){if("number"!=typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw H(e,n),new j.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}B("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),B("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),B("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=z(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=z(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function W(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,i.d(o,a),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};i.r(e),i.d(e,{boolean:()=>Ed,booleanish:()=>Sd,commaOrSpaceSeparated:()=>Ad,commaSeparated:()=>Td,number:()=>Cd,overloadedBoolean:()=>kd,spaceSeparated:()=>_d});var t={};i.r(t),i.d(t,{attentionMarkers:()=>ip,contentInitial:()=>Qf,disable:()=>op,document:()=>Zf,flow:()=>ep,flowInitial:()=>Xf,insideSpan:()=>rp,string:()=>tp,text:()=>np});var n,r,o=i(9471),a=i.t(o,2),s=i(4723),l=i(7642),c=i.n(l),u=i(160),d=i.n(u),h=i(5416),f=i.n(h),p=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(p||{}),m={rel:["amphtml","canonical","alternate"]},g={type:["application/ld+json"]},y={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},v=Object.values(p),b={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},w=Object.entries(b).reduce(((e,[t,n])=>(e[n]=t,e)),{}),x="data-rh",E=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},S=e=>{let t=E(e,"title");const n=E(e,"titleTemplate");if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,(()=>t));const r=E(e,"defaultTitle");return t||r||void 0},k=e=>E(e,"onChangeClientState")||(()=>{}),C=(e,t)=>t.filter((t=>void 0!==t[e])).map((t=>t[e])).reduce(((e,t)=>({...e,...t})),{}),_=(e,t)=>t.filter((e=>void 0!==e.base)).map((e=>e.base)).reverse().reduce(((t,n)=>{if(!t.length){const r=Object.keys(n);for(let i=0;i<r.length;i+=1){const o=r[i].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}}return t}),[]),T=(e,t,n)=>{const r={};return n.filter((t=>{return!!Array.isArray(t[e])||(void 0!==t[e]&&(n=`Helmet: ${e} should be of type "Array". Instead found type "${typeof t[e]}"`,console&&"function"==typeof console.warn&&console.warn(n)),!1);var n})).map((t=>t[e])).reverse().reduce(((e,n)=>{const i={};n.filter((e=>{let n;const o=Object.keys(e);for(let r=0;r<o.length;r+=1){const i=o[r],a=i.toLowerCase();-1===t.indexOf(a)||"rel"===n&&"canonical"===e[n].toLowerCase()||"rel"===a&&"stylesheet"===e[a].toLowerCase()||(n=a),-1===t.indexOf(i)||"innerHTML"!==i&&"cssText"!==i&&"itemprop"!==i||(n=i)}if(!n||!e[n])return!1;const a=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][a]&&(i[n][a]=!0,!0)})).reverse().forEach((t=>e.push(t)));const o=Object.keys(i);for(let e=0;e<o.length;e+=1){const t=o[e],n={...r[t],...i[t]};r[t]=n}return e}),[]).reverse()},A=(e,t)=>{if(Array.isArray(e)&&e.length)for(let n=0;n<e.length;n+=1)if(e[n][t])return!0;return!1},N=e=>Array.isArray(e)?e.join(""):e,I=(e,t)=>Array.isArray(e)?e.reduce(((e,n)=>(((e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1})(n,t)?e.priority.push(n):e.default.push(n),e)),{priority:[],default:[]}):{default:e,priority:[]},P=(e,t)=>({...e,[t]:void 0}),R=["noscript","script","style"],O=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),D=e=>Object.keys(e).reduce(((t,n)=>{const r=void 0!==e[n]?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r}),""),M=(e,t={})=>Object.keys(e).reduce(((t,n)=>(t[b[n]||n]=e[n],t)),t),U=(e,t)=>t.map(((t,n)=>{const r={key:n,[x]:!0};return Object.keys(t).forEach((e=>{const n=b[e]||e;if("innerHTML"===n||"cssText"===n){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[n]=t[e]})),o.createElement(e,r)})),L=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,n)=>{const r=M(n,{key:t,[x]:!0});return[o.createElement("title",r,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,n,r)=>{const i=D(n),o=N(t);return i?`<${e} ${x}="true" ${i}>${O(o,r)}</${e}>`:`<${e} ${x}="true">${O(o,r)}</${e}>`})(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>M(t),toString:()=>D(t)};default:return{toComponent:()=>U(e,t),toString:()=>((e,t,n=!0)=>t.reduce(((t,r)=>{const i=r,o=Object.keys(i).filter((e=>!("innerHTML"===e||"cssText"===e))).reduce(((e,t)=>{const r=void 0===i[t]?t:`${t}="${O(i[t],n)}"`;return e?`${e} ${r}`:r}),""),a=i.innerHTML||i.cssText||"",s=-1===R.indexOf(e);return`${t}<${e} ${x}="true" ${o}${s?"/>":`>${a}</${e}>`}`}),""))(e,t,n)}}},F=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:o,styleTags:a,title:s="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:u,metaTags:d,scriptTags:h}=e,f={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:f,linkTags:u,metaTags:d,scriptTags:h}=(({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const i=I(e,y),o=I(t,m),a=I(n,g);return{priorityMethods:{toComponent:()=>[...U("meta",i.priority),...U("link",o.priority),...U("script",a.priority)],toString:()=>`${L("meta",i.priority,r)} ${L("link",o.priority,r)} ${L("script",a.priority,r)}`},metaTags:i.default,linkTags:o.default,scriptTags:a.default}})(e)),{priority:f,base:L("base",t,r),bodyAttributes:L("bodyAttributes",n,r),htmlAttributes:L("htmlAttributes",i,r),link:L("link",u,r),meta:L("meta",d,r),noscript:L("noscript",o,r),script:L("script",h,r),style:L("style",a,r),title:L("title",{title:s,titleAttributes:l},r)}},j=[],B=!("undefined"==typeof window||!window.document||!window.document.createElement),z=class{instances=[];canUseDOM=B;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?j:this.instances,add:e=>{(this.canUseDOM?j:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?j:this.instances).indexOf(e);(this.canUseDOM?j:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=F({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},V=o.createContext({}),H=class e extends o.Component{static canUseDOM=B;helmetData;constructor(t){super(t),this.helmetData=new z(this.props.context||{},e.canUseDOM)}render(){return o.createElement(V.Provider,{value:this.helmetData.value},this.props.children)}},q=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${x}]`),i=[].slice.call(r),o=[];let a;return t&&t.length&&t.forEach((t=>{const n=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)n.innerHTML=t.innerHTML;else if("cssText"===e)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{const r=e,i=void 0===t[r]?"":t[r];n.setAttribute(e,i)}n.setAttribute(x,"true"),i.some(((e,t)=>(a=t,n.isEqualNode(e))))?i.splice(a,1):o.push(n)})),i.forEach((e=>e.parentNode?.removeChild(e))),o.forEach((e=>n.appendChild(e))),{oldTags:i,newTags:o}},$=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(x),i=r?r.split(","):[],o=[...i],a=Object.keys(t);for(const e of a){const r=t[e]||"";n.getAttribute(e)!==r&&n.setAttribute(e,r),-1===i.indexOf(e)&&i.push(e);const a=o.indexOf(e);-1!==a&&o.splice(a,1)}for(let e=o.length-1;e>=0;e-=1)n.removeAttribute(o[e]);i.length===o.length?n.removeAttribute(x):n.getAttribute(x)!==a.join(",")&&n.setAttribute(x,a.join(","))},W=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:o,metaTags:a,noscriptTags:s,onChangeClientState:l,scriptTags:c,styleTags:u,title:d,titleAttributes:h}=e;$("body",r),$("html",i),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=N(e)),$("title",t)})(d,h);const f={baseTag:q("base",n),linkTags:q("link",o),metaTags:q("meta",a),noscriptTags:q("noscript",s),scriptTags:q("script",c),styleTags:q("style",u)},p={},m={};Object.keys(f).forEach((e=>{const{newTags:t,oldTags:n}=f[e];t.length&&(p[e]=t),n.length&&(m[e]=f[e].oldTags)})),t&&t(),l(e,p,m)},K=null,Y=class extends o.Component{rendered=!1;shouldComponentUpdate(e){return!f()(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const r=(i=e.get().map((e=>{const t={...e.props};return delete t.context,t})),{baseTag:_(["href"],i),bodyAttributes:C("bodyAttributes",i),defer:E(i,"defer"),encode:E(i,"encodeSpecialCharacters"),htmlAttributes:C("htmlAttributes",i),linkTags:T("link",["rel","href"],i),metaTags:T("meta",["name","charset","http-equiv","property","itemprop"],i),noscriptTags:T("noscript",["innerHTML"],i),onChangeClientState:k(i),scriptTags:T("script",["src","innerHTML"],i),styleTags:T("style",["cssText"],i),title:S(i),titleAttributes:C("titleAttributes",i),prioritizeSeoTags:A(i,"prioritizeSeoTags")});var i,o;H.canUseDOM?(o=r,K&&cancelAnimationFrame(K),o.defer?K=requestAnimationFrame((()=>{W(o,(()=>{K=null}))})):(W(o),K=null)):F&&(n=F(r)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},G=class extends o.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!c()(P(this.props,"helmetData"),P(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach((t=>{n={...n,[t]:e[t]}})),n}warnOnInvalidChildren(e,t){return d()(v.some((t=>e.type===t)),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${v.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),d()(!t||"string"==typeof t||Array.isArray(t)&&!t.some((e=>"string"!=typeof e)),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return o.Children.forEach(e,(e=>{if(!e||!e.props)return;const{children:r,...i}=e.props,o=Object.keys(i).reduce(((e,t)=>(e[w[t]||t]=i[t],e)),{});let{type:a}=e;switch("symbol"==typeof a?a=a.toString():this.warnOnInvalidChildren(e,r),a){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(e,n,o,r);break;default:t=this.mapObjectTypeChildren(e,t,o,r)}})),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;return e&&(n=this.mapChildrenToProps(e,n)),!r||r instanceof z||(r=new z(r.context,!0),delete n.helmetData),r?o.createElement(Y,{...n,context:r.value}):o.createElement(V.Consumer,null,(e=>o.createElement(Y,{...n,context:e})))}},J=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Z=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Q={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};(r=n||(n={})).DEBUG="DEBUG",r.ERROR="ERROR",r.INFO="INFO",r.WARN="WARN",r.VERBOSE="VERBOSE";var X=function(){function e(e,t){void 0===t&&(t=n.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},e.prototype._log=function(t){for(var r,i,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];var s=this.level;if(e.LOG_LEVEL&&(s=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(s=window.LOG_LEVEL),Q[t]>=Q[s]){var l=console.log.bind(console);t===n.ERROR&&console.error&&(l=console.error.bind(console)),t===n.WARN&&console.warn&&(l=console.warn.bind(console));var c="[".concat(t,"] ").concat(this._ts()," ").concat(this.name),u="";if(1===o.length&&"string"==typeof o[0])l(u="".concat(c," - ").concat(o[0]));else if(1===o.length)u="".concat(c," ").concat(o[0]),l(c,o[0]);else if("string"==typeof o[0]){var d=o.slice(1);1===d.length&&(d=d[0]),u="".concat(c," - ").concat(o[0]," ").concat(d),l("".concat(c," - ").concat(o[0]),d)}else u="".concat(c," ").concat(o),l(c,o);try{for(var h=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._pluggables),f=h.next();!f.done;f=h.next()){var p=f.value,m={message:u,timestamp:Date.now()};p.pushLogs([m])}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,Z([n.INFO],J(e),!1))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,Z([n.INFO],J(e),!1))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,Z([n.WARN],J(e),!1))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,Z([n.ERROR],J(e),!1))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,Z([n.DEBUG],J(e),!1))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,Z([n.VERBOSE],J(e),!1))},e.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),ee=new X("Amplify"),te=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Notifications=null,this.Logger=X,this.ServiceWorker=null}return e.prototype.register=function(e){ee.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):ee.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),ee.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,2),r=(n[0],n[1]);Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)}))},e}());function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}var re,ie;(ie=re||(re={})).Pop="POP",ie.Push="PUSH",ie.Replace="REPLACE";const oe="popstate";function ae(e,t){if(!1===e||null==e)throw new Error(t)}function se(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function le(e,t){return{usr:e.state,key:e.key,idx:t}}function ce(e,t,n,r){return void 0===n&&(n=null),ne({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?de(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function ue(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function de(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var he,fe;function pe(e,t,n){return void 0===n&&(n="/"),function(e,t,n,r){let i=Ae(("string"==typeof t?de(t):t).pathname||"/",n);if(null==i)return null;let o=me(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let e=0;null==a&&e<o.length;++e){let t=Te(i);a=Ce(o[e],t,r)}return a}(e,t,n,!1)}function me(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(ae(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=Re([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(ae(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),me(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:ke(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of ge(e.path))i(e,t,n);else i(e,t)})),t}function ge(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=ge(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}(fe=he||(he={})).data="data",fe.deferred="deferred",fe.redirect="redirect",fe.error="error",new Set(["lazy","caseSensitive","path","id","index","children"]);const ye=/^:[\w-]+$/,ve=3,be=2,we=1,xe=10,Ee=-2,Se=e=>"*"===e;function ke(e,t){let n=e.split("/"),r=n.length;return n.some(Se)&&(r+=Ee),t&&(r+=be),n.filter((e=>!Se(e))).reduce(((e,t)=>e+(ye.test(t)?ve:""===t?we:xe)),r)}function Ce(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let e=0;e<r.length;++e){let s=r[e],l=e===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=_e({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c),d=s.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=_e({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:Re([o,u.pathname]),pathnameBase:Oe(Re([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=Re([o,u.pathnameBase]))}return a}function _e(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),se("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function Te(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return se(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Ae(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Ne(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Ie(e,t){let n=function(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function Pe(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=de(e):(i=ne({},e),ae(!i.pathname||!i.pathname.includes("?"),Ne("?","pathname","search",i)),ae(!i.pathname||!i.pathname.includes("#"),Ne("#","pathname","hash",i)),ae(!i.search||!i.search.includes("#"),Ne("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?de(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:De(r),hash:Me(i)}}(i,o),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Re=e=>e.join("/").replace(/\/\/+/g,"/"),Oe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),De=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Me=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const Ue=["post","put","patch","delete"],Le=(new Set(Ue),["get",...Ue]);function Fe(){return Fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe.apply(this,arguments)}new Set(Le),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const je=o.createContext(null),Be=o.createContext(null),ze=o.createContext(null),Ve=o.createContext(null),He=o.createContext({outlet:null,matches:[],isDataRoute:!1}),qe=o.createContext(null);function $e(){return null!=o.useContext(Ve)}function We(){return $e()||ae(!1),o.useContext(Ve).location}function Ke(e){o.useContext(ze).static||o.useLayoutEffect(e)}function Ye(){let{isDataRoute:e}=o.useContext(He);return e?function(){let{router:e}=function(){let e=o.useContext(je);return e||ae(!1),e}(tt.UseNavigateStable),t=rt(nt.UseNavigateStable),n=o.useRef(!1);return Ke((()=>{n.current=!0})),o.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,Fe({fromRouteId:t},i)))}),[e,t])}():function(){$e()||ae(!1);let e=o.useContext(je),{basename:t,future:n,navigator:r}=o.useContext(ze),{matches:i}=o.useContext(He),{pathname:a}=We(),s=JSON.stringify(Ie(i,n.v7_relativeSplatPath)),l=o.useRef(!1);return Ke((()=>{l.current=!0})),o.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"==typeof n)return void r.go(n);let o=Pe(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:Re([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,s,a,e])}()}function Ge(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=o.useContext(ze),{matches:i}=o.useContext(He),{pathname:a}=We(),s=JSON.stringify(Ie(i,r.v7_relativeSplatPath));return o.useMemo((()=>Pe(e,JSON.parse(s),a,"path"===n)),[e,s,a,n])}function Je(e,t,n,r){$e()||ae(!1);let{navigator:i,static:a}=o.useContext(ze),{matches:s}=o.useContext(He),l=s[s.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,h=We();if(t){var f;let e="string"==typeof t?de(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||ae(!1),d=e}else d=h;let p=d.pathname||"/",m=p;if("/"!==u){let e=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=!a&&n&&n.matches&&n.matches.length>0?n.matches:pe(e,{pathname:m}),y=function(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||ae(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<s.length;e++){let t=s[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,r,i)=>{let a,d=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||Qe,c&&(u<0&&0===i?(it[p="route-fallback"]||(it[p]=!0),d=!0,f=null):u===i&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,i+1)),g=()=>{let t;return t=a?h:d?f:r.route.Component?o.createElement(r.route.Component,null):r.route.element?r.route.element:e,o.createElement(et,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?o.createElement(Xe,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Re([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Re([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,r);return t&&y?o.createElement(Ve.Provider,{value:{location:Fe({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:re.Pop}},y):y}function Ze(){let e=function(){var e;let t=o.useContext(qe),n=function(){let e=o.useContext(Be);return e||ae(!1),e}(nt.UseRouteError),r=rt(nt.UseRouteError);return void 0!==t?t:null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:r},n):null,null)}const Qe=o.createElement(Ze,null);class Xe extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(He.Provider,{value:this.props.routeContext},o.createElement(qe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function et(e){let{routeContext:t,match:n,children:r}=e,i=o.useContext(je);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(He.Provider,{value:t},r)}var tt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tt||{}),nt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nt||{});function rt(e){let t=function(){let e=o.useContext(He);return e||ae(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||ae(!1),n.route.id}const it={};function ot(e){let{to:t,replace:n,state:r,relative:i}=e;$e()||ae(!1);let{future:a,static:s}=o.useContext(ze),{matches:l}=o.useContext(He),{pathname:c}=We(),u=Ye(),d=Pe(t,Ie(l,a.v7_relativeSplatPath),c,"path"===i),h=JSON.stringify(d);return o.useEffect((()=>u(JSON.parse(h),{replace:n,state:r,relative:i})),[u,h,i,n,r]),null}function at(e){ae(!1)}function st(e){let{basename:t="/",children:n=null,location:r,navigationType:i=re.Pop,navigator:a,static:s=!1,future:l}=e;$e()&&ae(!1);let c=t.replace(/^\/*/,"/"),u=o.useMemo((()=>({basename:c,navigator:a,static:s,future:Fe({v7_relativeSplatPath:!1},l)})),[c,l,a,s]);"string"==typeof r&&(r=de(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,g=o.useMemo((()=>{let e=Ae(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:i}}),[c,d,h,f,p,m,i]);return null==g?null:o.createElement(ze.Provider,{value:u},o.createElement(Ve.Provider,{children:n,value:g}))}function lt(e){let{children:t,location:n}=e;return Je(ct(t),n)}function ct(e,t){void 0===t&&(t=[]);let n=[];return o.Children.forEach(e,((e,r)=>{if(!o.isValidElement(e))return;let i=[...t,r];if(e.type===o.Fragment)return void n.push.apply(n,ct(e.props.children,i));e.type!==at&&ae(!1),e.props.index&&e.props.children&&ae(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ct(e.props.children,i)),n.push(a)})),n}a.startTransition,new Promise((()=>{})),o.Component;var ut=i(9834),dt=i.t(ut,2);function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(this,arguments)}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ft=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(e){}new Map;const pt=a.startTransition;function mt(e){let{basename:t,children:n,future:r,window:i}=e,a=o.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:i,v5Compat:!0})&&(s={}),function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=re.Pop,l=null,c=u();function u(){return(a.state||{idx:null}).idx}function d(){s=re.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:ue(e);return n=n.replace(/ $/,"%20"),ae(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,a.replaceState(ne({},a.state,{idx:c}),""));let f={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(oe,d),l=e,()=>{i.removeEventListener(oe,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=re.Push;let r=ce(f.location,e,t);n&&n(r,e),c=u()+1;let d=le(r,c),h=f.createHref(r);try{a.pushState(d,"",h)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;i.location.assign(h)}o&&l&&l({action:s,location:f.location,delta:1})},replace:function(e,t){s=re.Replace;let r=ce(f.location,e,t);n&&n(r,e),c=u();let i=le(r,c),d=f.createHref(r);a.replaceState(i,"",d),o&&l&&l({action:s,location:f.location,delta:0})},go:e=>a.go(e)};return f}((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return ce("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:ue(t)}),null,s)));let l=a.current,[c,u]=o.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=o.useCallback((e=>{d&&pt?pt((()=>u(e))):u(e)}),[u,d]);return o.useLayoutEffect((()=>l.listen(h)),[l,h]),o.useEffect((()=>{return null==(e=r)||e.v7_startTransition,void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&t.v7_relativeSplatPath,void(t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation));var e,t}),[r]),o.createElement(st,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}dt.flushSync,a.useId;const gt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,yt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=o.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ft),{basename:p}=o.useContext(ze),m=!1;if("string"==typeof u&&yt.test(u)&&(n=u,gt))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=Ae(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(e){}let g=function(e,t){let{relative:n}=void 0===t?{}:t;$e()||ae(!1);let{basename:r,navigator:i}=o.useContext(ze),{hash:a,pathname:s,search:l}=Ge(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:Re([r,s])),i.createHref({pathname:c,search:l,hash:a})}(u,{relative:i}),y=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:l}=void 0===t?{}:t,c=Ye(),u=We(),d=Ge(e,{relative:s});return o.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:ue(u)===ue(d);c(e,{replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:l})}}),[u,c,d,r,i,n,e,a,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});return o.createElement("a",ht({},f,{href:n||g,onClick:m||a?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:c}))}));var bt,wt,xt,Et;(wt=bt||(bt={})).UseScrollRestoration="useScrollRestoration",wt.UseSubmit="useSubmit",wt.UseSubmitFetcher="useSubmitFetcher",wt.UseFetcher="useFetcher",wt.useViewTransitionState="useViewTransitionState",(Et=xt||(xt={})).UseFetcher="useFetcher",Et.UseFetchers="useFetchers",Et.UseScrollRestoration="useScrollRestoration";var St,kt,Ct,_t,Tt,At,Nt=i(6940);function It(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function Pt(e){return void 0!==e.redirectSignIn}(kt=St||(St={})).Cognito="COGNITO",kt.Google="Google",kt.Facebook="Facebook",kt.Amazon="LoginWithAmazon",kt.Apple="SignInWithApple",(_t=Ct||(Ct={})).NoConfig="noConfig",_t.MissingAuthConfig="missingAuthConfig",_t.EmptyUsername="emptyUsername",_t.InvalidUsername="invalidUsername",_t.EmptyPassword="emptyPassword",_t.EmptyCode="emptyCode",_t.SignUpError="signUpError",_t.NoMFA="noMFA",_t.InvalidMFA="invalidMFA",_t.EmptyChallengeResponse="emptyChallengeResponse",_t.NoUserSession="noUserSession",_t.Default="default",_t.DeviceConfig="deviceConfig",_t.NetworkError="networkError",_t.AutoSignInError="autoSignInError",(At=Tt||(Tt={})).API_KEY="API_KEY",At.AWS_IAM="AWS_IAM",At.OPENID_CONNECT="OPENID_CONNECT",At.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",At.AWS_LAMBDA="AWS_LAMBDA";var Rt,Ot=function(){return Ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ot.apply(this,arguments)},Dt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Mt=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Ut=new X("Hub"),Lt="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Ft=new(function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype._remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void Ut.warn("No listeners for ".concat(e));this.patterns=Mt([],Dt(this.patterns.filter((function(e){return e!==n}))),!1)}else{var r=this.listeners[e];if(!r)return void Ut.warn("No listeners for ".concat(e));this.listeners[e]=Mt([],Dt(r.filter((function(e){return e.callback!==t}))),!1)}},e.prototype.remove=function(e,t){this._remove(e,t)},e.prototype.dispatch=function(e,t,n,r){void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1&&(r===Lt||Ut.warn("WARNING: ".concat(e," is protected and dispatching on it can have unintended consequences")));var i={channel:e,payload:Ot({},t),source:n,patternInfo:[]};try{this._toListeners(i)}catch(e){Ut.error(e)}},e.prototype.listen=function(e,t,n){var r,i=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))Ut.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:r})}return function(){i._remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){Ut.debug("Dispatching to ".concat(t," with "),n);try{r.callback(e)}catch(e){Ut.error(e)}})),this.patterns.length>0){if(!n.message)return void Ut.warn("Cannot perform pattern matching without a message key");var i=n.message;this.patterns.forEach((function(t){var n=i.match(t.pattern);if(n){var r=Dt(n).slice(1),o=Ot(Ot({},e),{patternInfo:r});try{t.callback(o)}catch(e){Ut.error(e)}}}))}},e}())("__default__"),jt={},Bt=function(){function e(){}return e.setItem=function(e,t){return jt[e]=t,jt[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(jt,e)?jt[e]:void 0},e.removeItem=function(e){return delete jt[e]},e.clear=function(){return jt={}},e}(),zt=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=Bt}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),Vt=i(1385),Ht=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:void 0!==Vt&&null!=Vt.versions&&null!=Vt.versions.node}},qt=(Rt=function(e,t){return Rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Rt(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Rt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$t=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Wt=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Kt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Yt=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Gt=new X("Util"),Jt=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return qt(t,e),t}(Error),Zt=function(e){return e&&e.nonRetryable},Qt=3e5;function Xt(e){return void 0===e&&(e=Qt),function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}var en,tn,nn,rn,on,an,sn,ln,cn,un,dn,hn,fn,pn,mn,gn,yn,vn,bn,wn,xn=function(e,t,n,r){return void 0===n&&(n=Qt),function(e,t,n,r){return $t(this,void 0,void 0,(function(){var i=this;return Wt(this,(function(o){if("function"!=typeof e)throw Error("functionToRetry must be a function");return[2,new Promise((function(o,a){return $t(i,void 0,void 0,(function(){var i,s,l,c,u,d,h;return Wt(this,(function(f){switch(f.label){case 0:i=0,s=!1,c=function(){},r&&r.then((function(){s=!0,clearTimeout(l),c()})),d=function(){var r,d,h,f;return Wt(this,(function(p){switch(p.label){case 0:i++,Gt.debug("".concat(e.name," attempt #").concat(i," with this vars: ").concat(JSON.stringify(t))),p.label=1;case 1:return p.trys.push([1,3,,7]),r={},d=o,[4,e.apply(void 0,Yt([],Kt(t),!1))];case 2:return[2,(r.value=d.apply(void 0,[p.sent()]),r)];case 3:return h=p.sent(),u=h,Gt.debug("error on ".concat(e.name),h),Zt(h)?(Gt.debug("".concat(e.name," non retryable error"),h),[2,{value:a(h)}]):(f=n(i,t,h),Gt.debug("".concat(e.name," retrying in ").concat(f," ms")),!1===f||s?[2,{value:a(h)}]:[3,4]);case 4:return[4,new Promise((function(e){c=e,l=setTimeout(c,f)}))];case 5:p.sent(),p.label=6;case 6:return[3,7];case 7:return[2]}}))},f.label=1;case 1:return s?[3,3]:[5,d()];case 2:return"object"==typeof(h=f.sent())?[2,h.value]:[3,1];case 3:return a(u),[2]}}))}))}))]}))}))}(e,t,Xt(n),r)},En=new X("CognitoCredentials"),Sn=new Promise((function(e,t){return Ht().isBrowser?window.gapi&&window.gapi.auth2&&window.gapi.auth2?(En.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(En.debug("not in the browser, directly resolved"),e())})),kn=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(En.debug("need to wait for the Google SDK loaded"),[4,Sn]);case 1:e.sent(),this.initialized=!0,En.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))},new((n=void 0)||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}));var e,t,n,r},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return Ht().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(En.debug("google Auth undefined"),n(new Jt("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(En.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new Jt("Failed to reload google auth response"))}))):n(new Jt("User is not signed in with Google"))})).catch((function(e){En.debug("Failed to refresh google token",e),n(new Jt("Failed to refresh google token"))}))})):(En.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),Cn=new X("CognitoCredentials"),_n=new Promise((function(e,t){return Ht().isBrowser?window.FB?(Cn.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(Cn.debug("not in the browser, directly resolved"),e())})),Tn=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(Cn.debug("need to wait for the Facebook SDK loaded"),[4,_n]);case 1:e.sent(),this.initialized=!0,Cn.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))},new((n=void 0)||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}));var e,t,n,r},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(Ht().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return Cn.debug(t),Promise.reject(new Jt(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,i=r.accessToken,o=1e3*r.expiresIn+(new Date).getTime();i||(a="the jwtToken is undefined",Cn.debug(a),n(new Jt(a))),t({token:i,expires_at:o})}else{var a="no response from facebook when refreshing the jwt token";Cn.debug(a),n(new Jt(a))}}),{scope:"public_profile,email"})}))},e}(),An=new kn,Nn=new Tn,In={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},Pn={partitions:[In,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},Rn=function(e){var t,n,r=Pn.partitions;try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.regions,l=a.outputs,c=a.regionRegex,u=new RegExp(c);if(s.includes(e)||u.test(e))return l.dnsSuffix}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return In.outputs.dnsSuffix},On=function(){return On=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},On.apply(this,arguments)},Dn=function(e,t){if(null==t?void 0:t.aborted)return Promise.resolve();var n,r,i=new Promise((function(t){r=t,n=setTimeout(t,e)}));return null==t||t.addEventListener("abort",(function e(i){clearTimeout(n),null==t||t.removeEventListener("abort",e),r()})),i},Mn=function(e,t){var n;"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata=On(On({},null!==(n=e.$metadata)&&void 0!==n?n:{}),{attempts:t}))},Un=function(e,t){return function(n,r){for(var i={},o=function(t){return e(t,r)},a=t.length-1;a>=0;a--)o=(0,t[a])(r)(o,i);return o(n)}},Ln=(i(2721),function(e){var t;return function(){return t||(t=e()),t}}),Fn=function(){return Fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Fn.apply(this,arguments)},jn=function(e){return!["HEAD","GET","DELETE"].includes(e.toUpperCase())},Bn=Un((function(e,t){var n,r,i,o,a=e.url,s=e.method,l=e.headers,c=e.body,u=t.abortSignal;return n=void 0,r=void 0,o=function(){var e,t,n,r,i,o,d;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,fetch(a,{method:s,headers:l,body:jn(s)?c:void 0,signal:u})];case 1:return e=h.sent(),[3,3];case 2:if((t=h.sent())instanceof TypeError)throw new Error("Network error");throw t;case 3:return n={},null===(o=e.headers)||void 0===o||o.forEach((function(e,t){n[t.toLowerCase()]=e})),r={statusCode:e.status,headers:n,body:null},i=Object.assign(null!==(d=e.body)&&void 0!==d?d:{},{text:Ln((function(){return e.text()})),blob:Ln((function(){return e.blob()})),json:Ln((function(){return e.json()}))}),[2,Fn(Fn({},r),{body:i})]}}))},new((i=void 0)||(i=Promise))((function(e,t){function a(e){try{l(o.next(e))}catch(e){t(e)}}function s(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(n,r||[])).next())}))}),[function(e){var t=e.userAgentHeader,n=void 0===t?"x-amz-user-agent":t,r=e.userAgentValue,i=void 0===r?"":r;return function(e){return function(t){return r=this,o=void 0,s=function(){var r;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(o){switch(o.label){case 0:return 0!==i.trim().length?[3,2]:[4,e(t)];case 1:case 3:return[2,o.sent()];case 2:return r=n.toLowerCase(),t.headers[r]=t.headers[r]?"".concat(t.headers[r]," ").concat(i):i,[4,e(t)]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function i(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(n,i)}l((s=s.apply(r,o||[])).next())}));var r,o,a,s}}},function(e){var t=e.maxAttempts,n=void 0===t?3:t,r=e.retryDecider,i=e.computeDelay,o=e.abortSignal;if(n<1)throw new Error("maxAttempts must be greater than 0");return function(e,t){return function(a){var s,l,c,u,d;return l=this,c=void 0,d=function(){var l,c,u,d,h,f;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(p){switch(p.label){case 0:c=null!==(s=t.attemptsCount)&&void 0!==s?s:0,d=function(){if(u)return Mn(u,c),u;throw Mn(l,c),l},p.label=1;case 1:if((null==o?void 0:o.aborted)||!(c<n))return[3,11];p.label=2;case 2:return p.trys.push([2,4,,5]),[4,e(a)];case 3:return u=p.sent(),l=void 0,[3,5];case 4:return h=p.sent(),l=h,u=void 0,[3,5];case 5:return c=t.attemptsCount>c?t.attemptsCount:c+1,t.attemptsCount=c,[4,r(u,l)];case 6:return p.sent()?!(null==o?void 0:o.aborted)&&c<n?(f=i(c),[4,Dn(f,o)]):[3,8]:[3,9];case 7:p.sent(),p.label=8;case 8:return[3,1];case 9:return[2,d()];case 10:return[3,1];case 11:if(null==o?void 0:o.aborted)throw new Error("Request aborted.");return[2,d()]}}))},new((u=void 0)||(u=Promise))((function(e,t){function n(e){try{i(d.next(e))}catch(e){t(e)}}function r(e){try{i(d.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof u?i:new u((function(e){e(i)}))).then(n,r)}i((d=d.apply(l,c||[])).next())}))}}}]),zn=function(){return zn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zn.apply(this,arguments)},Vn=function(e){var t,n,r=e.headers,i=e.statusCode;return zn(zn({},Hn(e)?e.$metadata:{}),{httpStatusCode:i,requestId:null!==(n=null!==(t=r["x-amzn-requestid"])&&void 0!==t?t:r["x-amzn-request-id"])&&void 0!==n?n:r["x-amz-request-id"],extendedRequestId:r["x-amz-id-2"],cfId:r["x-amz-cf-id"]})},Hn=function(e){return"object"==typeof(null==e?void 0:e.$metadata)},qn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},$n=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Wn=function(e){return qn(void 0,void 0,void 0,(function(){var t,n,r,i,o,a,s,l,c;return $n(this,(function(u){switch(u.label){case 0:return!e||e.statusCode<300?[2]:[4,Kn(e)];case 1:return t=u.sent(),d=null!==(s=null!==(a=null!==(o=e.headers["x-amzn-errortype"])&&void 0!==o?o:t.code)&&void 0!==a?a:t.__type)&&void 0!==s?s:"UnknownError",h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(d.toString().split(/[\,\:]+/),1)[0],n=h.includes("#")?h.split("#")[1]:h,r=null!==(c=null!==(l=t.message)&&void 0!==l?l:t.Message)&&void 0!==c?c:"Unknown error",i=new Error(r),[2,Object.assign(i,{name:n,$metadata:Vn(e)})]}var d,h}))}))},Kn=function(e){return qn(void 0,void 0,void 0,(function(){var t;return $n(this,(function(n){switch(n.label){case 0:if(!e.body)throw new Error("Missing response payload");return[4,e.body.json()];case 1:return t=n.sent(),[2,Object.assign(t,{$metadata:Vn(e)})]}}))}))},Yn=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],Gn=function(e){return Yn.includes(e)},Jn=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],Zn=["TimeoutError","RequestTimeout","RequestTimeoutException"],Qn=function(e,t){return 429===e||Jn.includes(t)},Xn=function(e){return"Network error"===(null==e?void 0:e.name)},er=function(e,t){return[500,502,503,504].includes(e)||Zn.includes(t)},tr=3e5;(tn=en||(en={})).WebUnknown="0",tn.React="1",tn.NextJs="2",tn.Angular="3",tn.VueJs="4",tn.Nuxt="5",tn.Svelte="6",tn.ServerSideUnknown="100",tn.ReactSSR="101",tn.NextJsSSR="102",tn.AngularSSR="103",tn.VueJsSSR="104",tn.NuxtSSR="105",tn.SvelteSSR="106",tn.ReactNative="201",tn.Expo="202",(rn=nn||(nn={})).API="api",rn.Auth="auth",rn.Analytics="analytics",rn.DataStore="datastore",rn.Geo="geo",rn.InAppMessaging="inappmessaging",rn.Interactions="interactions",rn.Predictions="predictions",rn.PubSub="pubsub",rn.PushNotification="pushnotification",rn.Storage="storage",(an=on||(on={})).Record="1",an.UpdateEndpoint="2",(ln=sn||(sn={})).GraphQl="1",ln.Get="2",ln.Post="3",ln.Put="4",ln.Patch="5",ln.Del="6",ln.Head="7",(cn||(cn={})).FederatedSignIn="30",(dn=un||(un={})).Subscribe="1",dn.GraphQl="2",(hn||(hn={})).None="0",(fn||(fn={})).None="0",(pn||(pn={})).None="0",(gn=mn||(mn={})).Convert="1",gn.Identify="2",gn.Interpret="3",(yn||(yn={})).Subscribe="1",(vn||(vn={})).None="0",(wn=bn||(bn={})).Put="1",wn.Get="2",wn.List="3",wn.Copy="4",wn.Remove="5",wn.GetProperties="6";var nr,rr="5.3.26",ir=i(1385),or=function(){return void 0!==i.g},ar=function(){return"undefined"!=typeof window},sr=function(){return"undefined"!=typeof document},lr=function(){return void 0!==ir},cr=function(e,t){return!!Object.keys(e).find((function(e){return e.startsWith(t)}))},ur=[{platform:en.Expo,detectionMethod:function(){return or()&&void 0!==i.g.expo}},{platform:en.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:en.NextJs,detectionMethod:function(){return ar()&&window.next&&"object"==typeof window.next}},{platform:en.Nuxt,detectionMethod:function(){return ar()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:en.Angular,detectionMethod:function(){var e=Boolean(sr()&&document.querySelector("[ng-version]")),t=Boolean(ar()&&void 0!==window.ng);return e||t}},{platform:en.React,detectionMethod:function(){var e=function(e){return e.startsWith("_react")||e.startsWith("__react")};return sr()&&Array.from(document.querySelectorAll("[id]")).some((function(t){return Object.keys(t).find(e)}))}},{platform:en.VueJs,detectionMethod:function(){return ar()&&cr(window,"__VUE")}},{platform:en.Svelte,detectionMethod:function(){return ar()&&cr(window,"__SVELTE")}},{platform:en.WebUnknown,detectionMethod:function(){return ar()}},{platform:en.NextJsSSR,detectionMethod:function(){return or()&&(cr(i.g,"__next")||cr(i.g,"__NEXT"))}},{platform:en.NuxtSSR,detectionMethod:function(){return or()&&void 0!==i.g.__NUXT_PATHS__}},{platform:en.ReactSSR,detectionMethod:function(){return lr()&&!!Object.keys("MISSING_ENV_VAR").find((function(e){return e.includes("react")}))}},{platform:en.VueJsSSR,detectionMethod:function(){return or()&&cr(i.g,"__VUE")}},{platform:en.AngularSSR,detectionMethod:function(){return lr(),!1}},{platform:en.SvelteSSR,detectionMethod:function(){return lr()&&!!Object.keys("MISSING_ENV_VAR").find((function(e){return e.includes("svelte")}))}}],dr=[],hr=!1,fr=function(){if(!nr){if(nr=(null===(e=ur.find((function(e){return e.detectionMethod()})))||void 0===e?void 0:e.platform)||en.ServerSideUnknown,hr)for(;dr.length;)dr.pop()();else dr.forEach((function(e){return e()}));mr(en.ServerSideUnknown,10),mr(en.WebUnknown,10)}var e;return nr},pr=function(e){hr||dr.push(e)};function mr(e,t){nr!==e||hr||setTimeout((function(){nr=void 0,hr=!0,setTimeout(fr,1e3)}),t)}var gr,yr="aws-amplify",vr=new(function(){function e(){this.userAgent="".concat(yr,"/").concat(rr)}return Object.defineProperty(e.prototype,"framework",{get:function(){return fr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReactNative",{get:function(){return this.framework===en.ReactNative||this.framework===en.Expo},enumerable:!1,configurable:!0}),e.prototype.observeFrameworkChanges=function(e){pr(e)},e}()),br=function(e){return(t=e,n=void 0===t?{}:t,r=n.category,i=n.action,n.framework,o=[[yr,rr]],r&&o.push([r,i]),o.push(["framework",fr()]),o).map((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,2),n=t[0],r=t[1];return"".concat(n,"/").concat(r)})).join(" ");var t,n,r,i,o},wr=Un(Bn,[function(){return function(e,t){return function(t){return n=this,r=void 0,o=function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(n){return t.headers["cache-control"]="no-store",[2,e(t)]}))},new((i=void 0)||(i=Promise))((function(e,t){function a(e){try{l(o.next(e))}catch(e){t(e)}}function s(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(n,r||[])).next())}));var n,r,i,o}}}]),xr={service:"cognito-identity",endpointResolver:function(e){var t=e.region;return{url:new URL("https://cognito-identity.".concat(t,".").concat(Rn(t)))}},retryDecider:(gr=Wn,function(e,t){return n=void 0,r=void 0,o=function(){var n,r,i,o;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(a){switch(a.label){case 0:return null==t?[3,1]:(r=t,[3,3]);case 1:return[4,gr(e)];case 2:r=a.sent(),a.label=3;case 3:return n=(null!==(o=r)&&void 0!==o?o:{}).name,i=null==e?void 0:e.statusCode,[2,Xn(t)||Qn(i,n)||Gn(n)||er(i,n)]}}))},new((i=void 0)||(i=Promise))((function(e,t){function a(e){try{l(o.next(e))}catch(e){t(e)}}function s(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(n,r||[])).next())}));var n,r,i,o}),computeDelay:function(e){var t=Xt(tr)(e);return!1===t?tr:t},userAgentValue:br()};pr((function(){xr.userAgentValue=br()}));var Er=function(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(e)}},Sr=function(e,t,n){return{headers:t,url:e.url,body:n,method:"POST"}},kr=function(){return kr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kr.apply(this,arguments)},Cr=function(e,t,n,r){return function(i,o){return a=void 0,s=void 0,c=function(){var a,s,l,c;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(u){switch(u.label){case 0:return[4,(a=kr(kr({},r),i)).endpointResolver(a,o)];case 1:return s=u.sent(),[4,t(o,s)];case 2:return l=u.sent(),[4,e(l,kr({},a))];case 3:return c=u.sent(),[4,n(c)];case 4:return[2,u.sent()]}}))},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof l?i:new l((function(e){e(i)}))).then(n,r)}i((c=c.apply(a,s||[])).next())}));var a,s,l,c}},_r=Cr(wr,(function(e,t){var n=Er("GetId"),r=JSON.stringify(e);return Sr(t,n,r)}),(function(e){return t=void 0,n=void 0,i=function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(t){switch(t.label){case 0:return e.statusCode>=300?[4,Wn(e)]:[3,2];case 1:throw t.sent();case 2:return[4,Kn(e)];case 3:return[2,{IdentityId:t.sent().IdentityId,$metadata:Vn(e)}]}}))},new((r=void 0)||(r=Promise))((function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,s)}l((i=i.apply(t,n||[])).next())}));var t,n,r,i}),xr),Tr=Cr(wr,(function(e,t){var n=Er("GetCredentialsForIdentity"),r=JSON.stringify(e);return Sr(t,n,r)}),(function(e){return t=void 0,n=void 0,i=function(){var t;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(n){switch(n.label){case 0:return e.statusCode>=300?[4,Wn(e)]:[3,2];case 1:throw n.sent();case 2:return[4,Kn(e)];case 3:return[2,{IdentityId:(t=n.sent()).IdentityId,Credentials:(r=t.Credentials,void 0===r&&(r={}),{AccessKeyId:r.AccessKeyId,SecretKey:r.SecretKey,SessionToken:r.SessionToken,Expiration:new Date(1e3*r.Expiration)}),$metadata:Vn(e)}]}var r}))},new((r=void 0)||(r=Promise))((function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,s)}l((i=i.apply(t,n||[])).next())}));var t,n,r,i}),xr),Ar=function(){return Ar=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ar.apply(this,arguments)},Nr=new X("Parser"),Ir=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in,signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=Ar(Ar({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),Nr.debug("parse config",e,"to amplifyconfig",n),n},Pr=function(){return Pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pr.apply(this,arguments)},Rr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Or=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Dr=new X("Credentials"),Mr="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Ur=new(function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=An.refreshGoogleToken,this._refreshHandlers.facebook=Nn.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=Pr(Pr({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new zt).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),Ft.dispatch("core",{event:"credentials_configured",data:null,message:"Credentials has been configured successfully"},"Credentials",Mr),this._config},e.prototype.get=function(){return Dr.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"".concat("CognitoIdentityId-").concat(e)},e.prototype._pickupCredentials=function(){return Dr.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?Dr.debug("getting old cred promise"):(Dr.debug("getting new cred promise"),this._gettingCredPromise=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,i=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return i.isFullfilled=function(){return r},i.isPending=function(){return t},i.isRejected=function(){return n},i}(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return Rr(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return Or(this,(function(s){switch(s.label){case 0:if(Dr.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return Dr.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(Dr.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?te.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,this._setCredentialsForGuest()];if(this._isExpired(e)||!this._isPastTTL())return[3,6];Dr.debug("ttl has passed but token is not yet expired"),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=s.sent(),[4,n.currentSession()];case 3:return i=s.sent(),o=i.refreshToken,[4,new Promise((function(e,t){r.refreshSession(o,(function(n,r){return n?t(n):e(r)}))}))];case 4:return s.sent(),[3,6];case 5:return a=s.sent(),Dr.debug("Error attempting to refreshing the session",a),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){Dr.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,i=e.identity_id,o=e.expires_at;o=1970===new Date(o).getFullYear()?1e3*o:o;var a=this;return Dr.debug("checking if federated jwt token expired"),o>(new Date).getTime()?(Dr.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:i,expires_at:o})):a._refreshHandlers[t]&&"function"==typeof a._refreshHandlers[t]?(Dr.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:a._refreshHandlers[t],provider:t,user:n})):(Dr.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,i=e.user;return xn(n,[],1e4).then((function(e){return Dr.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:i,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),Dr.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return Dr.debug("no credentials for expiration check"),!0;Dr.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){var e;return Rr(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,l,c,u,d=this;return Or(this,(function(h){switch(h.label){case 0:return Dr.debug("setting credentials for guest"),(null===(e=this._config)||void 0===e?void 0:e.identityPoolId)||(this._config=Object.assign({},this._config,Ir(this._config||{}).Auth)),t=this._config,n=t.identityPoolId,r=t.region,i=t.mandatorySignIn,o=t.identityPoolRegion,i?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:n?o||r?(s=this,[4,this._getGuestIdentityId()]):(Dr.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(Dr.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return a=s._identityId=h.sent(),l={region:null!=o?o:r},c=function(){return Rr(d,void 0,void 0,(function(){var e,t;return Or(this,(function(r){switch(r.label){case 0:return a?[3,2]:[4,_r(l,{IdentityPoolId:n})];case 1:e=r.sent().IdentityId,this._identityId=e,r.label=2;case 2:return[4,Tr(l,{IdentityId:this._identityId})];case 3:return t=r.sent().Credentials,[2,{identityId:this._identityId,accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretKey,sessionToken:t.SessionToken,expiration:t.Expiration}]}}))}))},u=c().catch((function(e){return Rr(d,void 0,void 0,(function(){return Or(this,(function(t){throw e}))}))})),[2,this._loadCredentials(u,"guest",!1,null).then((function(e){return e})).catch((function(e){return Rr(d,void 0,void 0,(function(){var t,r=this;return Or(this,(function(i){switch(i.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '".concat(a,"' not found.")?[3,2]:(Dr.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return i.sent(),t=function(){return Rr(r,void 0,void 0,(function(){var e,t;return Or(this,(function(r){switch(r.label){case 0:return[4,_r(l,{IdentityPoolId:n})];case 1:return e=r.sent().IdentityId,this._identityId=e,[4,Tr(l,{IdentityId:e})];case 2:return t=r.sent().Credentials,[2,{identityId:e,accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretKey,sessionToken:t.SessionToken,expiration:t.Expiration}]}}))}))},u=t().catch((function(e){return Rr(r,void 0,void 0,(function(){return Or(this,(function(t){throw e}))}))})),[2,this._loadCredentials(u,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=this,n=e.provider,r=e.token,i=e.identity_id,o={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[n]||n;if(!o)return Promise.reject("You must specify a federated provider");var a={};a[o]=r;var s=this._config,l=s.identityPoolId,c=s.region,u=s.identityPoolRegion;if(!l)return Dr.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u&&!c)return Dr.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var d={region:null!=u?u:c},h=Rr(t,void 0,void 0,(function(){var e,t;return Or(this,(function(n){switch(n.label){case 0:return i?[3,2]:[4,_r(d,{IdentityPoolId:l,Logins:a})];case 1:e=n.sent().IdentityId,i=e,n.label=2;case 2:return[4,Tr(d,{IdentityId:i,Logins:a})];case 3:return t=n.sent().Credentials,[2,{identityId:i,accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretKey,sessionToken:t.SessionToken,expiration:t.Expiration}]}}))})).catch((function(e){return Rr(t,void 0,void 0,(function(){return Or(this,(function(t){throw e}))}))}));return this._loadCredentials(h,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;Dr.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,i=r.region,o=r.userPoolId,a=r.identityPoolId,s=r.identityPoolRegion;if(!a)return Dr.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!s&&!i)return Dr.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var l={};l["cognito-idp."+i+".amazonaws.com/"+o]=n;var c={region:null!=s?s:i},u=Rr(t,void 0,void 0,(function(){var e,t,n,r,i,o,s,u,d,h;return Or(this,(function(f){switch(f.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=f.sent())?[3,3]:[4,_r(c,{IdentityPoolId:a,Logins:l})];case 2:n=f.sent().IdentityId,t=n,f.label=3;case 3:return[4,Tr(c,{IdentityId:e||t,Logins:l})];case 4:return r=f.sent(),i=r.Credentials,o=i.AccessKeyId,s=i.Expiration,u=i.SecretKey,d=i.SessionToken,h=r.IdentityId,this._identityId=h,e?(Dr.debug("The guest identity ".concat(e," has been successfully linked to the logins")),e===h&&Dr.debug("The guest identity ".concat(e," has become the primary identity")),[4,this._removeGuestIdentityId()]):[3,6];case 5:f.sent(),f.label=6;case 6:return[2,{accessKeyId:o,secretAccessKey:u,sessionToken:d,expiration:s,identityId:h}]}}))})).catch((function(e){return Rr(t,void 0,void 0,(function(){return Or(this,(function(t){throw e}))}))}));return this._loadCredentials(u,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var i=this,o=this;return new Promise((function(a,s){e.then((function(e){return Rr(i,void 0,void 0,(function(){var i,s,l,c,u;return Or(this,(function(d){switch(d.label){case 0:if(Dr.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=n,o._credentials_source=t,o._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},r.user),s=r.provider,l=r.token,c=r.expires_at,u=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:s,token:l,user:i,expires_at:c,identity_id:u}))}catch(e){Dr.debug("Failed to put federated info into auth storage",e)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:d.sent(),d.label=2;case 2:return a(o._credentials),[2]}}))}))})).catch((function(t){if(t)return Dr.debug("Failed to load credentials",e),Dr.debug("Error loading credentials",t),void s(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(Dr.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return Rr(this,void 0,void 0,(function(){return Or(this,(function(e){return this._credentials=null,this._credentials_source=null,Dr.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return Rr(this,void 0,void 0,(function(){var e,t;return Or(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),Dr.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return Rr(this,void 0,void 0,(function(){var t,n;return Or(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),Dr.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return Rr(this,void 0,void 0,(function(){var e;return Or(this,(function(t){return e=this._config.identityPoolId,Dr.debug("removing ".concat(this._getCognitoIdentityIdStorageKey(e)," from storage")),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}())(null);te.register(Ur);var Lr,Fr={},jr=function(){if(Lr)return Fr;Lr=1,Fr.parse=function(e,n){if("string"!=typeof e)throw new TypeError("argument str must be a string");var r={},i=e.length;if(i<2)return r;var o=n&&n.decode||l,u=0,d=0,h=0;do{if(-1===(d=e.indexOf("=",u)))break;if(-1===(h=e.indexOf(";",u)))h=i;else if(d>h){u=e.lastIndexOf(";",d-1)+1;continue}var f=a(e,u,d),p=s(e,d,f),m=e.slice(f,p);if(!t.call(r,m)){var g=a(e,d+1,h),y=s(e,h,g);34===e.charCodeAt(g)&&34===e.charCodeAt(y-1)&&(g++,y--);var v=e.slice(g,y);r[m]=c(v,o)}u=h+1}while(u<i);return r},Fr.serialize=function(t,a,s){var l=s&&s.encode||encodeURIComponent;if("function"!=typeof l)throw new TypeError("option encode is invalid");if(!n.test(t))throw new TypeError("argument name is invalid");var c=l(a);if(!r.test(c))throw new TypeError("argument val is invalid");var u=t+"="+c;if(!s)return u;if(null!=s.maxAge){var d=Math.floor(s.maxAge);if(!isFinite(d))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+d}if(s.domain){if(!i.test(s.domain))throw new TypeError("option domain is invalid");u+="; Domain="+s.domain}if(s.path){if(!o.test(s.path))throw new TypeError("option path is invalid");u+="; Path="+s.path}if(s.expires){var h=s.expires;if(!function(t){return"[object Date]"===e.call(t)}(h)||isNaN(h.valueOf()))throw new TypeError("option expires is invalid");u+="; Expires="+h.toUTCString()}if(s.httpOnly&&(u+="; HttpOnly"),s.secure&&(u+="; Secure"),s.partitioned&&(u+="; Partitioned"),s.priority)switch("string"==typeof s.priority?s.priority.toLowerCase():s.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return u};var e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,r=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/;function a(e,t,n){do{var r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<n);return n}function s(e,t,n){for(;t>n;){var r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return n}function l(e){return-1!==e.indexOf("%")?decodeURIComponent(e):e}function c(e,t){try{return t(e)}catch(t){return e}}return Fr}();function Br(e,t={}){const n=function(e){return e&&"j"===e[0]&&":"===e[1]?e.substr(2):e}(e);if(!t.doNotParse)try{return JSON.parse(n)}catch(e){}return e}class zr{constructor(e,t={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const e=this.cookies;this.cookies=jr.parse(document.cookie),this._checkChanges(e)};const n="undefined"==typeof document?"":document.cookie;this.cookies=function(e){return"string"==typeof e?jr.parse(e):"object"==typeof e&&null!==e?e:{}}(e||n),this.defaultSetOptions=t,this.HAS_DOCUMENT_COOKIE=function(){const e="undefined"==typeof global?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return"boolean"==typeof e?e:"object"==typeof document&&"string"==typeof document.cookie}()}_emitChange(e){for(let t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)}_checkChanges(e){new Set(Object.keys(e).concat(Object.keys(this.cookies))).forEach((t=>{e[t]!==this.cookies[t]&&this._emitChange({name:t,value:Br(this.cookies[t])})}))}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(e,t={}){return t.doNotUpdate||this.update(),Br(this.cookies[e],t)}getAll(e={}){e.doNotUpdate||this.update();const t={};for(let n in this.cookies)t[n]=Br(this.cookies[n],e);return t}set(e,t,n){n=n?Object.assign(Object.assign({},this.defaultSetOptions),n):this.defaultSetOptions;const r="string"==typeof t?t:JSON.stringify(t);this.cookies=Object.assign(Object.assign({},this.cookies),{[e]:r}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=jr.serialize(e,r,n)),this._emitChange({name:e,value:t,options:n})}remove(e,t){const n=t=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=jr.serialize(e,"",n)),this._emitChange({name:e,value:void 0,options:t})}addChangeListener(e){this.changeListeners.push(e),this.HAS_DOCUMENT_COOKIE&&1===this.changeListeners.length&&("object"==typeof window&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(e){const t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1),this.HAS_DOCUMENT_COOKIE&&0===this.changeListeners.length&&("object"==typeof window&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}var Vr,Hr=function(){return Hr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Hr.apply(this,arguments)},qr=Ht().isBrowser,$r=function(){function e(e){void 0===e&&(e={}),this.cookies=new zr,this.store=qr?window.localStorage:Object.create(null),this.cookies=e.req?new zr(decodeURIComponent(e.req.headers.cookie)):new zr,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!1,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){this.setLocalItem(e,t);var n=e.split(".").pop();["LastAuthUser","accessToken","refreshToken","idToken"].includes(null!=n?n:"")&&this.setUniversalItem(e,t,{expires:new Date(Date.now()+31536e6)})},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t,n){void 0===n&&(n={}),this.cookies.set(e,t,Hr(Hr({},n),{path:"/",sameSite:!0,secure:!qr||"localhost"!==window.location.hostname}))},e}(),Wr=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,i=t.Password,o=t.AuthParameters,a=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=a||{},this.username=r,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),Kr=i(4483);if("undefined"!=typeof window&&window.crypto&&(Vr=window.crypto),!Vr&&"undefined"!=typeof window&&window.msCrypto&&(Vr=window.msCrypto),!Vr&&void 0!==i.g&&i.g.crypto&&(Vr=i.g.crypto),!Vr)try{Vr=i(5682)}catch(e){}function Yr(){if(Vr){if("function"==typeof Vr.getRandomValues)try{return Vr.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof Vr.randomBytes)try{return Vr.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}var Gr=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(Yr());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")}(this)},e}(),Jr=i(3300);const Zr=Qr;function Qr(e,t){null!=e&&this.fromString(e,t)}function Xr(){return new Qr(null)}var ei,ti="undefined"!=typeof navigator;ti&&"Microsoft Internet Explorer"==navigator.appName?(Qr.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var l=32767&this[e],c=this[e++]>>15,u=s*l+c*a;i=((l=a*l+((32767&u)<<15)+n[r]+(1073741823&i))>>>30)+(u>>>15)+s*c+(i>>>30),n[r++]=1073741823&l}return i},ei=30):ti&&"Netscape"!=navigator.appName?(Qr.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},ei=26):(Qr.prototype.am=function(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var l=16383&this[e],c=this[e++]>>14,u=s*l+c*a;i=((l=a*l+((16383&u)<<14)+n[r]+i)>>28)+(u>>14)+s*c,n[r++]=268435455&l}return i},ei=28),Qr.prototype.DB=ei,Qr.prototype.DM=(1<<ei)-1,Qr.prototype.DV=1<<ei,Qr.prototype.FV=Math.pow(2,52),Qr.prototype.F1=52-ei,Qr.prototype.F2=2*ei-52;var ni,ri,ii=new Array;for(ni="0".charCodeAt(0),ri=0;ri<=9;++ri)ii[ni++]=ri;for(ni="a".charCodeAt(0),ri=10;ri<36;++ri)ii[ni++]=ri;for(ni="A".charCodeAt(0),ri=10;ri<36;++ri)ii[ni++]=ri;function oi(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function ai(e,t){var n=ii[e.charCodeAt(t)];return null==n?-1:n}function si(e){var t=Xr();return t.fromInt(e),t}function li(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function ci(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function ui(e){return Kr.hp.from((new Gr).random(e).toString(),"hex")}ci.prototype.convert=function(e){var t=Xr();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Qr.ZERO)>0&&this.m.subTo(t,t),t},ci.prototype.revert=function(e){var t=Xr();return e.copyTo(t),this.reduce(t),t},ci.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},ci.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},ci.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},Qr.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},Qr.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},Qr.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var a=ai(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),i&&Qr.ZERO.subTo(this,this)},Qr.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},Qr.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},Qr.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},Qr.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},Qr.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},Qr.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},Qr.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&Qr.ZERO.subTo(t,t)},Qr.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},Qr.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=Xr());var o=Xr(),a=this.s,s=e.s,l=this.DB-li(r[r.t-1]);l>0?(r.lShiftTo(l,o),i.lShiftTo(l,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,u=o[c-1];if(0!=u){var d=u*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),h=this.FV/d,f=(1<<this.F1)/d,p=1<<this.F2,m=n.t,g=m-c,y=null==t?Xr():t;for(o.dlShiftTo(g,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),Qr.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--g>=0;){var v=n[--m]==u?this.DM:Math.floor(n[m]*h+(n[m-1]+p)*f);if((n[m]+=o.am(0,v,n,g,0,c))<v)for(o.dlShiftTo(g,y),n.subTo(y,n);n[m]<--v;)n.subTo(y,n)}null!=t&&(n.drShiftTo(c,t),a!=s&&Qr.ZERO.subTo(t,t)),n.t=c,n.clamp(),l>0&&n.rShiftTo(l,n),a<0&&Qr.ZERO.subTo(n,n)}}},Qr.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},Qr.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},Qr.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=oi(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=oi(n));return i?o:"0"},Qr.prototype.negate=function(){var e=Xr();return Qr.ZERO.subTo(this,e),e},Qr.prototype.abs=function(){return this.s<0?this.negate():this},Qr.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},Qr.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+li(this[this.t-1]^this.s&this.DM)},Qr.prototype.mod=function(e){var t=Xr();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Qr.ZERO)>0&&e.subTo(t,t),t},Qr.prototype.equals=function(e){return 0==this.compareTo(e)},Qr.prototype.add=function(e){var t=Xr();return this.addTo(e,t),t},Qr.prototype.subtract=function(e){var t=Xr();return this.subTo(e,t),t},Qr.prototype.multiply=function(e){var t=Xr();return this.multiplyTo(e,t),t},Qr.prototype.divide=function(e){var t=Xr();return this.divRemTo(e,t,null),t},Qr.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=si(1),a=new ci(t);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var s=new Array,l=3,c=r-1,u=(1<<r)-1;if(s[1]=a.convert(this),r>1){var d=Xr();for(a.sqrTo(s[1],d);l<=u;)s[l]=Xr(),a.mulTo(d,s[l-2],s[l]),l+=2}var h,f,p=e.t-1,m=!0,g=Xr();for(i=li(e[p])-1;p>=0;){for(i>=c?h=e[p]>>i-c&u:(h=(e[p]&(1<<i+1)-1)<<c-i,p>0&&(h|=e[p-1]>>this.DB+i-c)),l=r;!(1&h);)h>>=1,--l;if((i-=l)<0&&(i+=this.DB,--p),m)s[h].copyTo(o),m=!1;else{for(;l>1;)a.sqrTo(o,g),a.sqrTo(g,o),l-=2;l>0?a.sqrTo(o,g):(f=o,o=g,g=f),a.mulTo(g,s[h],o)}for(;p>=0&&!(e[p]&1<<i);)a.sqrTo(o,g),f=o,o=g,g=f,--i<0&&(i=this.DB-1,--p)}var y=a.revert(o);return n(null,y),y},Qr.ZERO=si(0),Qr.ONE=si(1);var di=/^[89a-f]/i,hi=function(){function e(e){this.N=new Zr("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new Zr("2",16),this.k=new Zr(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=Kr.hp.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=ui(128).toString("hex");return new Zr(e,16)},t.generateRandomString=function(){return ui(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),a=ui(16).toString("hex");this.SaltToHashDevices=this.padHex(new Zr(a,16)),this.g.modPow(new Zr(this.hexHash(this.SaltToHashDevices+o),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(Zr.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new Zr(this.UHexHash,16)},t.hash=function(e){var t=new Jr.Sha256;t.update(e);var n=t.digestSync(),r=Kr.hp.from(n).toString("hex");return new Array(64-r.length).join("0")+r},t.hexHash=function(e){return this.hash(Kr.hp.from(e,"hex"))},t.computehkdf=function(e,t){var n=Kr.hp.concat([this.infoBits,Kr.hp.from(String.fromCharCode(1),"utf8")]),r=new Jr.Sha256(t);r.update(e);var i=r.digestSync(),o=new Jr.Sha256(i);return o.update(n),o.digestSync().slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,i){var o=this;if(n.mod(this.N).equals(Zr.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(Zr.ZERO))throw new Error("U cannot be zero.");var a=""+this.poolName+e+":"+t,s=this.hash(a),l=new Zr(this.hexHash(this.padHex(r)+s),16);this.calculateS(l,n,(function(e,t){e&&i(e,null);var n=o.computehkdf(Kr.hp.from(o.padHex(t),"hex"),Kr.hp.from(o.padHex(o.UValue),"hex"));i(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof Zr))throw new Error("Not a BigInteger");var t=e.compareTo(Zr.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=di.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new Zr(r,16).add(Zr.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),fi=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(Kr.hp.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function pi(e,t){return pi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pi(e,t)}var mi=function(e){function t(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,pi(n,r),t}(fi);function gi(e,t){return gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gi(e,t)}var yi=function(e){function t(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,gi(n,r),t}(fi),vi=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),bi="aws-amplify/5.0.4",wi="undefined"!=typeof navigator&&"ReactNative"===navigator.product,xi=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),Ei=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Si=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ki=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=Si[e.getUTCDay()],n=Ei[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var a=e.getUTCSeconds();return a<10&&(a="0"+a),t+" "+n+" "+r+" "+i+":"+o+":"+a+" UTC "+e.getUTCFullYear()},e}(),Ci=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),_i={},Ti=function(){function e(){}return e.setItem=function(e,t){return _i[e]=t,_i[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(_i,e)?_i[e]:void 0},e.removeItem=function(e){return delete _i[e]},e.clear=function(){return _i={}},e}(),Ai=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=Ti}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),Ni="undefined"!=typeof navigator?wi?"react-native":navigator.userAgent:"nodejs",Ii=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new Ai).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,(function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,i=this,o=new hi(this.pool.getUserPoolName()),a=new ki,s={};null!=this.deviceKey&&(s.DEVICE_KEY=this.deviceKey),s.USERNAME=this.username,o.getLargeAValue((function(l,c){l&&t.onFailure(l),s.SRP_A=c.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(s.CHALLENGE_NAME="SRP_A");var u=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),d={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:s,ClientMetadata:u};i.getUserContextData(i.username)&&(d.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",d,(function(s,l){if(s)return t.onFailure(s);var c=l.ChallengeParameters;i.username=c.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",n=new Zr(c.SRP_B,16),r=new Zr(c.SALT,16),i.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(i.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=a.getNowString(),s=Kr.hp.concat([Kr.hp.from(i.pool.getUserPoolName(),"utf8"),Kr.hp.from(i.username,"utf8"),Kr.hp.from(c.SECRET_BLOCK,"base64"),Kr.hp.from(r,"utf8")]),d=new Jr.Sha256(n);d.update(s);var h=d.digestSync(),f=Kr.hp.from(h).toString("base64"),p={};p.USERNAME=i.username,p.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,p.TIMESTAMP=r,p.PASSWORD_CLAIM_SIGNATURE=f,null!=i.deviceKey&&(p.DEVICE_KEY=i.deviceKey);var m=function(e,t){return i.client.request("RespondToAuthChallenge",e,(function(n,r){return n&&"ResourceNotFoundException"===n.code&&-1!==n.message.toLowerCase().indexOf("device")?(p.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),m(e,t)):t(n,r)}))},g={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:p,Session:l.Session,ClientMetadata:u};i.getUserContextData()&&(g.UserContextData=i.getUserContextData()),m(g,(function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,o,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var i=new hi(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),a={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(a.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",a,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,o=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,n.mfaRequired(i,o);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,n.selectMFAType(i,o);if("MFA_SETUP"===i)return this.Session=e.Session,n.mfaSetup(i,o);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,n.totpRequired(i,o);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,n.customChallenge(o);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var a=null,s=null,l=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(o&&(a=JSON.parse(e.ChallengeParameters.userAttributes),s=JSON.parse(e.ChallengeParameters.requiredAttributes)),s)for(var u=0;u<s.length;u++)l[u]=s[u].substr(c.length);return n.newPasswordRequired(a,l)}if("DEVICE_SRP_AUTH"===i)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var d=e.AuthenticationResult.NewDeviceMetadata;if(null==d)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(i){if(i)return n.onFailure(i);var o={Salt:Kr.hp.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Kr.hp.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=o.PasswordVerifier,r.deviceGroupKey=d.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:d.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:Ni},(function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var i=this;if(!e)return n.onFailure(new Error("New password is required."));var o=new hi(this.pool.getUserPoolName()),a=o.getNewPasswordRequiredChallengeUserAttributePrefix(),s={};t&&Object.keys(t).forEach((function(e){s[a+e]=t[e]})),s.NEW_PASSWORD=e,s.USERNAME=this.username;var l={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:s,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",l,(function(e,t){return e?n.onFailure(e):i.authenticateUserInternal(t,o,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new hi(this.deviceGroupKey),i=new ki,o={};o.USERNAME=this.username,o.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(a,s){a&&e.onFailure(a),o.SRP_A=s.toString(16);var l={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:o,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(l.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",l,(function(t,o){if(t)return e.onFailure(t);var a=o.ChallengeParameters,s=new Zr(a.SRP_B,16),l=new Zr(a.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,s,l,(function(t,r){if(t)return e.onFailure(t);var s=i.getNowString(),l=Kr.hp.concat([Kr.hp.from(n.deviceGroupKey,"utf8"),Kr.hp.from(n.deviceKey,"utf8"),Kr.hp.from(a.SECRET_BLOCK,"base64"),Kr.hp.from(s,"utf8")]),c=new Jr.Sha256(r);c.update(l);var u=c.digestSync(),d=Kr.hp.from(u).toString("base64"),h={};h.USERNAME=n.username,h.PASSWORD_CLAIM_SECRET_BLOCK=a.SECRET_BLOCK,h.TIMESTAMP=s,h.PASSWORD_CLAIM_SIGNATURE=d,h.DEVICE_KEY=n.deviceKey;var f={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:h,Session:o.Session};n.getUserContextData()&&(f.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",f,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new hi(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var a={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,o,t)}))},t.sendMFACode=function(e,t,n,r){var i=this,o={};o.USERNAME=this.username,o.SMS_MFA_CODE=e;var a=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===a&&(o.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var s={ChallengeName:a,ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var r=new hi(i.pool.getUserPoolName());r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var o={Salt:Kr.hp.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Kr.hp.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=o.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:Ni},(function(e,r){return e?t.onFailure(e):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(i.signInUserSession))}))}))}else i.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e,n){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS",n)}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},a=new Ci(o);r.push(a)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",i=n+".accessToken",o=n+".refreshToken",a=n+".clockDrift";if(this.storage.getItem(r)){var s=new yi({IdToken:this.storage.getItem(r)}),l=new mi({AccessToken:this.storage.getItem(i)}),c=new vi({RefreshToken:this.storage.getItem(o)}),u=parseInt(this.storage.getItem(a),0)||0,d=new xi({IdToken:s,AccessToken:l,RefreshToken:c,ClockDrift:u});if(d.isValid())return this.signInUserSession=d,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var a="CognitoIdentityServiceProvider."+this.pool.getClientId(),s=a+".LastAuthUser";if(this.storage.getItem(s)){this.username=this.storage.getItem(s);var l=a+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(l),o.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.requestWithRetry("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),i(t,null);if(n){var o=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),i(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},t.getCognitoUserSession=function(e){var t=new yi(e),n=new mi(e),r=new vi(e);return new xi({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"==typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,(function(r,i){return r?t.onFailure(r):(n.Session=i.Session,"SMS_MFA"===e?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}();function Pi(){}Pi.prototype.userAgent=bi;var Ri=function(e){Pi.framework=e};function Oi(e){var t="function"==typeof Map?new Map:void 0;return Oi=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Di())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&Mi(i,n.prototype),i}(e,arguments,Ui(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Mi(n,e)},Oi(e)}function Di(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Di=function(){return!!e})()}function Mi(e,t){return Mi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mi(e,t)}function Ui(e){return Ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ui(e)}var Li=function(e){function t(t,n,r,i){var o;return(o=e.call(this,t)||this).code=n,o.name=r,o.statusCode=i,o}return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,Mi(n,r),t;var n,r}(Oi(Error)),Fi=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,i){n.request(e,t,(function(e,t){e?i(new Li(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r,i,o=this;(r=[t],i=5e3,void 0===i&&(i=Vi),zi((function(t){return new Promise((function(n,r){o.request(e,t,(function(e,t){e?r(e):n(t)}))}))}),r,function(e){return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(i))).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,i,o,a={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":(r=Pi.category?" "+Pi.category:"",i=Pi.framework?" framework/"+Pi.framework:"",""+Pi.prototype.userAgent+r+i),"Cache-Control":"no-store"},s=Object.assign({},this.fetchOptions,{headers:a,method:"POST",mode:"cors",body:JSON.stringify(t)});fetch(this.endpoint,s).then((function(e){return o=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(o.ok)return n(null,e);var t=(e.__type||e.code).split("#").pop(),r=new Error(e.message||e.Message||null);return r.name=t,r.code=t,n(r)})).catch((function(e){if(o&&o.headers&&o.headers.get("x-amzn-errortype"))try{var t=o.headers.get("x-amzn-errortype").split(":")[0],r=new Error(o.status?o.status.toString():null);return r.code=t,r.name=t,r.statusCode=o.status,n(r)}catch(t){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}(),ji={debug:function(){}},Bi=function(e){return e&&e.nonRetryable};function zi(e,t,n,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return ji.debug(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch((function(i){if(ji.debug("error on "+e.name,i),Bi(i))throw ji.debug(e.name+" non retryable error",i),i;var o=n(r,t,i);if(ji.debug(e.name+" retrying in "+o+" ms"),!1!==o)return new Promise((function(e){return setTimeout(e,o)})).then((function(){return zi(e,t,n,r+1)}));throw i}))}var Vi=3e5,Hi=function(){function e(e,t){var n=e||{},r=n.UserPoolId,i=n.ClientId,o=n.endpoint,a=n.fetchOptions,s=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var l=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new Fi(l,o,a),this.advancedSecurityDataCollectionFlag=!1!==s,this.storage=e.Storage||(new Ai).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,i,o){var a=this,s={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(s.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",s,(function(t,n){if(t)return i(t,null);var r={Username:e,Pool:a,Storage:a.storage},o={user:new Ii(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,o)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new Ii(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),qi=i(8916),$i=function(){function e(e){if(void 0===e&&(e={}),e.domain&&(this.domain=e.domain),e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),qi.set(e,t,n),qi.get(e)},t.getItem=function(e){return qi.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),qi.remove(e,t)},t.clear=function(){for(var e=qi.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}(),Wi=i(7497),Ki=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},Yi=i(7413),Gi="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",Ji="x-amz-user-agent",Zi="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Qi=function(e,t,n){Ft.dispatch("auth",{event:e,data:t,message:n},"Auth",Zi)},Xi=new X("OAuth");const eo=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,i=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||Ki,this._config=t,this._cognitoClientId=n,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))},e.prototype.oauthSignIn=function(e,t,n,r,i,o){void 0===e&&(e="code"),void 0===i&&(i=St.Cognito);var a=this._generateState(32),s=o?a+"-"+o.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join(""):a;!function(e){window.sessionStorage.setItem("oauth_state",e)}(s);var l,c=this._generateRandom(128);l=c,window.sessionStorage.setItem("ouath_pkce_key",l);var u=this._generateChallenge(c),d=this._scopes.join(" "),h="https://"+t+"/oauth2/authorize?"+Object.entries((0,Nt.__assign)((0,Nt.__assign)({redirect_uri:n,response_type:e,client_id:r,identity_provider:i,scope:d,state:s},"code"===e?{code_challenge:u}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=(0,Nt.__read)(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&");Xi.debug("Redirecting to "+h),this._urlOpener(h,n)},e.prototype._handleCodeFlow=function(e){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,l,c,u,d,h,f,p,m,g;return(0,Nt.__generator)(this,(function(y){switch(y.label){case 0:return t=((0,Wi.qg)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=(0,Nt.__read)(t,2),i=r[0],o=r[1];return(0,Nt.__assign)((0,Nt.__assign)({},e),((n={})[i]=o,n))}),{code:void 0}).code,n=(0,Wi.qg)(e).pathname||"/",r=(0,Wi.qg)(this._config.redirectSignIn).pathname||"/",t&&n===r?(i="https://"+this._config.domain+"/oauth2/token",Qi("codeFlow",{},"Retrieving tokens from "+i),o=Pt(this._config)?this._cognitoClientId:this._config.clientID,a=Pt(this._config)?this._config.redirectSignIn:this._config.redirectUri,v=window.sessionStorage.getItem("ouath_pkce_key"),window.sessionStorage.removeItem("ouath_pkce_key"),s=v,l=(0,Nt.__assign)({grant_type:"authorization_code",code:t,client_id:o,redirect_uri:a},s?{code_verifier:s}:{}),Xi.debug("Calling token endpoint: "+i+" with",l),c=Object.entries(l).map((function(e){var t=(0,Nt.__read)(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),u={category:nn.Auth,action:cn.FederatedSignIn},[4,fetch(i,{method:"POST",headers:(g={"Content-Type":"application/x-www-form-urlencoded"},g[Ji]=br(u),g),body:c})]):[2];case 1:return[4,y.sent().json()];case 2:if(d=y.sent(),h=d.access_token,f=d.refresh_token,p=d.id_token,m=d.error)throw new Error(m);return[2,{accessToken:h,refreshToken:f,idToken:p}]}var v}))}))},e.prototype._handleImplicitFlow=function(e){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Nt.__generator)(this,(function(i){return t=((0,Wi.qg)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=(0,Nt.__read)(t,2),i=r[0],o=r[1];return(0,Nt.__assign)((0,Nt.__assign)({},e),((n={})[i]=o,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,Qi("implicitFlow",{},"Got tokens from "+e),Xi.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,Nt.__generator)(this,(function(l){switch(l.label){case 0:if(l.trys.push([0,5,,6]),t=e?(0,Nt.__assign)((0,Nt.__assign)({},((0,Wi.qg)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=(0,Nt.__read)(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})),((0,Wi.qg)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=(0,Nt.__read)(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return i=this._validateState(t),Xi.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(o=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,Nt.__assign.apply(void 0,[Nt.__assign.apply(void 0,o.concat([l.sent()])),{state:i}])];case 2:return a=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,Nt.__assign.apply(void 0,[Nt.__assign.apply(void 0,a.concat([l.sent()])),{state:i}])];case 4:return[3,6];case 5:throw s=l.sent(),Xi.debug("Error handling auth response.",s),s;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t,n=(t=window.sessionStorage.getItem("oauth_state"),window.sessionStorage.removeItem("oauth_state"),t),r=e.state;if(n&&n!==r)throw new Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,Nt.__generator)(this,(function(r){return e="https://"+this._config.domain+"/logout?",t=Pt(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=Pt(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=(0,Nt.__read)(e,2);return t[0]+"="+t[1]})).join("&"),Qi("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),Xi.debug("Signing out from "+e),[2,this._urlOpener(e,n)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e;n>0;--n)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.round(61*Math.random())];return t},e.prototype._generateChallenge=function(e){var t=new Jr.Sha256;t.update(e);var n=t.digestSync(),r=Yi.hp.from(n).toString("base64");return this._base64URL(r)},e.prototype._base64URL=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=66*Math.random()|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t=[],n=0;n<e.byteLength;n+=1){var r=e[n]%62;t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[r])}return t.join("")},e}();var to,no;(no=to||(to={})).DEFAULT_MSG="Authentication Error",no.EMPTY_EMAIL="Email cannot be empty",no.EMPTY_PHONE="Phone number cannot be empty",no.EMPTY_USERNAME="Username cannot be empty",no.INVALID_USERNAME="The username should either be a string or one of the sign in types",no.EMPTY_PASSWORD="Password cannot be empty",no.EMPTY_CODE="Confirmation code cannot be empty",no.SIGN_UP_ERROR="Error creating account",no.NO_MFA="No valid MFA method provided",no.INVALID_MFA="Invalid MFA type",no.EMPTY_CHALLENGE="Challenge response cannot be empty",no.NO_USER_SESSION="Failed to get the session because the user is empty",no.NETWORK_ERROR="Network Error",no.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",no.AUTOSIGNIN_ERROR="Please use your credentials to sign in";var ro=new X("AuthError"),io=function(e){function t(n){var r=this,i=ao[n],o=i.message,a=i.log;return(r=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=a||o,ro.error(r.log),r}return(0,Nt.__extends)(t,e),t}(Error),oo=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return(0,Nt.__extends)(t,e),t}(io),ao={noConfig:{message:to.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:to.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:to.EMPTY_USERNAME},invalidUsername:{message:to.INVALID_USERNAME},emptyPassword:{message:to.EMPTY_PASSWORD},emptyCode:{message:to.EMPTY_CODE},signUpError:{message:to.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:to.NO_MFA},invalidMFA:{message:to.INVALID_MFA},emptyChallengeResponse:{message:to.EMPTY_CHALLENGE},noUserSession:{message:to.NO_USER_SESSION},deviceConfig:{message:to.DEVICE_CONFIG},networkError:{message:to.NETWORK_ERROR},autoSignInError:{message:to.AUTOSIGNIN_ERROR},default:{message:to.DEFAULT_MSG}},so=new X("AuthClass"),lo="aws.cognito.signin.user.admin",co="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",uo=function(e,t,n){Ft.dispatch("auth",{event:e,data:t,message:n},"Auth",co)},ho=new(function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.inflightSessionPromise=null,this.inflightSessionPromiseCounter=0,this.Credentials=Ur,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?uo("tokenRefresh",void 0,"New token retrieved"):uo("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),Ft.listen("auth",(function(e){switch(e.payload.event){case"verify":case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}})),Pi.category="auth",Ri(vr.framework),vr.observeFrameworkChanges((function(){Ri(vr.framework)}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};so.debug("configure Auth");var n=Object.assign({},this._config,Ir(e).Auth,e);this._config=n;var r=this._config,i=r.userPoolId,o=r.userPoolWebClientId,a=r.cookieStorage,s=r.oauth,l=r.region,c=r.identityPoolId,u=r.mandatorySignIn,d=r.refreshHandlers,h=r.identityPoolRegion,f=r.clientMetadata,p=r.endpoint,m=r.storage;if(m){if(!this._isValidAuthStorage(m))throw so.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=m}else this._storage=a?new $i(a):e.ssr?new $r:(new zt).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),i){var g={UserPoolId:i,ClientId:o,endpoint:p};g.Storage=this._storage,this.userPool=new Hi(g,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:u,region:l,userPoolId:i,identityPoolId:c,refreshHandlers:d,storage:this._storage,identityPoolRegion:h});var y=s?Pt(this._config.oauth)?s:s.awsCognito:void 0;if(y){var v=Object.assign({cognitoClientId:o,UserPoolId:i,domain:y.domain,scopes:y.scope,redirectSignIn:y.redirectSignIn,redirectSignOut:y.redirectSignOut,responseType:y.responseType,Storage:this._storage,urlOpener:y.urlOpener,clientMetadata:f},y.options);this._oAuthHandler=new eo({scopes:v.scopes,config:v,cognitoClientId:v.cognitoClientId});var b={};!function(){if(Ht().isBrowser&&window.location)!function(e){var n=e.url;b[n]||(b[n]=!0,t._handleAuthResponse(n))}({url:window.location.href});else if(!Ht().isNode)throw new Error("Not supported")}()}return uo("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!=typeof this._storage.getItem||(this.isTrueStorageValue("amplify-polling-started")&&(uo("autoSignIn_failure",null,Ct.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")),this._config},e.prototype.signUp=function(e){for(var t,n,r,i=this,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];if(!this.userPool)return this.rejectNoUserPool();var s,l=null,c=null,u=[],d=null,h={enabled:!1},f={},p={};if(e&&"string"==typeof e){l=e,c=o?o[0]:null;var m=o?o[1]:null,g=o?o[2]:null;m&&u.push(new Ci({Name:"email",Value:m})),g&&u.push(new Ci({Name:"phone_number",Value:g}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(Ct.SignUpError);l=e.username,c=e.password,e&&e.clientMetadata?s=e.clientMetadata:this._config.clientMetadata&&(s=this._config.clientMetadata);var y=e.attributes;y&&Object.keys(y).map((function(e){u.push(new Ci({Name:e,Value:y[e]}))}));var v=e.validationData;v&&(d=[],Object.keys(v).map((function(e){d.push(new Ci({Name:e,Value:v[e]}))}))),(h=null!==(t=e.autoSignIn)&&void 0!==t?t:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),f=null!==(n=h.validationData)&&void 0!==n?n:{},p=null!==(r=h.clientMetaData)&&void 0!==r?r:{})}return l?c?(so.debug("signUp attrs:",u),so.debug("signUp validation data:",d),new Promise((function(e,t){i.userPool.signUp(l,c,u,d,(function(n,r){n?(uo("signUp_failure",n,l+" failed to signup"),t(n)):(uo("signUp",r,l+" has signed up successfully"),h.enabled&&i.handleAutoSignIn(l,c,f,p,r),e(r))}),s)}))):this.rejectAuthError(Ct.EmptyPassword):this.rejectAuthError(Ct.EmptyUsername)},e.prototype.handleAutoSignIn=function(e,t,n,r,i){this.autoSignInInitiated=!0;var o=new Wr({Username:e,Password:t,ValidationData:n,ClientMetadata:r});i.userConfirmed?this.signInAfterUserConfirmed(o):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(o):this.handleCodeAutoSignIn(o)},e.prototype.handleCodeAutoSignIn=function(e){var t=this,n=function(r){"confirmSignUp"===r.payload.event&&t.signInAfterUserConfirmed(e,n)};Ft.listen("auth",n)},e.prototype.handleLinkAutoSignIn=function(e){var t=this;this._storage.setItem("amplify-polling-started","true");var n=Date.now(),r=setInterval((function(){Date.now()-n>18e4?(clearInterval(r),uo("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),t._storage.removeItem("amplify-auto-sign-in")):t.signInAfterUserConfirmed(e,null,r)}),5e3)},e.prototype.signInAfterUserConfirmed=function(e,t,n){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var r,i,o=this;return(0,Nt.__generator)(this,(function(a){switch(a.label){case 0:r=this.createCognitoUser(e.getUsername()),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.authenticateUser(e,this.authCallbacks(r,(function(r){uo("autoSignIn",r,e.getUsername()+" has signed in successfully"),t&&Ft.remove("auth",t),n&&(clearInterval(n),o._storage.removeItem("amplify-polling-started")),o._storage.removeItem("amplify-auto-sign-in")}),(function(e){so.error(e),o._storage.removeItem("amplify-auto-sign-in")})))];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),so.error(i),[3,4];case 4:return[2]}}))}))},e.prototype.confirmSignUp=function(e,t,n){var r=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Ct.EmptyUsername);if(!t)return this.rejectAuthError(Ct.EmptyCode);var i,o=this.createCognitoUser(e),a=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?i=n.clientMetadata:this._config.clientMetadata&&(i=this._config.clientMetadata),new Promise((function(n,s){o.confirmRegistration(t,a,(function(t,i){t?s(t):(uo("confirmSignUp",i,e+" has been confirmed successfully"),r.isTrueStorageValue("amplify-auto-sign-in")&&!r.autoSignInInitiated&&(uo("autoSignIn_failure",null,Ct.AutoSignInError),r._storage.removeItem("amplify-auto-sign-in")),n(i))}),i)}))},e.prototype.isTrueStorageValue=function(e){var t=this._storage.getItem(e);return!!t&&"true"===t},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Ct.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,i=null,o={};if("string"==typeof e)r=e,i=t;else{if(!e.username)return this.rejectAuthError(Ct.InvalidUsername);void 0!==t&&so.warn("The password should be defined under the first parameter object!"),r=e.username,i=e.password,o=e.validationData}if(!r)return this.rejectAuthError(Ct.EmptyUsername);var a=new Wr({Username:r,Password:i,ValidationData:o,ClientMetadata:n});return i?this.signInWithPassword(a):this.signInWithoutPassword(a)},e.prototype.authCallbacks=function(e,t,n){var r=this,i=this;return{onSuccess:function(o){return(0,Nt.__awaiter)(r,void 0,void 0,(function(){var r,a,s,l;return(0,Nt.__generator)(this,(function(c){switch(c.label){case 0:so.debug(o),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(o,"session")];case 3:return r=c.sent(),so.debug("succeed to get cognito credentials",r),[3,9];case 4:return a=c.sent(),so.debug("cannot get cognito credentials",a),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return s=c.sent(),i.user=s,uo("signIn",s,"A user "+e.getUsername()+" has been signed in"),t(s),[3,8];case 7:return l=c.sent(),so.error("Failed to get the signed in user",l),n(l),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){so.debug("signIn failure",t),uo("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){so.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){so.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){so.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){so.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){so.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){so.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,i){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,i(e)})))})),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,i){n.initiateAuth(e,t.authCallbacks(n,r,i))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return so.debug("get MFA Options failed",e),void n(e);so.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(i,o){var a=n._config.clientMetadata,s=!!t&&t.bypassCache;e.getUserData((function(t,a){return(0,Nt.__awaiter)(n,void 0,void 0,(function(){var n,s;return(0,Nt.__generator)(this,(function(l){switch(l.label){case 0:if(!t)return[3,5];if(so.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return l.sent(),[3,4];case 3:return n=l.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:return(s=r._getMfaTypeFromUserData(a))?(i(s),[2]):(o("invalid MFA Type"),[2])}}))}))}),{bypassCache:s,clientMetadata:a})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;r?0===r.length?t="NOMFA":so.debug("invalid case for getPreferredMFA",e):t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var n=this;return new Promise((function(r,i){e.getUserData((function(t,o){return(0,Nt.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Nt.__generator)(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(so.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return n=a.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:r(o),a.label=6;case 6:return[2]}}))}))}),t)}))},e.prototype.setPreferredMFA=function(e,t){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,l=this;return(0,Nt.__generator)(this,(function(c){switch(c.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(r=c.sent(),i=null,o=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return a=r.UserMFASettingList,[4,this._getMfaTypeFromUserData(r)];case 5:if("NOMFA"===(s=c.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===s)i={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==s)return[2,this.rejectAuthError(Ct.InvalidMFA)];o={PreferredMfa:!1,Enabled:!1}}return a&&0!==a.length&&a.forEach((function(e){"SMS_MFA"===e?i={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(o={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return so.debug("no validmfa method provided"),[2,this.rejectAuthError(Ct.NoMFA)];case 7:return[2,new Promise((function(t,r){e.setUserMfaPreference(i,o,(function(i,o){if(i)return so.debug("Set user mfa preference error",i),r(i);so.debug("Set user mfa success",o),so.debug("Caching the latest user data into local"),e.getUserData((function(n,i){return(0,Nt.__awaiter)(l,void 0,void 0,(function(){var i;return(0,Nt.__generator)(this,(function(a){switch(a.label){case 0:if(!n)return[3,5];if(so.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),r(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(n)];case 5:return[2,t(o)]}}))}))}),{bypassCache:!0,clientMetadata:n})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return so.debug("disable mfa failed",e),void n(e);so.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return so.debug("enable mfa failed",e),void n(e);so.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){so.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){so.debug("associateSoftwareToken success",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){var n;so.debug("verification totp token",e,t),e&&"function"==typeof e.getSignInUserSession&&(n=e.getSignInUserSession());var r=null==n?void 0:n.isValid();return new Promise((function(n,i){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){so.debug("verifyTotpToken failed",e),i(e)},onSuccess:function(t){r||uo("signIn",e,"A user "+e.getUsername()+" has been signed in"),uo("verify",e,"A user "+e.getUsername()+" has been verified"),so.debug("verifyTotpToken success",t),n(t)}})}))},e.prototype.confirmSignIn=function(e,t,n,r){var i=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(Ct.EmptyCode);var o=this;return new Promise((function(a,s){e.sendMFACode(t,{onSuccess:function(t){return(0,Nt.__awaiter)(i,void 0,void 0,(function(){var n,r,i,s;return(0,Nt.__generator)(this,(function(l){switch(l.label){case 0:so.debug(t),l.label=1;case 1:return l.trys.push([1,4,5,10]),[4,this.Credentials.clear()];case 2:return l.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=l.sent(),so.debug("succeed to get cognito credentials",n),[3,10];case 4:return r=l.sent(),so.debug("cannot get cognito credentials",r),[3,10];case 5:o.user=e,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,this.currentUserPoolUser()];case 7:return i=l.sent(),e.attributes=i.attributes,[3,9];case 8:return s=l.sent(),so.debug("cannot get updated Cognito User",s),[3,9];case 9:return uo("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 10:return[2]}}))}))},onFailure:function(e){so.debug("confirm signIn failure",e),s(e)}},n,r)}))},e.prototype.completeNewPassword=function(e,t,n,r){var i=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(Ct.EmptyPassword);var o=this;return new Promise((function(a,s){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return(0,Nt.__awaiter)(i,void 0,void 0,(function(){var n,r;return(0,Nt.__generator)(this,(function(i){switch(i.label){case 0:so.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=i.sent(),so.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=i.sent(),so.debug("cannot get cognito credentials",r),[3,6];case 5:return o.user=e,uo("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 6:return[2]}}))}))},onFailure:function(e){so.debug("completeNewPassword failure",e),uo("completeNewPassword_failure",e,i.user+" failed to complete the new password flow"),s(e)},mfaRequired:function(t,n){so.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,a(e)},mfaSetup:function(t,n){so.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)},totpRequired:function(t,n){so.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)}},r)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;return void 0===n&&(n=this._config.clientMetadata),this.userPool?t?new Promise((function(i,o){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,i,o),n)})):this.rejectAuthError(Ct.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise((function(r,i){n.userSession(e).then((function(n){e.deleteAttributes(t,(function(e,t){return e?i(e):r(t)}))}))}))},e.prototype.deleteUser=function(){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var e,t,n=this;return(0,Nt.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),so.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(e,r){return(0,Nt.__awaiter)(n,void 0,void 0,(function(){var n,i=this;return(0,Nt.__generator)(this,(function(o){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return so.debug("Failed to get user from user pool"),[2,r(new Error("No current user."))];n.getSession((function(o,a){return(0,Nt.__awaiter)(i,void 0,void 0,(function(){var i,a=this;return(0,Nt.__generator)(this,(function(s){switch(s.label){case 0:if(!o)return[3,5];if(so.debug("Failed to get the user session",o),!this.isSessionInvalid(o))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),r(new Error("Session is invalid due to: "+o.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(o)];case 5:n.deleteUser((function(i,o){if(i)r(i);else{uo("userDeleted",o,"The authenticated user has been deleted."),n.signOut(),a.user=null;try{a.cleanCachedItems()}catch(e){so.debug("failed to clear cached items")}t?a.oAuthSignOutRedirect(e,r):(uo("signOut",a.user,"A user has been signed out"),e(o))}})),s.label=6;case 6:return[2]}}))}))}))}else so.debug("no Congito User pool"),r(new Error("Cognito User pool does not exist"));return[2]}))}))}))]}}))}))},e.prototype.updateUserAttributes=function(e,t,n){var r=this;void 0===n&&(n=this._config.clientMetadata);var i=[],o=this;return new Promise((function(a,s){o.userSession(e).then((function(o){for(var l in t)if("sub"!==l&&l.indexOf("_verified")<0){var c={Name:l,Value:t[l]};i.push(c)}e.updateAttributes(i,(function(e,n,i){if(e)return uo("updateUserAttributes_failure",e,"Failed to update attributes"),s(e);var o=r.createUpdateAttributesResultList(t,null==i?void 0:i.CodeDeliveryDetailsList);return uo("updateUserAttributes",o,"Attributes successfully updated"),a(n)}),n)}))}))},e.prototype.createUpdateAttributesResultList=function(e,t){var n={};return Object.keys(e).forEach((function(e){n[e]={isUpdated:!0};var r=null==t?void 0:t.find((function(t){return t.AttributeName===e}));r&&(n[e].isUpdated=!1,n[e].codeDeliveryDetails=r)})),n},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},i={};return n.email&&(n.email_verified?i.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?i.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:i,unverified:r}}))},e.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isPasswordResetRequiredError=function(e){return this.isErrorWithMessage(e)&&"Password reset required for the user"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)||this.isPasswordResetRequiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var t=this;return(0,Nt.__generator)(this,(function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),so.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise((function(e,n){t.oAuthSignOutRedirect(e,n)}))]:(uo("signOut",this.user,"A user has been signed out"),[2])}}))}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return(0,Nt.__awaiter)(t,void 0,void 0,(function(){var t,i,o,a,s,l,c=this;return(0,Nt.__generator)(this,(function(u){switch(u.label){case 0:return this.isOAuthInProgress()?(so.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){so.debug("OAuth signIn in progress timeout"),Ft.remove("auth",n),e()}),1e4);function n(r){var i=r.payload.event;"cognitoHostedUI"!==i&&"cognitoHostedUI_failure"!==i||(so.debug("OAuth signIn resolved: "+i),clearTimeout(t),Ft.remove("auth",n),e())}Ft.listen("auth",n)}))]):[3,2];case 1:u.sent(),u.label=2;case 2:if(!(t=this.userPool.getCurrentUser()))return so.debug("Failed to get user from user pool"),r("No current user"),[2];u.label=3;case 3:return u.trys.push([3,7,,8]),[4,this._userSession(t)];case 4:return i=u.sent(),(o=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,6];case 5:u.sent(),u.label=6;case 6:return a=this._config.clientMetadata,(void 0===(s=i.getAccessToken().decodePayload().scope)?"":s).split(" ").includes(lo)?(t.getUserData((function(e,i){return(0,Nt.__awaiter)(c,void 0,void 0,(function(){var o,a,s,l,c,u,d;return(0,Nt.__generator)(this,(function(h){switch(h.label){case 0:if(!e)return[3,7];if(so.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return h.sent(),[3,4];case 3:return o=h.sent(),r(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return r(e),[3,6];case 5:n(t),h.label=6;case 6:return[2];case 7:for(a=i.PreferredMfaSetting||"NOMFA",s=[],l=0;l<i.UserAttributes.length;l++)c={Name:i.UserAttributes[l].Name,Value:i.UserAttributes[l].Value},u=new Ci(c),s.push(u);return d=this.attributesToObject(s),Object.assign(t,{attributes:d,preferredMFA:a}),[2,n(t)]}}))}))}),{bypassCache:o,clientMetadata:a}),[3,8]):(so.debug("Unable to get the user data because the "+lo+" is not in the scopes of the access token"),[2,n(t)]);case 7:return l=u.sent(),r(l),[3,8];case 8:return[2]}}))}))})).catch((function(e){return so.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,Nt.__generator)(this,(function(a){switch(a.label){case 0:so.debug("getting current authenticated user"),t=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[3,4];case 3:throw n=a.sent(),so.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=(0,Nt.__assign)((0,Nt.__assign)({},r.user),{token:r.token}))}catch(e){so.debug("cannot load federated user from auth storage")}return t?(this.user=t,so.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:so.debug("get current authenticated userpool user"),i=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=a.sent(),[3,9];case 8:return"No userPool"===(o=a.sent())&&so.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),so.debug("The user is not authenticated by the error",o),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return so.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){so.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){so.debug("Failed to get the current user",e),n(e)}))})):Promise.reject(new Error("No User Pool in the configuration."))},e.prototype._userSession=function(e){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var t,n,r=this;return(0,Nt.__generator)(this,(function(i){switch(i.label){case 0:if(!e)return so.debug("the user is null"),[2,this.rejectAuthError(Ct.NoUserSession)];t=this._config.clientMetadata,0===this.inflightSessionPromiseCounter&&(this.inflightSessionPromise=new Promise((function(n,i){e.getSession((function(t,o){return(0,Nt.__awaiter)(r,void 0,void 0,(function(){var r;return(0,Nt.__generator)(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(so.debug("Failed to get the session from user",e),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return r=a.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+r.message)),[2];case 4:return i(t),[2];case 5:return so.debug("Succeed to get the user session",o),n(o),[2]}}))}))}),{clientMetadata:t})}))),this.inflightSessionPromiseCounter++,i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.inflightSessionPromise];case 2:return n=i.sent(),e.signInUserSession=n,[2,n];case 3:return this.inflightSessionPromiseCounter--,[7];case 4:return[2]}}))}))},e.prototype.userSession=function(e){return this._userSession(e)},e.prototype.currentUserCredentials=function(){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var e,t,n=this;return(0,Nt.__generator)(this,(function(r){switch(r.label){case 0:so.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),so.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){so.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return so.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(){return so.debug("getting guest credentials"),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return so.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,i){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return i(e)}},n)}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,i){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){i(e)}})})):this.rejectAuthError(Ct.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return(0,Nt.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),so.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,o){if(e&&e.global){so.debug("user global sign out",t);var a=i._config.clientMetadata;t.getSession((function(e,a){return(0,Nt.__awaiter)(i,void 0,void 0,(function(){var i,a=this;return(0,Nt.__generator)(this,(function(s){switch(s.label){case 0:if(!e)return[3,5];if(so.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),o(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,o(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(so.debug("global sign out success"),!r)return n();a.oAuthSignOutRedirect(n,o)},onFailure:function(e){return so.debug("global sign out failed",e),o(e)}}),[2]}}))}))}),{clientMetadata:a})}else so.debug("user sign out",t),t.signOut((function(){if(!r)return n();i.oAuthSignOutRedirect(n,o)}))}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){Ht().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e(Error("Signout timeout fail"))}),3e3)},e.prototype.signOut=function(e){return void 0===e&&(e={}),(0,Nt.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Nt.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return r.sent(),[3,3];case 2:return r.sent(),so.debug("failed to clear cached items"),[3,3];case 3:if(!this.userPool)return[3,11];r.label=4;case 4:return r.trys.push([4,6,,7]),[4,this._storageSync];case 5:return r.sent(),[3,7];case 6:throw t=r.sent(),so.debug("Failed to sync cache info into memory",t),t;case 7:return(n=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,n)]:[3,9];case 8:return r.sent(),[3,10];case 9:so.debug("no current Cognito user"),r.label=10;case 10:return[3,12];case 11:so.debug("no Cognito User pool"),r.label=12;case 12:return uo("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){return(0,Nt.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var i=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(o,a){i.userSession(e).then((function(i){e.changePassword(t,n,(function(e,t){return e?(so.debug("change password failure",e),a(e)):o(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Ct.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,i){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){so.debug("forgot password failure",t),uo("forgotPassword_failure",t,e+" forgotPassword failed"),i(t)},inputVerificationCode:function(t){uo("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Ct.EmptyUsername);if(!t)return this.rejectAuthError(Ct.EmptyCode);if(!n)return this.rejectAuthError(Ct.EmptyPassword);var i=this.createCognitoUser(e);return new Promise((function(o,a){i.confirmPassword(t,n,{onSuccess:function(t){uo("forgotPasswordSubmit",i,e+" forgotPasswordSubmit successful"),o(t)},onFailure:function(t){uo("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),a(t)}},r)}))},e.prototype.currentUserInfo=function(){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return(0,Nt.__generator)(this,(function(s){switch(s.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return so.error(e)}))];case 1:if(!(a=s.sent()))return[2,null];s.label=2;case 2:return s.trys.push([2,8,,9]),[4,this.userAttributes(a)];case 3:t=s.sent(),n=this.attributesToObject(t),r=null,s.label=4;case 4:return s.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=s.sent(),[3,7];case 6:return i=s.sent(),so.debug("Failed to retrieve credentials while getting current user info",i),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:a.getUsername(),attributes:n}];case 8:return o=s.sent(),so.error("currentUserInfo error",o),[2,{}];case 9:return"federated"===e?[2,(a=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,l,c,u,d,h,f;return(0,Nt.__generator)(this,(function(p){switch(p.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return It(e)||(m=e)&&["customProvider"].find((function(e){return m.hasOwnProperty(e)}))||function(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}(e)||void 0===e?(r=e||{provider:St.Cognito},s=It(r)?r.provider:r.customProvider,It(r),i=r.customState,this._config.userPoolId&&(o=Pt(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,a=Pt(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,a,o,s,i)),[3,4]):[3,1];case 1:s=e;try{(l=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&so.warn("There is already a signed in user: "+l+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return c=t.token,u=t.identity_id,d=t.expires_at,[4,this.Credentials.set({provider:s,token:c,identity_id:u,user:n,expires_at:d},"federation")];case 2:return h=p.sent(),[4,this.currentAuthenticatedUser()];case 3:return f=p.sent(),uo("signIn",f,"A user "+f.username+" has been signed in"),so.debug("federated sign in credentials",h),[2,h];case 4:return[2]}var m}))}))},e.prototype._handleAuthResponse=function(e){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,l,c,u,d,h,f,p;return(0,Nt.__generator)(this,(function(m){switch(m.label){case 0:if(this.oAuthFlowInProgress)return so.debug("Skipping URL "+e+" current flow in progress"),[2];m.label=1;case 1:if(m.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(uo("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(Ht().isBrowser?window.location.href:""),n=!!((0,Wi.qg)(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=(0,Nt.__read)(e,1)[0];return"code"===t||"error"===t})),r=!!((0,Wi.qg)(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=(0,Nt.__read)(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),m.label=2;case 2:return m.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return i=m.sent(),o=i.accessToken,a=i.idToken,s=i.refreshToken,l=i.state,c=new xi({IdToken:new yi({IdToken:a}),RefreshToken:new vi({RefreshToken:s}),AccessToken:new mi({AccessToken:o})}),u=void 0,this._config.identityPoolId?[4,this.Credentials.set(c,"session")]:[3,5];case 4:u=m.sent(),so.debug("AWS credentials",u),m.label=5;case 5:return d=/-/.test(l),(h=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState(window.history.state,"",this._config.oauth.redirectSignIn),uo("signIn",h,"A user "+h.getUsername()+" has been signed in"),uo("cognitoHostedUI",h,"A user "+h.getUsername()+" has been signed in via Cognito Hosted UI"),d&&(f=l.split("-").splice(1).join("-"),uo("customOAuthState",f.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""),"State for user "+h.getUsername())),[2,u];case 6:return p=m.sent(),so.debug("Error in cognito hosted auth response",p),window&&void 0!==window.history&&window.history.replaceState(window.history.state,"",this._config.oauth.redirectSignIn),uo("signIn_failure",p,"The OAuth response flow failed"),uo("cognitoHostedUI_failure",p,"A failure occurred when returning to the Cognito Hosted UI"),uo("customState_failure",p,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value})),n},e.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new Ii(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?Ct.NoConfig:Ct.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new io(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new oo(e))},e.prototype.rememberDevice=function(){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Nt.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),so.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new io(Ct.DeviceConfig)):"NetworkError"===e.code?n(new io(Ct.NetworkError)):n(e)}})}))]}}))}))},e.prototype.forgetDevice=function(){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Nt.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),so.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new io(Ct.DeviceConfig)):"NetworkError"===e.code?n(new io(Ct.NetworkError)):n(e)}})}))]}}))}))},e.prototype.fetchDevices=function(){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Nt.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),so.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){var r={onSuccess:function(e){var n=e.Devices.map((function(e){var t=e.DeviceAttributes.find((function(e){return"device_name"===e.Name}))||{};return{id:e.DeviceKey,name:t.Value}}));t(n)},onFailure:function(e){"InvalidParameterException"===e.code?n(new io(Ct.DeviceConfig)):"NetworkError"===e.code?n(new io(Ct.NetworkError)):n(e)}};e.listDevices(60,null,r)}))]}}))}))},e}())(null);te.register(ho);var fo=i(1815),po=i(7671),mo=i(6936),go=i(6728),yo=i(4491),vo=i(3328),bo=i(1097);class wo extends o.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function xo({children:e,isPresent:t,anchorX:n}){const r=(0,o.useId)(),i=(0,o.useRef)(null),a=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=(0,o.useContext)(bo.Q);return(0,o.useInsertionEffect)((()=>{const{width:e,height:o,top:l,left:c,right:u}=a.current;if(t||!i.current||!e||!o)return;const d="left"===n?`left: ${c}`:`right: ${u}`;i.current.dataset.motionPopId=r;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${o}px !important;\n            ${d}px !important;\n            top: ${l}px !important;\n          }\n        `),()=>{document.head.contains(h)&&document.head.removeChild(h)}}),[t]),(0,po.jsx)(wo,{isPresent:t,childRef:i,sizeRef:a,children:o.cloneElement(e,{ref:i})})}const Eo=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s,anchorX:l})=>{const c=(0,go.M)(So),u=(0,o.useId)();let d=!0,h=(0,o.useMemo)((()=>(d=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:e=>{c.set(e,!0);for(const e of c.values())if(!e)return;r&&r()},register:e=>(c.set(e,!1),()=>c.delete(e))})),[n,c,r]);return a&&d&&(h={...h}),(0,o.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[n]),o.useEffect((()=>{!n&&!c.size&&r&&r()}),[n]),"popLayout"===s&&(e=(0,po.jsx)(xo,{isPresent:n,anchorX:l,children:e})),(0,po.jsx)(vo.t.Provider,{value:h,children:e})};function So(){return new Map}var ko=i(663);const Co=e=>e.key||"";function _o(e){const t=[];return o.Children.forEach(e,(e=>{(0,o.isValidElement)(e)&&t.push(e)})),t}const To=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:l="left"})=>{const[c,u]=(0,ko.xQ)(s),d=(0,o.useMemo)((()=>_o(e)),[e]),h=s&&!c?[]:d.map(Co),f=(0,o.useRef)(!0),p=(0,o.useRef)(d),m=(0,go.M)((()=>new Map)),[g,y]=(0,o.useState)(d),[v,b]=(0,o.useState)(d);(0,yo.E)((()=>{f.current=!1,p.current=d;for(let e=0;e<v.length;e++){const t=Co(v[e]);h.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}}),[v,h.length,h.join("-")]);const w=[];if(d!==g){let e=[...d];for(let t=0;t<v.length;t++){const n=v[t],r=Co(n);h.includes(r)||(e.splice(t,0,n),w.push(n))}return"wait"===a&&w.length&&(e=w),b(_o(e)),y(d),null}const{forceRender:x}=(0,o.useContext)(mo.L);return(0,po.jsx)(po.Fragment,{children:v.map((e=>{const o=Co(e),g=!(s&&!c)&&(d===v||h.includes(o));return(0,po.jsx)(Eo,{isPresent:g,initial:!(f.current&&!n)&&void 0,custom:t,presenceAffectsLayout:i,mode:a,onExitComplete:g?void 0:()=>{if(!m.has(o))return;m.set(o,!0);let e=!0;m.forEach((t=>{t||(e=!1)})),e&&(x?.(),b(p.current),s&&u?.(),r&&r())},anchorX:l,children:e},o)}))})};function Ao({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const No=o.forwardRef(Ao);function Io({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"}))}const Po=o.forwardRef(Io);function Ro({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const Oo=o.forwardRef(Ro);var Do=i(8080);function Mo({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Uo=o.forwardRef(Mo);function Lo({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Fo=o.forwardRef(Lo);function jo({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Bo=o.forwardRef(jo);function zo({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Vo=o.forwardRef(zo);function Ho({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}))}const qo=o.forwardRef(Ho);function $o({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Wo=o.forwardRef($o),Ko={events:{},emit(e,t){this.events[e]&&this.events[e].forEach((e=>e(t)))},on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)},off(e,t){this.events[e]&&(this.events[e]=this.events[e].filter((e=>e!==t)))}};const Yo=e=>{let{isMini:t=!1}=e;return o.createElement(fo.P.div,{className:"bg-gray-800 rounded-lg overflow-hidden border border-gray-700 shadow-md\n                "+(t?"w-32 sm:w-36":"w-full"),initial:{opacity:.6},animate:{opacity:[.6,.8,.6],transition:{repeat:1/0,duration:1.5,ease:"linear"}}},o.createElement("div",{className:"aspect-[2/3] bg-gray-700 "+(t?"h-48 sm:h-54":"h-64 sm:h-72 md:h-80")}),o.createElement("div",{className:"p-2 "+(t?"space-y-1":"space-y-2")},o.createElement("div",{className:"h-4 bg-gray-700 rounded "+(t?"w-3/4":"w-3/4 mb-1")}),o.createElement("div",{className:"h-3 bg-gray-700 rounded w-1/2"}),!t&&o.createElement("div",{className:"flex justify-between items-center mt-1 pt-1"},o.createElement("div",{className:"w-10 h-3 bg-gray-700 rounded"}),o.createElement("div",{className:"w-10 h-3 bg-gray-700 rounded"}))))};var Go=i(9727);function Jo(e){let{title:t,IconEmpty:n,inHeader:r=!1,isOpen:i,currentUser:a,isAuthenticated:s,cacheKey:l,endpoint:c,mapItem:u,eventKey:d,cardPropsFactory:h}=e;const{items:f,isLoading:p,error:m,sortOption:g,setSortOption:y,showSortMenu:v,setShowSortMenu:b,panelRef:w,sortMenuRef:x,scrollRef:E,fetchList:S}=function(e){let{currentUser:t,isAuthenticated:n,inHeader:r=!1,isOpen:i=!1,cacheKeyPrefix:a,fetchEndpoint:s,mapItem:l,eventName:c}=e;const[u,d]=(0,o.useState)([]),[h,f]=(0,o.useState)(!0),[p,m]=(0,o.useState)(null),[g,y]=(0,o.useState)("dateAdded"),[v,b]=(0,o.useState)(!1),w=(0,o.useRef)(null),x=(0,o.useRef)(null),E=(0,o.useRef)(null),S=(0,o.useRef)(0),k=e=>{try{localStorage.removeItem(`${a}_${e}`)}catch(e){}},C=(e,t)=>{try{const n={data:t,timestamp:Date.now()};localStorage.setItem(`${a}_${e}`,JSON.stringify(n))}catch(e){}},_=async function(){var e,n;let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null==t||null===(e=t.signInUserSession)||void 0===e||null===(e=e.accessToken)||void 0===e||!e.jwtToken)return m("Authentication token missing"),void f(!1);const i=t.username||(null===(n=t.attributes)||void 0===n?void 0:n.sub);if(!i)return m("User identifier missing"),void f(!1);const o=Date.now();if(!r&&o-S.current<5e3)u.length>0&&f(!1);else{f(!0),m(null),S.current=o;try{const e=r?null:(e=>{try{const t=localStorage.getItem(`${a}_${e}`);if(!t)return null;const{data:n,timestamp:r}=JSON.parse(t);return Date.now()-r<9e5?n:(k(e),null)}catch(t){return k(e),null}})(i);let n=null;if(e)n=e;else{const e=await fetch(`https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod${s}`,{headers:{Authorization:`Bearer ${t.signInUserSession.accessToken.jwtToken}`,"Content-Type":"application/json"},credentials:"include"});if(!e.ok)throw new Error(`Failed to fetch: ${e.status} ${e.statusText}`);const r=await e.json(),o=r.items&&Array.isArray(r.items)?r.items:Array.isArray(r)?r:[];n=o,C(i,o)}const o=n.map(l).filter(Boolean);d(o)}catch(e){m(e.message)}finally{f(!1)}}},T=o.useMemo((()=>{if(!u.length)return[];const e=[...u];switch(g){case"alphabetical":return e.sort(((e,t)=>e.title.localeCompare(t.title)));case"rating":return e.sort(((e,t)=>t.vote_average-e.vote_average));default:return e}}),[u,g]);return(0,o.useEffect)((()=>{i&&n&&_()}),[i,n,t]),(0,o.useEffect)((()=>{const e=e=>{const{mediaId:n,isInList:r,item:i}=e.detail||{};n&&d((e=>{var o;let a=e;if(r&&i){const t=l(i);e.some((e=>String(e.id)===String(t.id)))||(a=[t,...e])}else a=e.filter((e=>String(e.id)!==String(n)));const s=t.username||(null===(o=t.attributes)||void 0===o?void 0:o.sub);return C(s,a),a}))};return document.addEventListener(c,e),()=>document.removeEventListener(c,e)}),[c,l,t]),{items:T,isLoading:h,error:p,sortOption:g,setSortOption:y,showSortMenu:v,setShowSortMenu:b,panelRef:w,sortMenuRef:x,scrollRef:E,fetchList:_,setItems:d}}({currentUser:a,isAuthenticated:s,inHeader:r,isOpen:i,cacheKeyPrefix:l,fetchEndpoint:c,mapItem:u,eventName:d});return s&&r?o.createElement(fo.P.div,{ref:w,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1,transition:{duration:.15,ease:"easeOut"}},exit:{opacity:0,scale:.95,transition:{duration:.1,ease:"easeIn"}},className:"absolute top-16 right-0 bg-gray-800 rounded-lg shadow-xl overflow-hidden border border-gray-700 w-72 sm:w-80 md:w-96 max-w-[90vw] z-50",onMouseDown:e=>e.stopPropagation()},o.createElement("div",{className:"p-3 sm:p-4"},o.createElement("div",{className:"flex justify-between items-center mb-3"},o.createElement("h2",{className:"text-lg font-bold text-white"},t),o.createElement("div",{className:"flex items-center space-x-2"},o.createElement("div",{className:"relative"},o.createElement("button",{onClick:()=>b(!v),className:"text-gray-400 hover:text-white p-1 rounded-full hover:bg-gray-700 transition-colors","aria-label":"Sort"},h().icons.sort),o.createElement(To,null,v&&o.createElement(fo.P.div,{ref:x,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg border border-gray-700 z-50"},o.createElement("div",{className:"py-1"},o.createElement("button",{onClick:()=>{y("dateAdded"),b(!1)},className:"block w-full text-left px-4 py-2 text-sm "+("dateAdded"===g?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700")},"Date Added"),o.createElement("button",{onClick:()=>{y("alphabetical"),b(!1)},className:"block w-full text-left px-4 py-2 text-sm "+("alphabetical"===g?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700")},"A–Z"),o.createElement("button",{onClick:()=>{y("rating"),b(!1)},className:"block w-full text-left px-4 py-2 text-sm "+("rating"===g?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700")},"Rating"))))),o.createElement("button",{onClick:()=>S(!0),className:"text-gray-400 hover:text-white p-1 rounded-full hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Refresh",disabled:p},h().icons.refresh),o.createElement("button",{onClick:()=>h().onClose(),className:"text-gray-400 hover:text-white p-1 rounded-full hover:bg-gray-700 transition-colors","aria-label":"Close"},h().icons.close))),p&&0===f.length&&o.createElement("div",{className:"grid grid-cols-2 gap-3 pb-2"},[...Array(4)].map(((e,t)=>o.createElement(Yo,{key:t,isMini:!0})))),m&&o.createElement("div",{className:"text-center py-6"},o.createElement("p",{className:"text-red-400 mb-3"},m),o.createElement("button",{onClick:()=>S(!0),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm"},"Try Again")),!p&&0===f.length&&o.createElement("div",{className:"text-center py-6 space-y-3"},o.createElement("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-700/50 mb-2"},n),o.createElement("p",{className:"text-white font-medium mb-1"},`Your ${t.toLowerCase()} is empty`),o.createElement("p",{className:"text-gray-400 text-xs max-w-sm mx-auto"},h().emptyText)),!m&&f.length>0&&o.createElement("div",{ref:E,className:"grid grid-cols-2 gap-3 pb-2 max-h-[400px] overflow-y-auto pr-1 custom-scrollbar"},o.createElement(To,{initial:!1},f.map((e=>o.createElement(fo.P.div,{key:`${t}-${e.id}`,variants:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",duration:.5}},exit:{opacity:0,scale:.8,transition:{duration:.2}}},initial:"hidden",animate:"visible",exit:"exit",layout:!0},o.createElement(Go.default,h(e))))))))):null}const Zo=e=>null!=e&&e.mediaId?{id:e.mediaId,media_type:e.mediaType||"movie",title:e.title,name:e.title,poster_path:e.posterPath||e.poster_path||null,backdrop_path:e.backdropPath||e.backdrop_path||null,release_date:e.releaseDate||e.firstAirDate||e.release_date||null,first_air_date:e.firstAirDate||e.releaseDate||e.first_air_date||e.release_date||null,vote_average:parseFloat(e.voteAverage||e.vote_average||0),popularity:e.popularity||0,genre_ids:Array.isArray(e.genreIds)?e.genreIds:[]}:null;function Qo(e){return o.createElement(Jo,{title:"Your Favorites",IconEmpty:o.createElement(Do.A,{className:"h-8 w-8 text-gray-400"}),inHeader:e.inHeader,isOpen:e.isOpen,currentUser:e.currentUser,isAuthenticated:e.isAuthenticated,cacheKey:"user_favorites_cache",endpoint:"/favourite",mapItem:Zo,eventKey:"favorites-updated",cardPropsFactory:t=>({result:t,currentUser:e.currentUser,isMiniCard:e.inHeader,fromFavorites:!0,initialIsFavorited:!0,onFavoriteToggle:()=>e.onClose&&e.onClose(t.id),icons:{sort:o.createElement(qo,{className:"h-5 w-5"}),refresh:o.createElement(Wo,{className:"h-5 w-5"}),close:o.createElement(Bo,{className:"h-5 w-5"})},emptyText:"Browse movies and shows and click the heart icon to add them to your favorites",onClose:e.onClose})})}const Xo={initial:{scale:1},hover:{scale:1.1,transition:{type:"spring",stiffness:400,damping:10}}},ea={hidden:{opacity:0,y:-5,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:500,damping:30}},exit:{opacity:0,y:-5,scale:.95,transition:{duration:.2}}},ta=(0,o.memo)((function(e){var t,n,r;let{currentUser:i,isAuthenticated:a,onSearchClick:s,showSearch:l,onPreferencesClick:c,onFavoritesClick:u,showFavorites:d,onWatchlistClick:h,showWatchlist:f,onSignout:p,onAccountClick:m,hasBasicPreferencesOnly:g=!1,searchContainerRef:y}=e;const v=Ye(),[b,w]=(0,o.useState)(null),[x,E]=(0,o.useState)(!1),[S,k]=(0,o.useState)(!1),C=(0,o.useRef)(null),_=(0,o.useCallback)(((e,t)=>{E(!1);const n=e=>{"search"!==e&&l&&s(!1),"favorites"!==e&&d&&u(!1),"watchlist"!==e&&f&&h(!1)};switch(e){case"search":s&&(void 0!==t?(t&&n("search"),s(t)):(l||n("search"),s(!l)));break;case"favorites":u&&(void 0!==t?(t&&n("favorites"),u(t)):(d||n("favorites"),u(!d)));break;case"watchlist":h&&(void 0!==t?(t&&n("watchlist"),h(t)):(f||n("watchlist"),h(!f)));break;case"preferences":c&&(n("preferences"),c());break;case"account":m&&(n("account"),m())}S&&k(!1)}),[l,d,f,S,s,u,h,c,m]),T=(0,o.useCallback)((()=>{l&&s(!1),d&&u(!1),f&&h(!1),k(!1),E((e=>!e))}),[l,d,f,s,u,h]),A=(0,o.useCallback)((()=>{k((e=>!e))}),[]),N=(0,o.useCallback)((()=>{p&&(p(),E(!1),k(!1))}),[p]);(0,o.useEffect)((()=>{const e=()=>{E(!1),k(!1)};return document.addEventListener("modal-opened",e,{passive:!0}),()=>document.removeEventListener("modal-opened",e)}),[]),(0,o.useEffect)((()=>{const e=()=>{E(!1),k(!1)};return window.addEventListener("resize",e,{passive:!0}),()=>window.removeEventListener("resize",e)}),[]),(0,o.useEffect)((()=>{const e=e=>{if(C.current&&!C.current.contains(e.target)){const t=l&&y&&y.current&&y.current.contains(e.target);l&&!t&&s(!1),d&&u(!1),f&&h(!1),E(!1),k(!1)}};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[l,d,f,s,u,h,y]);const I=(0,o.useMemo)((()=>[{name:"Search",icon:o.createElement(No,{className:"w-5 h-5"}),onClick:()=>_("search",!l),active:l,show:!0},{name:"Blog",icon:o.createElement(Po,{className:"w-5 h-5"}),onClick:()=>{l&&s(!1),d&&u(!1),f&&h(!1),E(!1),k(!1),v("/blog")},active:!1,show:!0},{name:"Preferences",icon:o.createElement(Oo,{className:"w-5 h-5"}),onClick:()=>_("preferences"),active:!1,show:a},{name:"Favorites",icon:o.createElement(Do.A,{className:"w-5 h-5"}),onClick:()=>_("favorites",!d),active:d,show:a},{name:"Watchlist",icon:o.createElement(Uo,{className:"w-5 h-5"}),onClick:()=>_("watchlist",!f),active:f,show:a},{name:"Account Settings",icon:o.createElement(Fo,{className:"w-5 h-5"}),onClick:()=>_("account"),active:!1,show:a}]),[a,l,d,f,_]);return o.createElement(fo.P.header,{ref:C,initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},className:"fixed top-0 left-0 right-0 z-40 px-4 sm:px-6 py-4 bg-gray-900 border-b border-gray-800/50 shadow-md"},o.createElement("div",{className:"max-w-7xl mx-auto flex items-center justify-between"},o.createElement(fo.P.div,{whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},className:"flex-shrink-0"},o.createElement(vt,{to:"/",onClick:()=>{l&&s(!1),d&&u(!1),f&&h(!1),E(!1),k(!1)},className:"flex items-center"},o.createElement("img",{src:"/logo.png",alt:"MovieRec Logo",className:"h-8 mr-2",width:"32",height:"32",loading:"eager"}),o.createElement("span",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-500 to-indigo-400"},"MovieRec"))),o.createElement("div",{className:"md:hidden"},o.createElement(fo.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:A,className:"p-2.5 rounded-full transition-all duration-300 "+(S?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md shadow-purple-500/30":"text-gray-300 hover:bg-gray-800/70 hover:text-white"),"aria-label":"Toggle menu","aria-expanded":S,"aria-controls":"mobile-menu"},o.createElement("div",{className:"relative w-6 h-6 flex items-center justify-center"},o.createElement(To,{initial:!1,mode:"wait"},S?o.createElement(fo.P.div,{key:"close",initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2}},o.createElement(Bo,{className:"w-6 h-6"})):o.createElement(fo.P.div,{key:"menu",initial:{opacity:0,rotate:90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:-90},transition:{duration:.2}},o.createElement(Vo,{className:"w-6 h-6"})))))),o.createElement("div",{className:"hidden md:flex items-center space-x-1 sm:space-x-2"},o.createElement(fo.P.button,{variants:Xo,initial:"initial",whileHover:"hover",whileTap:{scale:.95},onClick:()=>_("search",!l),onMouseEnter:()=>w("search"),onMouseLeave:()=>w(null),className:"relative p-2.5 rounded-full transition-colors duration-200 "+(l?"bg-purple-600 text-white":"text-gray-300 hover:bg-gray-800/70 hover:text-white"),title:"Search movies","aria-label":"Search movies","aria-pressed":l},o.createElement(No,{className:"w-5 h-5"}),"search"===b&&o.createElement(fo.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap px-2 py-1 bg-gray-800 text-xs text-gray-200 rounded shadow-lg pointer-events-none"},"Search")),o.createElement(fo.P.button,{variants:Xo,initial:"initial",whileHover:"hover",whileTap:{scale:.95},onClick:()=>{l&&s(!1),d&&u(!1),f&&h(!1),E(!1),k(!1),v("/blog")},onMouseEnter:()=>w("blog"),onMouseLeave:()=>w(null),className:"relative p-2.5 rounded-full text-gray-300 hover:bg-gray-800/70 hover:text-white transition-colors duration-200",title:"Blog","aria-label":"Blog"},o.createElement(Po,{className:"w-5 h-5"}),"blog"===b&&o.createElement(fo.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap px-2 py-1 bg-gray-800 text-xs text-gray-200 rounded shadow-lg pointer-events-none"},"Blog")),a&&o.createElement(o.Fragment,null,o.createElement(fo.P.button,{variants:Xo,initial:"initial",whileHover:"hover",whileTap:{scale:.95},onClick:()=>_("preferences"),onMouseEnter:()=>w("preferences"),onMouseLeave:()=>w(null),className:"relative p-2.5 rounded-full transition-colors duration-200 "+(g?"text-white bg-gradient-to-r from-purple-600/80 to-indigo-600/80 shadow-lg shadow-purple-500/30 animate-pulse-subtle":"text-gray-300 hover:bg-gray-800/70 hover:text-white"),title:g?"Continue with more preference questions":"Set movie preferences","aria-label":g?"Continue with more preference questions":"Set movie preferences"},o.createElement(Oo,{className:"w-5 h-5"}),"preferences"===b&&o.createElement(fo.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap px-2 py-1 bg-gray-800 text-xs text-gray-200 rounded shadow-lg pointer-events-none"},g?"Continue with more questions":"Preferences")),o.createElement(fo.P.button,{variants:Xo,initial:"initial",whileHover:"hover",whileTap:{scale:.95},onMouseDown:e=>e.stopPropagation(),onClick:()=>_("favorites",!d),onMouseEnter:()=>w("favorites"),onMouseLeave:()=>w(null),className:"relative p-2.5 rounded-full transition-colors duration-200 "+(d?"bg-purple-600 text-white":"text-gray-300 hover:bg-gray-800/70 hover:text-white"),title:"View favorites","aria-label":"View favorites","aria-pressed":d},o.createElement(Do.A,{className:"w-5 h-5"}),"favorites"===b&&o.createElement(fo.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap px-2 py-1 bg-gray-800 text-xs text-gray-200 rounded shadow-lg pointer-events-none"},"Favorites")),o.createElement(fo.P.button,{variants:Xo,initial:"initial",whileHover:"hover",whileTap:{scale:.95},onMouseDown:e=>e.stopPropagation(),onClick:()=>_("watchlist",!f),onMouseEnter:()=>w("watchlist"),onMouseLeave:()=>w(null),className:"relative p-2.5 rounded-full transition-colors duration-200 "+(f?"bg-purple-600 text-white":"text-gray-300 hover:bg-gray-800/70 hover:text-white"),title:"View watchlist","aria-label":"View watchlist","aria-pressed":f},o.createElement(Uo,{className:"w-5 h-5"}),"watchlist"===b&&o.createElement(fo.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap px-2 py-1 bg-gray-800 text-xs text-gray-200 rounded shadow-lg pointer-events-none"},"Watchlist"))),a?o.createElement("div",{className:"relative"},o.createElement(fo.P.button,{variants:Xo,initial:"initial",whileHover:"hover",whileTap:{scale:.95},onClick:T,onBlur:()=>setTimeout((()=>E(!1)),100),className:"p-2.5 text-gray-300 hover:bg-gray-800/70 hover:text-white rounded-full transition-colors duration-200",title:(null==i||null===(t=i.attributes)||void 0===t?void 0:t.email)||"Account","aria-label":"User account","aria-expanded":x,"aria-controls":"user-dropdown"},o.createElement(Fo,{className:"w-5 h-5"})),o.createElement(To,null,x&&o.createElement(fo.P.div,{id:"user-dropdown",variants:ea,initial:"hidden",animate:"visible",exit:"exit",className:"absolute right-0 mt-2 w-60 bg-gray-800 rounded-lg shadow-lg border border-gray-700/50 overflow-hidden z-50"},o.createElement("div",{onClick:()=>{E(!1),_("account")},className:"px-4 py-3 border-b border-gray-700/50 cursor-pointer hover:bg-gray-700/50 transition-colors duration-150",role:"menuitem"},o.createElement("div",{className:"font-medium text-white text-sm"},"Account"),o.createElement("div",{className:"text-xs text-gray-300 truncate"},null==i||null===(n=i.attributes)||void 0===n?void 0:n.email)),o.createElement("button",{onClick:N,className:"w-full px-4 py-2.5 text-left text-sm text-gray-300 hover:bg-gray-700/50 transition-colors duration-150 flex items-center",role:"menuitem"},o.createElement("span",null,"Sign out"))))):o.createElement(fo.P.div,{whileHover:{scale:1.03},whileTap:{scale:.97}},o.createElement(vt,{to:"/auth",className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-lg text-sm font-medium transition-all shadow-md"},"Sign In")))),o.createElement(To,null,S&&o.createElement(o.Fragment,null,o.createElement(fo.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"md:hidden fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:A,"aria-hidden":"true"}),o.createElement(fo.P.div,{id:"mobile-menu",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeOut"},className:"md:hidden absolute left-2 right-2 top-full mt-2 bg-gray-900/95 backdrop-blur-sm shadow-xl rounded-xl overflow-hidden z-50 border border-gray-800/50",role:"menu"},o.createElement("div",{className:"p-4"},a&&o.createElement("div",{className:"mb-4 pb-4 border-b border-gray-800/80"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement("div",{className:"p-2 bg-gradient-to-r from-purple-600/30 to-indigo-600/30 rounded-full"},o.createElement(Fo,{className:"w-6 h-6 text-purple-400"})),o.createElement("div",{className:"flex-1 min-w-0"},o.createElement("p",{className:"text-sm font-medium text-white truncate"},(null==i||null===(r=i.attributes)||void 0===r?void 0:r.email)||"User"),o.createElement("p",{className:"text-xs text-gray-400"},"Logged in")))),o.createElement(fo.P.div,{className:"space-y-2"},I.map(((e,t)=>e.show&&o.createElement(fo.P.div,{key:e.name,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t,duration:.2},role:"none"},o.createElement("button",{onClick:e.onClick,className:"w-full flex items-center px-4 py-3 text-left rounded-lg transition-all duration-200 "+(e.active?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md":"text-gray-300 hover:bg-gray-800/70 hover:text-white"),role:"menuitem","aria-pressed":e.active},o.createElement("div",{className:"mr-3"},e.icon),o.createElement("span",null,e.name))))),a&&o.createElement(fo.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.25,duration:.2},role:"none"},o.createElement("div",{className:"pt-2 mt-2 border-t border-gray-800/80"},o.createElement("button",{onClick:N,className:"w-full flex items-center px-4 py-3 text-left text-gray-400 hover:text-white hover:bg-gray-800/50 rounded-lg transition-all duration-200",role:"menuitem"},o.createElement("span",null,"Sign out")))),!a&&o.createElement(fo.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1,duration:.2},role:"none"},o.createElement(vt,{to:"/auth",onClick:A,className:"block w-full px-4 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-center text-white rounded-lg font-medium shadow-md transition-all duration-200",role:"menuitem"},"Sign In"))))))))})),na=(e,t)=>{let n;return function(){if(!n){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e.apply(this,i),n=!0,setTimeout((()=>n=!1),t)}}},ra=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768,ia=()=>{const e=(0,o.useRef)(null),t=(0,o.useRef)([]),n=(0,o.useRef)({x:null,y:null}),r=(0,o.useRef)(null),i=(0,o.useRef)({r:20,g:20,b:20}),a=(0,o.useRef)(null),s=(0,o.useRef)(window.devicePixelRatio||1),l=(0,o.useRef)(ra()),c=(0,o.useRef)({circleCount:ra()?8:15,blurAmount:ra()?15:30,interactionRadius:ra()?150:200,colorTransitionSpeed:.05,defaultColorTransitionSpeed:.03}),u=(0,o.useCallback)((e=>{if(!e)return void(r.current=null);const t=e.replace(/[^\d,]/g,"").split(",").map(Number);3!==t.length||t.some(isNaN)?console.error("Invalid color format:",e):r.current={r:t[0],g:t[1],b:t[2]}}),[]);return(0,o.useEffect)((()=>(Ko.on("accentColor",u),()=>{Ko.off("accentColor",u)})),[u]),(0,o.useEffect)((()=>{const o=e.current,u=o.getContext("2d",{alpha:!1}),d=()=>{const{width:e,height:t}=o.getBoundingClientRect();o.width=e*s.current,o.height=t*s.current,u.scale(s.current,s.current),o.style.width=`${e}px`,o.style.height=`${t}px`};d();class h{constructor(){this.radius=60+60*Math.random(),this.x=Math.random()*(o.width/s.current),this.y=Math.random()*(o.height/s.current),this.dx=.4*(Math.random()-.5),this.dy=.4*(Math.random()-.5),this.baseSize=this.radius,this.updateGradient()}updateGradient(){const e=document.createElement("canvas"),t=2*this.radius;e.width=t,e.height=t;const n=e.getContext("2d"),r=n.createRadialGradient(t/2,t/2,.3*this.radius,t/2,t/2,this.radius);r.addColorStop(0,"rgba(255,255,255,0.1)"),r.addColorStop(1,"rgba(0,0,0,0)"),n.fillStyle=r,n.beginPath(),n.arc(t/2,t/2,this.radius,0,2*Math.PI),n.fill(),this.gradientCache=e}draw(){Math.abs(this.radius-this.lastDrawnRadius)>5&&(this.updateGradient(),this.lastDrawnRadius=this.radius),u.filter=`blur(${c.current.blurAmount}px)`,u.drawImage(this.gradientCache,this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius),u.filter="none"}update(){if(n.current.x&&n.current.y){const e=n.current.x-this.x,t=n.current.y-this.y,r=Math.sqrt(e*e+t*t);if(r<c.current.interactionRadius){const n=(c.current.interactionRadius-r)/50;this.dx-=e/r*n,this.dy-=t/r*n,this.radius=Math.max(.6*this.baseSize,this.radius-.8)}else this.radius=Math.min(this.baseSize,this.radius+.5)}const e=o.width/s.current,t=o.height/s.current;(this.x+this.radius>e||this.x-this.radius<0)&&(this.dx*=-1),(this.y+this.radius>t||this.y-this.radius<0)&&(this.dy*=-1),this.dx*=.97,this.dy*=.97,this.x+=this.dx,this.y+=this.dy,this.draw()}}const f=()=>{t.current=[];for(let e=0;e<c.current.circleCount;e++)t.current.push(new h)},p=()=>{r.current?(i.current.r+=(r.current.r-i.current.r)*c.current.colorTransitionSpeed,i.current.g+=(r.current.g-i.current.g)*c.current.colorTransitionSpeed,i.current.b+=(r.current.b-i.current.b)*c.current.colorTransitionSpeed):(i.current.r+=(20-i.current.r)*c.current.defaultColorTransitionSpeed,i.current.g+=(20-i.current.g)*c.current.defaultColorTransitionSpeed,i.current.b+=(20-i.current.b)*c.current.defaultColorTransitionSpeed),i.current.r=Math.max(10,Math.min(50,i.current.r)),i.current.g=Math.max(10,Math.min(50,i.current.g)),i.current.b=Math.max(10,Math.min(50,i.current.b)),u.fillStyle=`rgb(${Math.round(i.current.r)},\n                          ${Math.round(i.current.g)},\n                          ${Math.round(i.current.b)})`,u.fillRect(0,0,o.width/s.current,o.height/s.current),t.current.forEach((e=>e.update())),a.current=requestAnimationFrame(p)},m=na((()=>{l.current=ra(),c.current.circleCount=l.current?8:15,c.current.blurAmount=l.current?15:30,c.current.interactionRadius=l.current?150:200,s.current=window.devicePixelRatio||1,d(),f()}),250),g=na((e=>{n.current={x:e.clientX,y:e.clientY}}),16);return window.addEventListener("resize",m,{passive:!0}),window.addEventListener("mousemove",g,{passive:!0}),window.addEventListener("touchmove",(e=>{e.touches.length>0&&g({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}),{passive:!0}),f(),a.current=requestAnimationFrame(p),()=>{window.removeEventListener("resize",m),window.removeEventListener("mousemove",g),window.removeEventListener("touchmove",g),a.current&&cancelAnimationFrame(a.current)}}),[]),o.createElement("canvas",{ref:e,style:{position:"fixed",top:0,left:0,zIndex:0,width:"100%",height:"100%",touchAction:"none"}})},oa=function(e){let{onSignupSuccess:t,onSigninSuccess:n,initialMode:r="signin"}=e;const[i,a]=(0,o.useState)("signup"===r),[s,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)(""),[d,h]=(0,o.useState)(""),[f,p]=(0,o.useState)(""),[m,g]=(0,o.useState)(""),[y,v]=(0,o.useState)(""),[b,w]=(0,o.useState)(""),[x,E]=(0,o.useState)(!1),[S,k]=(0,o.useState)(!1),[C,_]=(0,o.useState)(!1),[T,A]=(0,o.useState)(""),[N,I]=(0,o.useState)(""),[P,R]=(0,o.useState)(!1),[O,D]=(0,o.useState)(!1),[M,U]=(0,o.useState)(!1),[L,F]=(0,o.useState)(!1),j=Ye(),B=We();(0,o.useEffect)((()=>{"/signup"===B.pathname?a(!0):"/signin"===B.pathname&&a(!1)}),[B.pathname]);const z=()=>{l(!1),k(!1),A(""),I("")},V={hidden:{opacity:0,scale:.98},visible:{opacity:1,scale:1,transition:{duration:.3}},exit:{opacity:0,scale:.98,transition:{duration:.2}}},H={hidden:{y:10,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}};return o.createElement(fo.P.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}},className:"min-h-[80vh] flex flex-col items-center justify-center px-4 py-12"},o.createElement("div",{className:"w-full max-w-md"},o.createElement(fo.P.div,{className:"text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5}},o.createElement("h1",{className:"text-4xl font-bold"},o.createElement(vt,{to:"/",className:"bg-clip-text text-transparent bg-gradient-to-r from-purple-500 to-indigo-400 hover:from-purple-600 hover:to-indigo-500 transition-colors"},"MovieRec")),o.createElement("p",{className:"mt-2 text-gray-300"},s?S?"Reset Your Password":"Forgot Password":i?"Create Your Account":x?"Verify Your Account":"Welcome Back")),o.createElement(fo.P.div,{className:"bg-gray-800 bg-opacity-70 shadow-lg rounded-xl p-8 border border-gray-700 min-h-[360px] w-full flex flex-col custom-scrollbar"},T&&o.createElement(fo.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-4 p-3 bg-red-900/50 border border-red-500 text-red-200 text-sm rounded"},T),N&&o.createElement(fo.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-4 p-3 bg-green-900/50 border border-green-500 text-green-200 text-sm rounded"},N),o.createElement(To,{mode:"wait"},s&&S?o.createElement(fo.P.form,{key:"reset-form",variants:V,initial:"hidden",animate:"visible",exit:"exit",onSubmit:async e=>{if(e.preventDefault(),y===b){_(!0),A(""),I("");try{await ho.forgotPasswordSubmit(c,m,y),I("Password has been reset successfully. You can now sign in with your new password."),setTimeout((()=>{l(!1),k(!1),h(""),v(""),w(""),g(""),I("")}),3e3)}catch(e){console.error("[AuthPage] Reset password confirmation error:",e),A(e.message||"Error resetting password")}finally{_(!1)}}else A("Passwords do not match")},className:"space-y-6"},o.createElement(fo.P.div,{className:"mb-4",variants:H},o.createElement("h3",{className:"text-xl font-bold text-white mb-1"},"Reset Password"),o.createElement("p",{className:"text-sm text-gray-400"},"Enter the verification code and your new password.")),o.createElement(fo.P.div,{variants:H},o.createElement("label",{htmlFor:"reset-code",className:"block text-sm font-medium text-gray-300"},"Verification Code"),o.createElement("input",{id:"reset-code",name:"reset-code",type:"text",autoComplete:"one-time-code",required:!0,value:m,onChange:e=>g(e.target.value),className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter code from email"})),o.createElement(fo.P.div,{variants:H},o.createElement("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-300"},"New Password"),o.createElement("div",{className:"mt-1 relative"},o.createElement("input",{id:"new-password",name:"new-password",type:M?"text":"password",autoComplete:"new-password",required:!0,value:y,onChange:e=>v(e.target.value),placeholder:"8+ characters",className:"appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500"}),o.createElement("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-200",onClick:()=>U(!M),tabIndex:"-1"},M?o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},o.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),o.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})):o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},o.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),o.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))))),o.createElement(fo.P.div,{variants:H},o.createElement("label",{htmlFor:"confirm-new-password",className:"block text-sm font-medium text-gray-300"},"Confirm New Password"),o.createElement("div",{className:"mt-1 relative"},o.createElement("input",{id:"confirm-new-password",name:"confirm-new-password",type:L?"text":"password",autoComplete:"new-password",required:!0,value:b,onChange:e=>w(e.target.value),placeholder:"Confirm password",className:"appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500"}),o.createElement("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-200",onClick:()=>F(!L),tabIndex:"-1"},L?o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},o.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),o.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})):o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},o.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),o.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))))),o.createElement(fo.P.div,{variants:H,className:"mt-6"},o.createElement("button",{type:"submit",disabled:C,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50"},C?"Resetting...":"Reset Password")),o.createElement(fo.P.div,{variants:H,className:"mt-4 text-center"},o.createElement("button",{type:"button",onClick:z,className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none"},"Back to Sign In"))):s?o.createElement(fo.P.form,{key:"forgot-form",variants:V,initial:"hidden",animate:"visible",exit:"exit",onSubmit:async e=>{e.preventDefault(),_(!0),A(""),I("");try{await ho.forgotPassword(c),I("Verification code sent to your email."),k(!0)}catch(e){console.error("[AuthPage] Forgot password error:",e),A(e.message||"Error requesting password reset")}finally{_(!1)}},className:"space-y-6"},o.createElement(fo.P.div,{className:"mb-4",variants:H},o.createElement("h3",{className:"text-xl font-bold text-white mb-1"},"Reset Your Password"),o.createElement("p",{className:"text-sm text-gray-400"},"We'll send a verification code to your email.")),o.createElement(fo.P.div,{variants:H},o.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300"},"Email Address"),o.createElement("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:c,onChange:e=>u(e.target.value),className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"you@example.com"})),o.createElement(fo.P.div,{variants:H,className:"mt-6"},o.createElement("button",{type:"submit",disabled:C,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50"},C?"Sending...":"Send Reset Code")),o.createElement(fo.P.div,{variants:H,className:"mt-4 text-center"},o.createElement("button",{type:"button",onClick:z,className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none"},"Back to Sign In"))):i?o.createElement(fo.P.form,{key:"signup-form",variants:V,initial:"hidden",animate:"visible",exit:"exit",onSubmit:async e=>{if(e.preventDefault(),d===f){_(!0),A("");try{await ho.signUp({username:c,password:d,attributes:{email:c}}),E(!0),I("Account created successfully. Please check your email for the verification code."),setTimeout((()=>I("")),5e3)}catch(e){let t="Error signing up. Please try again.";"UsernameExistsException"===e.code?t="An account with this email already exists. Please sign in or use a different email.":"InvalidPasswordException"===e.code?t="Password must be at least 8 characters with uppercase, lowercase, and numbers.":"InvalidParameterException"===e.code?t="Please enter a valid email address.":e.message&&(t=e.message),A(t),console.error("Sign up error:",e)}finally{_(!1)}}else A("Passwords do not match")},className:"space-y-6"},o.createElement(fo.P.div,{className:"mb-4",variants:H},o.createElement("h3",{className:"text-xl font-bold text-white mb-1"},"Create Your Account"),o.createElement("p",{className:"text-sm text-gray-400"},"Join ",o.createElement(vt,{to:"/",className:"text-indigo-400 hover:text-indigo-300 transition-colors"},"MovieRec")," to get personalized recommendations")),o.createElement(fo.P.div,{variants:H},o.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300"},"Email Address"),o.createElement("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:c,onChange:e=>u(e.target.value),className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"you@example.com"})),o.createElement(fo.P.div,{variants:H},o.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300"},"Password"),o.createElement("div",{className:"mt-1 relative"},o.createElement("input",{id:"password",name:"password",type:P?"text":"password",autoComplete:"new-password",required:!0,value:d,onChange:e=>h(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"8+ characters"}),o.createElement("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-200",onClick:()=>R(!P),tabIndex:"-1"},P?o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},o.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),o.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})):o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},o.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),o.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))))),o.createElement(fo.P.div,{variants:H},o.createElement("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-300"},"Confirm Password"),o.createElement("div",{className:"mt-1 relative"},o.createElement("input",{id:"confirm-password",name:"confirm-password",type:O?"text":"password",autoComplete:"new-password",required:!0,value:f,onChange:e=>p(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"Re-enter your password"}),o.createElement("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-200",onClick:()=>D(!O),tabIndex:"-1"},O?o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},o.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),o.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})):o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},o.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),o.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))))),o.createElement(fo.P.div,{variants:H,className:"mt-6"},o.createElement("button",{type:"submit",disabled:C,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50"},C?"Creating account...":"Create Account")),o.createElement(fo.P.div,{variants:H,className:"mt-4 text-center"},o.createElement("button",{type:"button",onClick:()=>{a(!1),j("/signin")},className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none"},"Already have an account? Sign in"))):x?o.createElement(fo.P.form,{key:"verify-form",variants:V,initial:"hidden",animate:"visible",exit:"exit",onSubmit:async e=>{e.preventDefault(),_(!0),A("");try{await ho.confirmSignUp(c,m);const e=await ho.signIn(c,d);t(e),j("/onboarding")}catch(e){let t="Error verifying account";"CodeMismatchException"===e.code?t="Invalid verification code. Please try again.":"NotAuthorizedException"===e.code?t="Incorrect email or password.":e.message&&(t=e.message),A(t),console.error("Verification error:",e)}finally{_(!1)}},className:"space-y-6"},o.createElement(fo.P.div,{className:"mb-4",variants:H},o.createElement("h3",{className:"text-xl font-bold text-white mb-1"},"Verify Your Account"),o.createElement("p",{className:"text-sm text-gray-400"},"Enter the verification code sent to your email.")),o.createElement(fo.P.div,{variants:H},o.createElement("label",{htmlFor:"verification-code",className:"block text-sm font-medium text-gray-300"},"Verification Code"),o.createElement("input",{id:"verification-code",name:"verification-code",type:"text",autoComplete:"one-time-code",required:!0,value:m,onChange:e=>g(e.target.value),className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter verification code"})),o.createElement(fo.P.div,{variants:H},o.createElement("p",{className:"mt-2 text-sm text-gray-400"},"Please check your email (including spam folder) for the verification code."),o.createElement("p",{className:"mt-2 text-sm text-gray-400"},"Didn't receive the code?"," ",o.createElement("button",{type:"button",onClick:async()=>{_(!0),A(""),I("");try{await ho.resendSignUp(c),I("Verification code resent successfully."),setTimeout((()=>I("")),5e3)}catch(e){let t="Error resending verification code";"LimitExceededException"===e.code?t="Attempt limit exceeded. Please try again later.":e.message&&(t=e.message),A(t)}finally{_(!1)}},disabled:C,className:"text-indigo-400 hover:text-indigo-300"},"Resend code"))),o.createElement(fo.P.div,{variants:H,className:"mt-6"},o.createElement("button",{type:"submit",disabled:C,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50"},C?"Verifying...":"Verify Account"))):o.createElement(fo.P.form,{key:"signin-form",variants:V,initial:"hidden",animate:"visible",exit:"exit",onSubmit:async e=>{e.preventDefault(),_(!0),A("");try{const e=await ho.signIn(c,d);n(e),j("/")}catch(e){console.error("[AuthPage] Sign-in error:",e),A(e.message||"Error signing in")}finally{_(!1)}},className:"space-y-6"},o.createElement(fo.P.div,{className:"mb-4",variants:H},o.createElement("h3",{className:"text-xl font-bold text-white mb-1"},"Welcome Back"),o.createElement("p",{className:"text-sm text-gray-400"},"Sign in to your account")),o.createElement(fo.P.div,{variants:H},o.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300"},"Email Address"),o.createElement("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:c,onChange:e=>u(e.target.value),className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"you@example.com"})),o.createElement(fo.P.div,{variants:H},o.createElement("div",{className:"flex items-center justify-between"},o.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300"},"Password"),o.createElement("button",{type:"button",onClick:()=>l(!0),className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none"},"Forgot password?")),o.createElement("div",{className:"mt-1 relative"},o.createElement("input",{id:"password",name:"password",type:P?"text":"password",autoComplete:"current-password",required:!0,value:d,onChange:e=>h(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter your password"}),o.createElement("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-200",onClick:()=>R(!P),tabIndex:"-1"},P?o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},o.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),o.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})):o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},o.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),o.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))))),o.createElement(fo.P.div,{variants:H,className:"mt-6"},o.createElement("button",{type:"submit",disabled:C,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50"},C?"Signing in...":"Sign In")),o.createElement(fo.P.div,{variants:H,className:"mt-4 text-center"},o.createElement("button",{type:"button",onClick:()=>{a(!0),j("/signup")},className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none"},"Don't have an account? Sign up"))))),o.createElement(fo.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-6 text-center"},o.createElement("p",{className:"text-sm text-gray-400"},"By signing up, you agree to our ",o.createElement("a",{href:"/terms.html",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:text-indigo-300"},"Terms of Service")," and ",o.createElement("a",{href:"/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:text-indigo-300"},"Privacy Policy")))))};function aa({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const sa=o.forwardRef(aa);function la({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const ca=o.forwardRef(la);function ua(e){return ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ua(e)}"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var da="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function ha(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function fa(e){return pa(e.source,ha(e.source,e.start))}function pa(e,t){var n=e.locationOffset.column-1,r=ga(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?n:0,l=t.column+s,c="".concat(e.name,":").concat(a,":").concat(l,"\n"),u=r.split(/\r\n|[\n\r]/g),d=u[i];if(d.length>120){for(var h=Math.floor(l/80),f=l%80,p=[],m=0;m<d.length;m+=80)p.push(d.slice(m,m+80));return c+ma([["".concat(a),p[0]]].concat(p.slice(1,h+1).map((function(e){return["",e]})),[[" ",ga(f-1)+"^"],["",p[h+1]]]))}return c+ma([["".concat(a-1),u[i-1]],["".concat(a),d],["",ga(l-1)+"^"],["".concat(a+1),u[i+1]]])}function ma(e){var t=e.filter((function(e){return e[0],void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return ga(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function ga(e){return Array(e+1).join(" ")}function ya(e){return ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ya(e)}function va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xa(e,t){return!t||"object"!==ya(t)&&"function"!=typeof t?Ea(e):t}function Ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sa(e){var t="function"==typeof Map?new Map:void 0;return Sa=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ka(e,arguments,Ta(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_a(r,e)},Sa(e)}function ka(e,t,n){return ka=Ca()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_a(i,n.prototype),i},ka.apply(null,arguments)}function Ca(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _a(e,t){return _a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_a(e,t)}function Ta(e){return Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ta(e)}var Aa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_a(e,t)}(a,e);var t,n,r,i,o=(t=a,n=Ca(),function(){var e,r=Ta(t);if(n){var i=Ta(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return xa(this,e)});function a(e,t,n,r,i,s,l){var c,u,d,h;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(h=o.call(this,e)).name="GraphQLError",h.originalError=null!=s?s:void 0,h.nodes=Na(Array.isArray(t)?t:t?[t]:void 0);for(var f=[],p=0,m=null!==(g=h.nodes)&&void 0!==g?g:[];p<m.length;p++){var g,y=m[p].loc;null!=y&&f.push(y)}f=Na(f),h.source=null!=n?n:null===(c=f)||void 0===c?void 0:c[0].source,h.positions=null!=r?r:null===(u=f)||void 0===u?void 0:u.map((function(e){return e.start})),h.locations=r&&n?r.map((function(e){return ha(n,e)})):null===(d=f)||void 0===d?void 0:d.map((function(e){return ha(e.source,e.start)})),h.path=null!=i?i:void 0;var v,b=null==s?void 0:s.extensions;return null==l&&"object"==ua(v=b)&&null!==v?h.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?va(Object(n),!0).forEach((function(t){ba(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b):h.extensions=null!=l?l:{},Object.defineProperties(Ea(h),{message:{enumerable:!0},locations:{enumerable:null!=h.locations},path:{enumerable:null!=h.path},extensions:{enumerable:null!=h.extensions&&Object.keys(h.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=s&&s.stack?(Object.defineProperty(Ea(h),"stack",{value:s.stack,writable:!0,configurable:!0}),xa(h)):(Error.captureStackTrace?Error.captureStackTrace(Ea(h),a):Object.defineProperty(Ea(h),"stack",{value:Error().stack,writable:!0,configurable:!0}),h)}return r=a,(i=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+fa(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+="\n\n"+pa(e.source,s)}return t}(this)}},{key:da,get:function(){return"Object"}}])&&wa(r.prototype,i),a}(Sa(Error));function Na(e){return void 0===e||0===e.length?void 0:e}function Ia(e,t,n){return new Aa("Syntax Error: ".concat(n),void 0,e,[t])}var Pa=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});const Ra="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Oa(e){var t=e.prototype.toJSON;"function"==typeof t||function(){if(!Boolean(0))throw new Error("Unexpected invariant triggered.")}(),e.prototype.inspect=t,Ra&&(e.prototype[Ra]=t)}var Da=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();Oa(Da);var Ma=function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function Ua(e){return null!=e&&"string"==typeof e.kind}Oa(Ma);var La=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Fa(e){return Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(e)}function ja(e){return Ba(e,[])}function Ba(e,t){switch(Fa(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(Ra)];return"function"==typeof t?t:"function"==typeof e.inspect?e.inspect:void 0}(e);if(void 0!==r){var i=r.call(e);if(i!==e)return"string"==typeof i?i:Ba(i,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(Ba(e[o],t));return 1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items")),"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);return 0===n.length?"{}":t.length>2?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]":"{ "+n.map((function(n){return n+": "+Ba(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function za(e,t){if(!Boolean(e))throw new Error(t)}function Va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ha=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||za(0,"Body must be a string. Received: ".concat(ja(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||za(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||za(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n;return t=e,(n=[{key:da,get:function(){return"Source"}}])&&Va(t.prototype,n),e}(),qa=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function $a(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,i=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var i=0;i<t.length&&Wa(t[i]);)++i;for(var o=t.length;o>i&&Wa(t[o-1]);)--o;return t.slice(i,o).join("\n")}function Wa(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var Ka=function(){function e(e){var t=new Ma(La.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==La.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=Ga(this,e)}while(e.kind===La.COMMENT);return e},e}();function Ya(e){return isNaN(e)?La.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Ga(e,t){for(var n=e.source,r=n.body,i=r.length,o=t.end;o<i;){var a=r.charCodeAt(o),s=e.line,l=1+o-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new Ma(La.BANG,o,o+1,s,l,t);case 35:return Za(n,o,s,l,t);case 36:return new Ma(La.DOLLAR,o,o+1,s,l,t);case 38:return new Ma(La.AMP,o,o+1,s,l,t);case 40:return new Ma(La.PAREN_L,o,o+1,s,l,t);case 41:return new Ma(La.PAREN_R,o,o+1,s,l,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new Ma(La.SPREAD,o,o+3,s,l,t);break;case 58:return new Ma(La.COLON,o,o+1,s,l,t);case 61:return new Ma(La.EQUALS,o,o+1,s,l,t);case 64:return new Ma(La.AT,o,o+1,s,l,t);case 91:return new Ma(La.BRACKET_L,o,o+1,s,l,t);case 93:return new Ma(La.BRACKET_R,o,o+1,s,l,t);case 123:return new Ma(La.BRACE_L,o,o+1,s,l,t);case 124:return new Ma(La.PIPE,o,o+1,s,l,t);case 125:return new Ma(La.BRACE_R,o,o+1,s,l,t);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?ts(n,o,s,l,t,e):es(n,o,s,l,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Qa(n,o,a,s,l,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return rs(n,o,s,l,t)}throw Ia(n,o,Ja(a))}var c=e.line,u=1+o-e.lineStart;return new Ma(La.EOF,i,i,c,u,t)}function Ja(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(Ya(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(Ya(e),".")}function Za(e,t,n,r,i){var o,a=e.body,s=t;do{o=a.charCodeAt(++s)}while(!isNaN(o)&&(o>31||9===o));return new Ma(La.COMMENT,t,s,n,r,i,a.slice(t+1,s))}function Qa(e,t,n,r,i,o){var a=e.body,s=n,l=t,c=!1;if(45===s&&(s=a.charCodeAt(++l)),48===s){if((s=a.charCodeAt(++l))>=48&&s<=57)throw Ia(e,l,"Invalid number, unexpected digit after 0: ".concat(Ya(s),"."))}else l=Xa(e,l,s),s=a.charCodeAt(l);if(46===s&&(c=!0,s=a.charCodeAt(++l),l=Xa(e,l,s),s=a.charCodeAt(l)),69!==s&&101!==s||(c=!0,43!==(s=a.charCodeAt(++l))&&45!==s||(s=a.charCodeAt(++l)),l=Xa(e,l,s),s=a.charCodeAt(l)),46===s||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(s))throw Ia(e,l,"Invalid number, expected digit but got: ".concat(Ya(s),"."));return new Ma(c?La.FLOAT:La.INT,t,l,r,i,o,a.slice(t,l))}function Xa(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw Ia(e,i,"Invalid number, expected digit but got: ".concat(Ya(o),"."))}function es(e,t,n,r,i){for(var o,a,s,l,c=e.body,u=t+1,d=u,h=0,f="";u<c.length&&!isNaN(h=c.charCodeAt(u))&&10!==h&&13!==h;){if(34===h)return f+=c.slice(d,u),new Ma(La.STRING,t,u+1,n,r,i,f);if(h<32&&9!==h)throw Ia(e,u,"Invalid character within String: ".concat(Ya(h),"."));if(++u,92===h){switch(f+=c.slice(d,u-1),h=c.charCodeAt(u)){case 34:f+='"';break;case 47:f+="/";break;case 92:f+="\\";break;case 98:f+="\b";break;case 102:f+="\f";break;case 110:f+="\n";break;case 114:f+="\r";break;case 116:f+="\t";break;case 117:var p=(o=c.charCodeAt(u+1),a=c.charCodeAt(u+2),s=c.charCodeAt(u+3),l=c.charCodeAt(u+4),ns(o)<<12|ns(a)<<8|ns(s)<<4|ns(l));if(p<0){var m=c.slice(u+1,u+5);throw Ia(e,u,"Invalid character escape sequence: \\u".concat(m,"."))}f+=String.fromCharCode(p),u+=4;break;default:throw Ia(e,u,"Invalid character escape sequence: \\".concat(String.fromCharCode(h),"."))}d=++u}}throw Ia(e,u,"Unterminated string.")}function ts(e,t,n,r,i,o){for(var a=e.body,s=t+3,l=s,c=0,u="";s<a.length&&!isNaN(c=a.charCodeAt(s));){if(34===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return u+=a.slice(l,s),new Ma(La.BLOCK_STRING,t,s+3,n,r,i,$a(u));if(c<32&&9!==c&&10!==c&&13!==c)throw Ia(e,s,"Invalid character within String: ".concat(Ya(c),"."));10===c?(++s,++o.line,o.lineStart=s):13===c?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(u+=a.slice(l,s)+'"""',l=s+=4):++s}throw Ia(e,s,"Unterminated string.")}function ns(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function rs(e,t,n,r,i){for(var o=e.body,a=o.length,s=t+1,l=0;s!==a&&!isNaN(l=o.charCodeAt(s))&&(95===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++s;return new Ma(La.NAME,t,s,n,r,i,o.slice(t,s))}function is(e,t){return new os(e,t).parseDocument()}var os=function(){function e(e,t){var n=function(e){return e instanceof Ha}(e)?e:new Ha(e);this._lexer=new Ka(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(La.NAME);return{kind:Pa.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:Pa.DOCUMENT,definitions:this.many(La.SOF,this.parseDefinition,La.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(La.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(La.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(La.BRACE_L))return{kind:Pa.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(La.NAME)&&(t=this.parseName()),{kind:Pa.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(La.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(La.PAREN_L,this.parseVariableDefinition,La.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:Pa.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(La.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(La.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(La.DOLLAR),{kind:Pa.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:Pa.SELECTION_SET,selections:this.many(La.BRACE_L,this.parseSelection,La.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(La.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(La.COLON)?(e=r,t=this.parseName()):t=r,{kind:Pa.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(La.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(La.PAREN_L,t,La.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(La.COLON),{kind:Pa.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:Pa.ARGUMENT,name:this.parseName(),value:(this.expectToken(La.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(La.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(La.NAME)?{kind:Pa.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:Pa.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:Pa.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:Pa.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case La.BRACKET_L:return this.parseList(e);case La.BRACE_L:return this.parseObject(e);case La.INT:return this._lexer.advance(),{kind:Pa.INT,value:t.value,loc:this.loc(t)};case La.FLOAT:return this._lexer.advance(),{kind:Pa.FLOAT,value:t.value,loc:this.loc(t)};case La.STRING:case La.BLOCK_STRING:return this.parseStringLiteral();case La.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:Pa.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:Pa.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:Pa.NULL,loc:this.loc(t)};default:return{kind:Pa.ENUM,value:t.value,loc:this.loc(t)}}case La.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:Pa.STRING,value:e.value,block:e.kind===La.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:Pa.LIST,values:this.any(La.BRACKET_L,(function(){return t.parseValueLiteral(e)}),La.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:Pa.OBJECT,fields:this.any(La.BRACE_L,(function(){return t.parseObjectField(e)}),La.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(La.COLON),{kind:Pa.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(La.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(La.AT),{kind:Pa.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(La.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(La.BRACKET_R),e={kind:Pa.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(La.BANG)?{kind:Pa.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:Pa.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===La.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(La.STRING)||this.peek(La.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(La.BRACE_L,this.parseOperationTypeDefinition,La.BRACE_R);return{kind:Pa.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(La.COLON);var n=this.parseNamedType();return{kind:Pa.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:Pa.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:Pa.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(La.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(La.AMP)||this.peek(La.NAME));return t}return this.delimitedMany(La.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(La.BRACE_L)&&this._lexer.lookahead().kind===La.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(La.BRACE_L,this.parseFieldDefinition,La.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(La.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:Pa.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(La.PAREN_L,this.parseInputValueDef,La.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(La.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(La.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:Pa.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:Pa.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:Pa.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(La.EQUALS)?this.delimitedMany(La.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:Pa.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(La.BRACE_L,this.parseEnumValueDefinition,La.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:Pa.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:Pa.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(La.BRACE_L,this.parseInputValueDef,La.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===La.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(La.BRACE_L,this.parseOperationTypeDefinition,La.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:Pa.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:Pa.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:Pa.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:Pa.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Pa.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Pa.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Pa.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(La.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:Pa.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(La.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==qa[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new Da(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw Ia(this._lexer.source,t.start,"Expected ".concat(ss(e),", found ").concat(as(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==La.NAME||t.value!==e)throw Ia(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(as(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===La.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return Ia(this._lexer.source,t.start,"Unexpected ".concat(as(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function as(e){var t=e.value;return ss(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function ss(e){return function(e){return e===La.BANG||e===La.DOLLAR||e===La.AMP||e===La.PAREN_L||e===La.PAREN_R||e===La.SPREAD||e===La.COLON||e===La.EQUALS||e===La.AT||e===La.BRACKET_L||e===La.BRACKET_R||e===La.BRACE_L||e===La.PIPE||e===La.BRACE_R}(e)?'"'.concat(e,'"'):e}var ls={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},cs=Object.freeze({});function us(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}function ds(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ls,r=void 0,i=Array.isArray(e),o=[e],a=-1,s=[],l=void 0,c=void 0,u=void 0,d=[],h=[],f=e;do{var p=++a===o.length,m=p&&0!==s.length;if(p){if(c=0===h.length?void 0:d[d.length-1],l=u,u=h.pop(),m){if(i)l=l.slice();else{for(var g={},y=0,v=Object.keys(l);y<v.length;y++){var b=v[y];g[b]=l[b]}l=g}for(var w=0,x=0;x<s.length;x++){var E=s[x][0],S=s[x][1];i&&(E-=w),i&&null===S?(l.splice(E,1),w++):l[E]=S}}a=r.index,o=r.keys,s=r.edits,i=r.inArray,r=r.prev}else{if(c=u?i?a:o[a]:void 0,null==(l=u?u[c]:f))continue;u&&d.push(c)}var k,C=void 0;if(!Array.isArray(l)){if(!Ua(l))throw new Error("Invalid AST Node: ".concat(ja(l),"."));var _=us(t,l.kind,p);if(_){if((C=_.call(t,l,c,u,d,h))===cs)break;if(!1===C){if(!p){d.pop();continue}}else if(void 0!==C&&(s.push([c,C]),!p)){if(!Ua(C)){d.pop();continue}l=C}}}void 0===C&&m&&s.push([c,l]),p?d.pop():(r={inArray:i,index:a,keys:o,edits:s,prev:r},o=(i=Array.isArray(l))?l:null!==(k=n[l.kind])&&void 0!==k?k:[],a=-1,s=[],u&&h.push(u),u=l)}while(void 0!==r);return 0!==s.length&&(f=s[s.length-1][1]),f}(e,{leave:hs})}var hs={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return ps(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=gs("(",ps(e.variableDefinitions,", "),")"),i=ps(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?ps([t,ps([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+gs(" = ",r)+gs(" ",ps(i," "))},SelectionSet:function(e){return ms(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet,a=gs("",t,": ")+n,s=a+gs("(",ps(r,", "),")");return s.length>80&&(s=a+gs("(\n",ys(ps(r,"\n")),"\n)")),ps([s,ps(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+gs(" ",ps(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return ps(["...",gs("on ",t),ps(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(gs("(",ps(r,", "),")")," ")+"on ".concat(n," ").concat(gs("",ps(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||o||a||n,l="";return!s||r&&i||(l+="\n"+t),l+=t?e.replace(/\n/g,"\n"+t):e,s&&(l+="\n"),'"""'+l.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+ps(e.values,", ")+"]"},ObjectValue:function(e){return"{"+ps(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+gs("(",ps(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:fs((function(e){var t=e.directives,n=e.operationTypes;return ps(["schema",ps(t," "),ms(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:fs((function(e){return ps(["scalar",e.name,ps(e.directives," ")]," ")})),ObjectTypeDefinition:fs((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return ps(["type",t,gs("implements ",ps(n," & ")),ps(r," "),ms(i)]," ")})),FieldDefinition:fs((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(bs(n)?gs("(\n",ys(ps(n,"\n")),"\n)"):gs("(",ps(n,", "),")"))+": "+r+gs(" ",ps(i," "))})),InputValueDefinition:fs((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return ps([t+": "+n,gs("= ",r),ps(i," ")]," ")})),InterfaceTypeDefinition:fs((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return ps(["interface",t,gs("implements ",ps(n," & ")),ps(r," "),ms(i)]," ")})),UnionTypeDefinition:fs((function(e){var t=e.name,n=e.directives,r=e.types;return ps(["union",t,ps(n," "),r&&0!==r.length?"= "+ps(r," | "):""]," ")})),EnumTypeDefinition:fs((function(e){var t=e.name,n=e.directives,r=e.values;return ps(["enum",t,ps(n," "),ms(r)]," ")})),EnumValueDefinition:fs((function(e){return ps([e.name,ps(e.directives," ")]," ")})),InputObjectTypeDefinition:fs((function(e){var t=e.name,n=e.directives,r=e.fields;return ps(["input",t,ps(n," "),ms(r)]," ")})),DirectiveDefinition:fs((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(bs(n)?gs("(\n",ys(ps(n,"\n")),"\n)"):gs("(",ps(n,", "),")"))+(r?" repeatable":"")+" on "+ps(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return ps(["extend schema",ps(t," "),ms(n)]," ")},ScalarTypeExtension:function(e){return ps(["extend scalar",e.name,ps(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return ps(["extend type",t,gs("implements ",ps(n," & ")),ps(r," "),ms(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return ps(["extend interface",t,gs("implements ",ps(n," & ")),ps(r," "),ms(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return ps(["extend union",t,ps(n," "),r&&0!==r.length?"= "+ps(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return ps(["extend enum",t,ps(n," "),ms(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return ps(["extend input",t,ps(n," "),ms(r)]," ")}};function fs(e){return function(t){return ps([t.description,e(t)],"\n")}}function ps(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function ms(e){return gs("{\n",ys(ps(e,"\n")),"\n}")}function gs(e,t){return null!=t&&""!==t?e+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function ys(e){return gs("  ",e.replace(/\n/g,"\n  "))}function vs(e){return-1!==e.indexOf("\n")}function bs(e){return null!=e&&e.some(vs)}var ws=i(5333);const xs=i.n(ws)();for(var Es=i(6262),Ss=i(635),ks=i(2828),Cs={clockOffset:0,getDateWithClockOffset:function(){return Cs.clockOffset?new Date((new Date).getTime()+Cs.clockOffset):new Date},getClockOffset:function(){return Cs.clockOffset},getHeaderStringFromDate:function(e){return void 0===e&&(e=Cs.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6];return new Date(Date.UTC(Number(n),Number(r)-1,Number(i),Number(o),Number(a),Number(s)))},isClockSkewed:function(e){return Math.abs(e.getTime()-Cs.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean(["BadRequestException","InvalidSignatureException"].includes(t["x-amzn-errortype"])&&(t.date||t.Date))},setClockOffset:function(e){Cs.clockOffset=e}},_s=function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).sort().join(";")},Ts="X-Amz-Date",As="X-Amz-Security-Token",Ns="host",Is=Ts.toLowerCase(),Ps=As.toLowerCase(),Rs="aws4_request",Os="AWS4-HMAC-SHA256",Ds=function(e){var t,n,r=e.credentials,i=e.signingDate,o=void 0===i?new Date:i,a=e.signingRegion,s=e.signingService,l=e.uriEscapePath,c=void 0===l||l,u=r.accessKeyId,d=r.secretAccessKey,h=r.sessionToken,f=function(e){var t=e.toISOString().replace(/[:\-]|\.\d{3}/g,"");return{longDate:t,shortDate:t.slice(0,8)}}(o),p=f.longDate,m=f.shortDate;return{accessKeyId:u,credentialScope:(t=a,n=s,"".concat(m,"/").concat(t,"/").concat(n,"/").concat(Rs)),longDate:p,secretAccessKey:d,sessionToken:h,shortDate:m,signingRegion:a,signingService:s,uriEscapePath:c}},Ms={},Us={},Ls=0;Ls<256;Ls++){var Fs=Ls.toString(16).toLowerCase();1===Fs.length&&(Fs="0"+Fs),Ms[Ls]=Fs,Us[Fs]=Ls}var js=function(e,t){var n=new Jr.Sha256(e);return n.update(t),n.digestSync()},Bs=function(e,t){return function(e){for(var t="",n=0;n<e.byteLength;n++)t+=Ms[e[n]];return t}(js(e,t))},zs=function(e){return Object.entries(e).map((function(e){var t,n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,2),r=n[0],i=n[1];return{key:r.toLowerCase(),value:null!==(t=null==i?void 0:i.trim().replace(/\s+/g," "))&&void 0!==t?t:""}})).sort((function(e,t){return e.key<t.key?-1:1})).map((function(e){return"".concat(e.key,":").concat(e.value,"\n")})).join("")},Vs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Hs=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,qs)},qs=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},$s=function(e,t){return void 0===t&&(t=!0),e?t?encodeURIComponent(e).replace(/%2F/g,"/"):e:"/"},Ws=function(e){return null==e?"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855":Ks(e)?Bs(null,e):"UNSIGNED-PAYLOAD"},Ks=function(e){return"string"==typeof e||ArrayBuffer.isView(e)||Ys(e)},Ys=function(e){return"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)},Gs=function(e,t){var n=t.credentialScope,r=t.longDate,i=t.secretAccessKey,o=t.shortDate,a=t.signingRegion,s=t.signingService,l=function(e,t){var n,r=e.body,i=e.headers,o=e.method,a=e.url;return void 0===t&&(t=!0),[o,$s(a.pathname,t),(n=a.searchParams,Array.from(n).sort((function(e,t){var n=Vs(e,2),r=n[0],i=n[1],o=Vs(t,2),a=o[0],s=o[1];return r===a?i<s?-1:1:r<a?-1:1})).map((function(e){var t=Vs(e,2),n=t[0],r=t[1];return"".concat(Hs(n),"=").concat(Hs(r))})).join("&")),zs(i),_s(i),Ws(r)].join("\n")}(e,t.uriEscapePath),c=function(e,t,n){return[Os,e,t,n].join("\n")}(r,n,Bs(null,l)),u=Bs(function(e,t,n,r){var i="".concat("AWS4").concat(e),o=js(i,t),a=js(o,n),s=js(a,r);return js(s,Rs)}(i,o,a,s),c);return u},Js=function(){return Js=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Js.apply(this,arguments)},Zs=function(){return Zs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zs.apply(this,arguments)},Qs=function(){return Qs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Qs.apply(this,arguments)},Xs=/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com(.cn)?$/,el=function(){function e(){}return e.sign=function(e,t,n){if(e.headers=e.headers||{},e.body&&!e.data)throw new Error('The attribute "body" was found on the request object. Please use the attribute "data" instead.');var r=Qs(Qs({},e),{body:e.data,url:new URL(e.url)}),i=function(e,t){var n=Ds(t),r=n.accessKeyId,i=n.credentialScope,o=n.longDate,a=n.sessionToken,s=Js({},e.headers);s[Ns]=e.url.host,s[Is]=o,a&&(s[Ps]=a);var l=Js(Js({},e),{headers:s}),c=Gs(l,n),u="Credential=".concat(r,"/").concat(i),d="SignedHeaders=".concat(_s(s)),h="Signature=".concat(c);return s.authorization="".concat(Os," ").concat(u,", ").concat(d,", ").concat(h),l}(r,tl(r,t,n));return i.url=i.url.toString(),i.headers.Authorization=i.headers.authorization,i.headers["X-Amz-Security-Token"]=i.headers["x-amz-security-token"],delete i.headers.authorization,delete i.headers["x-amz-security-token"],i},e.signUrl=function(e,t,n,r){var i="object"==typeof e?e.url:e,o="object"==typeof e?e.method:"GET",a={body:"object"==typeof e?e.body:void 0,method:o,url:new URL(i)},s=tl(a,t,n,r),l=function(e,t){var n,r,i,o,a=e.body,s=e.method,l=void 0===s?"GET":s,c=e.url,u=t.expiration,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["expiration"]),h=Ds(d),f=h.accessKeyId,p=h.credentialScope,m=h.longDate,g=h.sessionToken,y=new URL(c);Object.entries(Zs(Zs((n={},n["X-Amz-Algorithm"]=Os,n["X-Amz-Credential"]="".concat(f,"/").concat(p),n[Ts]=m,n["X-Amz-SignedHeaders"]=Ns,n),u&&(r={},r["X-Amz-Expires"]=u.toString(),r)),g&&(i={},i[As]=g,i))).forEach((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,2),n=t[0],r=t[1];y.searchParams.append(n,r)}));var v={body:a,headers:(o={},o[Ns]=c.host,o),method:l,url:y},b=Gs(v,h);return y.searchParams.append("X-Amz-Signature",b),y}(a,s);return t.session_token&&!rl(s.signingService)&&l.searchParams.append(As,t.session_token),l.toString()},e}(),tl=function(e,t,n,r){var i=null!=t?t:{},o=i.access_key,a=i.secret_key,s=i.session_token,l=nl(e.url),c=l.region,u=l.service,d=null!=n?n:{},h=d.region,f=void 0===h?c:h,p=d.service,m=void 0===p?u:p,g=Qs({accessKeyId:o,secretAccessKey:a},rl(m)?{sessionToken:s}:{});return Qs({credentials:g,signingDate:Cs.getDateWithClockOffset(),signingRegion:f,signingService:m},r&&{expiration:r})},nl=function(e){var t,n=(null!==(t=e.host.match(Xs))&&void 0!==t?t:[]).slice(1,3);return"es"===n[1]&&(n=n.reverse()),{service:n[0],region:n[1]}},rl=function(e){return"iotdevicegateway"!==e},il={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new zt).getStorage()};function ol(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}function al(){return(new Date).getTime()}function sl(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var ll={},cl=(function(){function e(){}e.clear=function(){ll={}},e.getItem=function(e){return ll[e]||null},e.setItem=function(e,t){ll[e]=t},e.removeItem=function(e){delete ll[e]}}(),new X("StorageCache")),ul=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){sl(this.config.capacityInBytes)||(cl.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=il.capacityInBytes),sl(this.config.itemMaxSize)||(cl.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=il.itemMaxSize),sl(this.config.defaultTTL)||(cl.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=il.defaultTTL),sl(this.config.defaultPriority)||(cl.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=il.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(cl.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=il.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(cl.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=il.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(cl.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=il.warningThreshold),this.config.capacityInBytes>5242880&&(cl.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=il.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var r={key:e,data:t,timestamp:al(),visitedTime:al(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return r.byteSize=ol(JSON.stringify(r)),r.byteSize=ol(JSON.stringify(r)),r},e.prototype.configure=function(e){return e?(e.keyPrefix&&cl.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}(),dl=new X("Cache"),hl=new(function(e){function t(t){var n=this,r=t?Object.assign({},il,t):il;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return(0,Nt.__extends)(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=al(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return al()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(e){this._decreaseCurSizeInBytes(t.byteSize),dl.error("Failed to set item "+e)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,i=0;i<e.length;i+=1){var o=this.config.storage.getItem(e[i]);if(null!=o){var a=JSON.parse(o);n.push(a)}}for(n.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1})),i=0;i<n.length;i+=1)if(this._removeItem(n[i].key,n[i].byteSize),(r-=n[i].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){dl.log("Set item: key is "+e+", value is "+t+" with options: "+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if(void 0!==t){var i={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+al()};if(i.priority<1||i.priority>5)dl.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var o=this.fillCacheItem(r,t,i);if(o.byteSize>this.config.itemMaxSize)dl.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var a=this.config.storage.getItem(r);if(a&&this._removeItem(r,JSON.parse(a).byteSize),this._isCacheFull(o.byteSize)){var s=this._findValidKeys();if(this._isCacheFull(o.byteSize)){var l=this._sizeToPop(o.byteSize);this._popOutItems(s,l)}}this._setItem(r,o)}catch(e){dl.warn("setItem failed! "+e)}}}else dl.warn("The value of item should not be undefined!");else dl.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){dl.log("Get item: key is "+e+" with options "+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return dl.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var i=JSON.parse(n);return(i=this._refreshItem(i,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var o=t.callback();return null!==o&&this.setItem(e,o,t),o}return null}catch(e){return dl.warn("getItem failed! "+e),null}},t.prototype.removeItem=function(e){dl.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(e){dl.warn("removeItem failed! "+e)}},t.prototype.clear=function(){dl.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(e){dl.warn("clear failed! "+e)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==il.keyPrefix||(dl.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=al.toString()),new t(e)},t}(ul));te.register(hl);var fl,pl,ml,gl,yl=new X("AbstractPubSubProvider"),vl=function(){function e(e){this._config=e}return e.prototype.configure=function(e){return this._config=(0,Nt.__assign)((0,Nt.__assign)({},e),this._config),yl.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return(0,Nt.__assign)({},this._config)},enumerable:!0,configurable:!0}),e}();(pl=fl||(fl={})).CONNECTION_CLOSED="Connection closed",pl.CONNECTION_FAILED="Connection failed",pl.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",pl.SUBSCRIPTION_ACK="Subscription ack",pl.TIMEOUT_DISCONNECT="Timeout disconnect",(gl=ml||(ml={})).Connected="Connected",gl.ConnectedPendingNetwork="ConnectedPendingNetwork",gl.ConnectionDisrupted="ConnectionDisrupted",gl.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",gl.Connecting="Connecting",gl.ConnectedPendingDisconnect="ConnectedPendingDisconnect",gl.Disconnected="Disconnected",gl.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive";var bl,wl,xl,El,Sl,kl,Cl=[400,401,403];(wl=bl||(bl={})).GQL_CONNECTION_INIT="connection_init",wl.GQL_CONNECTION_ERROR="connection_error",wl.GQL_CONNECTION_ACK="connection_ack",wl.GQL_START="start",wl.GQL_START_ACK="start_ack",wl.GQL_DATA="data",wl.GQL_CONNECTION_KEEP_ALIVE="ka",wl.GQL_STOP="stop",wl.GQL_COMPLETE="complete",wl.GQL_ERROR="error",(El=xl||(xl={}))[El.PENDING=0]="PENDING",El[El.CONNECTED=1]="CONNECTED",El[El.FAILED=2]="FAILED",(kl=Sl||(Sl={}))[kl.CLOSED=0]="CLOSED",kl[kl.READY=1]="READY",kl[kl.CONNECTING=2]="CONNECTING";var _l="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Tl={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},Al=3e5;const Nl=function(){function e(){}return e.prototype.networkMonitor=function(t){if(Ht().isNode)return xs.from([{online:!0}]);var n=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope}()?self:window;return new xs((function(t){t.next({online:n.navigator.onLine});var r=function(){return t.next({online:!0})},i=function(){return t.next({online:!1})};return n.addEventListener("online",r),n.addEventListener("offline",i),e._observers.push(t),function(){n.removeEventListener("online",r),n.removeEventListener("offline",i),e._observers=e._observers.filter((function(e){return e!==t}))}}))},e._observerOverride=function(t){var n,r,i=function(n){if(n.closed)return e._observers=e._observers.filter((function(e){return e!==n})),"continue";n.next(t)};try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e._observers),a=o.next();!a.done;a=o.next())i(a.value)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e._observers=[],e}();var Il,Pl,Rl=function(){return(new Nl).networkMonitor()},Ol={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}},Dl=function(){function e(){var e=this;this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=Rl().subscribe((function(t){var n,r=t.online;e.record(r?Ol.ONLINE:Ol.OFFLINE),null===(n=e._initialNetworkStateSubscription)||void 0===n||n.unsubscribe()})),this._linkedConnectionStateObservable=new xs((function(t){t.next(e._linkedConnectionState),e._linkedConnectionStateObserver=t}))}return e.prototype.enableNetworkMonitoring=function(){var e,t=this;null===(e=this._initialNetworkStateSubscription)||void 0===e||e.unsubscribe(),void 0===this._networkMonitoringSubscription&&(this._networkMonitoringSubscription=Rl().subscribe((function(e){var n=e.online;t.record(n?Ol.ONLINE:Ol.OFFLINE)})))},e.prototype.disableNetworkMonitoring=function(){var e;null===(e=this._networkMonitoringSubscription)||void 0===e||e.unsubscribe(),this._networkMonitoringSubscription=void 0},Object.defineProperty(e.prototype,"connectionStateObservable",{get:function(){var e,t=this;return this._linkedConnectionStateObservable.map((function(e){return t.connectionStatesTranslator(e)})).filter((function(t){var n=t!==e;return e=t,n}))},enumerable:!0,configurable:!0}),e.prototype.record=function(e){"connected"===e.intendedConnectionState?this.enableNetworkMonitoring():"disconnected"===e.intendedConnectionState&&this.disableNetworkMonitoring();var t=(0,Nt.__assign)((0,Nt.__assign)({},this._linkedConnectionState),e);this._linkedConnectionState=(0,Nt.__assign)({},t),this._linkedConnectionStateObserver.next(this._linkedConnectionState)},e.prototype.connectionStatesTranslator=function(e){var t=e.connectionState,n=e.networkState,r=e.intendedConnectionState,i=e.keepAliveState;return"connected"===t&&"disconnected"===n?ml.ConnectedPendingNetwork:"connected"===t&&"disconnected"===r?ml.ConnectedPendingDisconnect:"disconnected"===t&&"connected"===r&&"disconnected"===n?ml.ConnectionDisruptedPendingNetwork:"disconnected"===t&&"connected"===r?ml.ConnectionDisrupted:"connected"===t&&"unhealthy"===i?ml.ConnectedPendingKeepAlive:"connecting"===t?ml.Connecting:"disconnected"===t?ml.Disconnected:ml.Connected},e}();(Pl=Il||(Il={})).START_RECONNECT="START_RECONNECT",Pl.HALT_RECONNECT="HALT_RECONNECT";var Ml,Ul,Ll=function(){function e(){this.reconnectObservers=[]}return e.prototype.addObserver=function(e){this.reconnectObservers.push(e)},e.prototype.record=function(e){var t=this;e===Il.START_RECONNECT&&void 0===this.reconnectSetTimeoutId&&void 0===this.reconnectIntervalId&&(this.reconnectSetTimeoutId=setTimeout((function(){t._triggerReconnect(),t.reconnectIntervalId=setInterval((function(){t._triggerReconnect()}),6e4)}),5e3)),e===Il.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))},e.prototype.close=function(){this.reconnectObservers.forEach((function(e){var t;null===(t=e.complete)||void 0===t||t.call(e)}))},e.prototype._triggerReconnect=function(){this.reconnectObservers.forEach((function(e){var t;null===(t=e.next)||void 0===t||t.call(e)}))},e}(),Fl=new X("AWSAppSyncRealTimeProvider"),jl=function(e,t,n){Ft.dispatch("api",{event:e,data:t,message:n},"PubSub",_l)},Bl=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com(?:\.cn)?\/graphql$/i,zl=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.socketStatus=Sl.CLOSED,n.keepAliveTimeout=Al,n.subscriptionObserverMap=new Map,n.promiseArray=[],n.connectionStateMonitor=new Dl,n.reconnectionMonitor=new Ll,n.connectionStateMonitorSubscription=n.connectionStateMonitor.connectionStateObservable.subscribe((function(e){jl("ConnectionStateChange",{provider:n,connectionState:e},"Connection state is "+e),n.connectionState=e,e===ml.ConnectionDisrupted&&n.reconnectionMonitor.record(Il.START_RECONNECT),[ml.Connected,ml.ConnectedPendingDisconnect,ml.ConnectedPendingKeepAlive,ml.ConnectedPendingNetwork,ml.ConnectionDisruptedPendingNetwork,ml.Disconnected].includes(e)&&n.reconnectionMonitor.record(Il.HALT_RECONNECT)})),n}return(0,Nt.__extends)(t,e),t.prototype.close=function(){this.socketStatus=Sl.CLOSED,this.connectionStateMonitor.record(Ol.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close()},t.prototype.getNewWebSocket=function(e,t){return new WebSocket(e,t)},t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(e,t,n){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){return(0,Nt.__generator)(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype.isCustomDomain=function(e){return null===e.match(Bl)},t.prototype.subscribe=function(e,t,n){var r=this,i=null==t?void 0:t.appSyncGraphqlEndpoint;return new xs((function(e){if(t&&i){var o,a=!1,s=(0,Ss.v4)(),l=function(){a||(a=!0,r._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:e,subscriptionId:s,customUserAgentDetails:n}).catch((function(e){Fl.debug(fl.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+e),r.connectionStateMonitor.record(Ol.CLOSED)})).finally((function(){a=!1})))};return o=new xs((function(e){r.reconnectionMonitor.addObserver(e)})).subscribe((function(){l()})),l(),function(){return(0,Nt.__awaiter)(r,void 0,void 0,(function(){var e,t;return(0,Nt.__generator)(this,(function(n){switch(n.label){case 0:null==o||o.unsubscribe(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this._waitForSubscriptionToBeConnected(s)];case 2:if(n.sent(),!(e=(this.subscriptionObserverMap.get(s)||{}).subscriptionState))return[2];if(e!==xl.CONNECTED)throw new Error("Subscription never connected");return this._sendUnsubscriptionMessage(s),[3,5];case 3:return t=n.sent(),Fl.debug("Error while unsubscribing "+t),[3,5];case 4:return this._removeSubscriptionObserver(s),[7];case 5:return[2]}}))}))}}e.error({errors:[(0,Nt.__assign)({},new Aa("Subscribe only available for AWS AppSync endpoint"))]}),e.complete()}))},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var t,n=e.options,r=e.observer,i=e.subscriptionId,o=e.customUserAgentDetails;return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var e,a,s,l,c,u,d,h,f,p,m,g,y,v,b,w,x,E,S,k,C,_,T,A=this;return(0,Nt.__generator)(this,(function(N){switch(N.label){case 0:return e=n.appSyncGraphqlEndpoint,a=n.authenticationType,s=n.query,l=n.variables,c=n.apiKey,u=n.region,d=n.graphql_headers,h=void 0===d?function(){return{}}:d,f=n.additionalHeaders,p=void 0===f?{}:f,m=xl.PENDING,g={query:s,variables:l},this.subscriptionObserverMap.set(i,{observer:r,query:null!=s?s:"",variables:null!=l?l:{},subscriptionState:m,startAckTimeoutId:void 0}),y=JSON.stringify(g),b=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:c,appSyncGraphqlEndpoint:e,authenticationType:a,payload:y,canonicalUri:"",region:u,additionalHeaders:p})];case 1:return w=[Nt.__assign.apply(void 0,b.concat([N.sent()]))],[4,h()];case 2:v=Nt.__assign.apply(void 0,[Nt.__assign.apply(void 0,[Nt.__assign.apply(void 0,w.concat([N.sent()])),p]),(T={},T[Ji]=br(o),T)]),x={id:i,payload:{data:y,extensions:{authorization:(0,Nt.__assign)({},v)}},type:bl.GQL_START},E=JSON.stringify(x),N.label=3;case 3:return N.trys.push([3,5,,6]),this.connectionStateMonitor.record(Ol.OPENING_CONNECTION),[4,this._initializeWebSocketConnection({apiKey:c,appSyncGraphqlEndpoint:e,authenticationType:a,region:u,additionalHeaders:p})];case 4:return N.sent(),[3,6];case 5:return S=N.sent(),this._logStartSubscriptionError(i,r,S),[2];case 6:return k=null!==(t=this.subscriptionObserverMap.get(i))&&void 0!==t?t:{},C=k.subscriptionFailedCallback,_=k.subscriptionReadyCallback,this.subscriptionObserverMap.set(i,{observer:r,subscriptionState:m,query:null!=s?s:"",variables:null!=l?l:{},subscriptionReadyCallback:_,subscriptionFailedCallback:C,startAckTimeoutId:setTimeout((function(){A._timeoutStartSubscriptionAck.call(A,i)}),15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(E),[2]}}))}))},t.prototype._logStartSubscriptionError=function(e,t,n){var r;Fl.debug({err:n});var i=String(null!==(r=n.message)&&void 0!==r?r:"");if(Promise.resolve(this.connectionStateMonitor.record(Ol.CLOSED)),this.connectionState!==ml.ConnectionDisruptedPendingNetwork){Zt(n)?t.error({errors:[(0,Nt.__assign)({},new Aa(fl.CONNECTION_FAILED+": "+i))]}):Fl.debug(fl.CONNECTION_FAILED+": "+i);var o=(this.subscriptionObserverMap.get(e)||{}).subscriptionFailedCallback;"function"==typeof o&&o()}},t.prototype._waitForSubscriptionToBeConnected=function(e){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,Nt.__generator)(this,(function(r){return(t=this.subscriptionObserverMap.get(e))&&t.subscriptionState===xl.PENDING?[2,new Promise((function(r,i){var o=t.observer,a=t.subscriptionState,s=t.variables,l=t.query;n.subscriptionObserverMap.set(e,{observer:o,subscriptionState:a,variables:s,query:l,subscriptionReadyCallback:r,subscriptionFailedCallback:i})}))]:[2]}))}))},t.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===Sl.READY){var t={id:e,type:bl.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(e){Fl.debug({err:e})}},t.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.connectionStateMonitor.record(Ol.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{Fl.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId);var e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=Sl.CLOSED,this.connectionStateMonitor.record(Ol.CLOSED)}else this.socketStatus=Sl.CLOSED},t.prototype._handleIncomingSubscriptionMessage=function(e){var t=this;if("string"==typeof e.data){Fl.debug("subscription message from AWS AppSync RealTime: "+e.data);var n=JSON.parse(String(e.data)),r=n.id,i=void 0===r?"":r,o=n.payload,a=n.type,s=this.subscriptionObserverMap.get(i)||{},l=s.observer,c=void 0===l?null:l,u=s.query,d=void 0===u?"":u,h=s.variables,f=void 0===h?{}:h,p=s.startAckTimeoutId,m=s.subscriptionReadyCallback,g=s.subscriptionFailedCallback;if(Fl.debug({id:i,observer:c,query:d,variables:f}),a===bl.GQL_DATA&&o&&o.data)c?c.next(o):Fl.debug("observer not found for id: "+i);else{if(a===bl.GQL_START_ACK){Fl.debug("subscription ready for "+JSON.stringify({query:d,variables:f})),"function"==typeof m&&m(),p&&clearTimeout(p),jl(fl.SUBSCRIPTION_ACK,{query:d,variables:f},"Connection established for subscription");var y=xl.CONNECTED;return c&&this.subscriptionObserverMap.set(i,{observer:c,query:d,variables:f,startAckTimeoutId:void 0,subscriptionState:y,subscriptionReadyCallback:m,subscriptionFailedCallback:g}),void this.connectionStateMonitor.record(Ol.CONNECTION_ESTABLISHED)}if(a===bl.GQL_CONNECTION_KEEP_ALIVE)return this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId),this.keepAliveTimeoutId=setTimeout((function(){return t._errorDisconnect(fl.TIMEOUT_DISCONNECT)}),this.keepAliveTimeout),this.keepAliveAlertTimeoutId=setTimeout((function(){t.connectionStateMonitor.record(Ol.KEEP_ALIVE_MISSED)}),65e3),void this.connectionStateMonitor.record(Ol.KEEP_ALIVE);a===bl.GQL_ERROR&&(y=xl.FAILED,c&&(this.subscriptionObserverMap.set(i,{observer:c,query:d,variables:f,startAckTimeoutId:p,subscriptionReadyCallback:m,subscriptionFailedCallback:g,subscriptionState:y}),Fl.debug(fl.CONNECTION_FAILED+": "+JSON.stringify(o)),c.error({errors:[(0,Nt.__assign)({},new Aa(fl.CONNECTION_FAILED+": "+JSON.stringify(o)))]}),p&&clearTimeout(p),"function"==typeof g&&g()))}}},t.prototype._errorDisconnect=function(e){Fl.debug("Disconnect error: "+e),this.awsRealTimeSocket&&(this.connectionStateMonitor.record(Ol.CLOSED),this.awsRealTimeSocket.close()),this.socketStatus=Sl.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(e){var t=this.subscriptionObserverMap.get(e);if(t){var n=t.observer,r=t.query,i=t.variables;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:i,subscriptionState:xl.FAILED}),this.connectionStateMonitor.record(Ol.CLOSED),Fl.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:i}))}},t.prototype._initializeWebSocketConnection=function(e){var t=this,n=e.appSyncGraphqlEndpoint,r=e.authenticationType,i=e.apiKey,o=e.region,a=e.additionalHeaders;if(this.socketStatus!==Sl.READY)return new Promise((function(e,s){return(0,Nt.__awaiter)(t,void 0,void 0,(function(){var t,l,c,u,d,h,f;return(0,Nt.__generator)(this,(function(p){switch(p.label){case 0:if(this.promiseArray.push({res:e,rej:s}),this.socketStatus!==Sl.CLOSED)return[3,5];p.label=1;case 1:return p.trys.push([1,4,,5]),this.socketStatus=Sl.CONNECTING,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:r,payload:"{}",canonicalUri:"/connect",apiKey:i,appSyncGraphqlEndpoint:n,region:o,additionalHeaders:a})];case 2:return t=p.sent(),m=t?JSON.stringify(t):"",l=ks.hp.from(m).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),c=null!=n?n:"",c=this.isCustomDomain(c)?c.concat("/realtime"):c.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),u=this.isSSLEnabled?"wss://":"ws://",c=c.replace("https://",u).replace("http://",u),d=c,h="header-"+l,[4,this._initializeRetryableHandshake(d,h)];case 3:return p.sent(),this.promiseArray.forEach((function(e){var t=e.res;Fl.debug("Notifying connection successful"),t()})),this.socketStatus=Sl.READY,this.promiseArray=[],[3,5];case 4:return f=p.sent(),Fl.debug("Connection exited with",f),this.promiseArray.forEach((function(e){return(0,e.rej)(f)})),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=Sl.CLOSED,[3,5];case 5:return[2]}var m}))}))}))},t.prototype._initializeRetryableHandshake=function(e,t){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){return(0,Nt.__generator)(this,(function(n){switch(n.label){case 0:return Fl.debug("Initializaling retryable Handshake"),[4,xn(this._initializeHandshake.bind(this),[e,t],5e3)];case 1:return n.sent(),[2]}}))}))},t.prototype._initializeHandshake=function(e,t){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a=this;return(0,Nt.__generator)(this,(function(s){switch(s.label){case 0:Fl.debug("Initializing handshake "+e),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,new Promise((function(n,r){var i=a.getNewWebSocket(e,["graphql-ws",t]);i.onerror=function(){Fl.debug("WebSocket connection error")},i.onclose=function(){r(new Error("Connection handshake error"))},i.onopen=function(){return a.awsRealTimeSocket=i,n()}}))];case 2:return s.sent(),[4,new Promise((function(e,t){if(a.awsRealTimeSocket){var n=!1;a.awsRealTimeSocket.onerror=function(e){Fl.debug("WebSocket error "+JSON.stringify(e))},a.awsRealTimeSocket.onclose=function(e){Fl.debug("WebSocket closed "+e.reason),t(new Error(JSON.stringify(e)))},a.awsRealTimeSocket.onmessage=function(r){if("string"==typeof r.data){Fl.debug("subscription message from AWS AppSyncRealTime: "+r.data+" ");var i=JSON.parse(r.data),o=i.type,s=i.payload,l=(void 0===s?{}:s).connectionTimeoutMs,c=void 0===l?Al:l;if(o===bl.GQL_CONNECTION_ACK)return n=!0,a.awsRealTimeSocket&&(a.keepAliveTimeout=c,a.awsRealTimeSocket.onmessage=a._handleIncomingSubscriptionMessage.bind(a),a.awsRealTimeSocket.onerror=function(e){Fl.debug(e),a._errorDisconnect(fl.CONNECTION_CLOSED)},a.awsRealTimeSocket.onclose=function(e){Fl.debug("WebSocket closed "+e.reason),a._errorDisconnect(fl.CONNECTION_CLOSED)}),void e("Cool, connected to AWS AppSyncRealTime");if(o===bl.GQL_CONNECTION_ERROR){var u=i.payload,d=(void 0===u?{}:u).errors,h=(0,Nt.__read)(void 0===d?[]:d,1)[0],f=void 0===h?{}:h,p=f.errorType,m=void 0===p?"":p,g=f.errorCode;t({errorType:m,errorCode:void 0===g?0:g})}}};var r={type:bl.GQL_CONNECTION_INIT};a.awsRealTimeSocket.send(JSON.stringify(r)),setTimeout((function(){n||(a.connectionStateMonitor.record(Ol.CONNECTION_FAILED),t(new Error("Connection timeout: ack from AWSAppSyncRealTime was not received after 15000 ms")))}),15e3)}}))];case 3:return s.sent(),[3,5];case 4:throw n=s.sent(),i=(r=n).errorType,o=r.errorCode,Cl.includes(o)?new Jt(i):i?new Error(i):n;case 5:return[2]}}))}))},t.prototype._awsRealTimeHeaderBasedAuth=function(e){var t=e.authenticationType,n=e.payload,r=e.canonicalUri,i=e.appSyncGraphqlEndpoint,o=e.apiKey,a=e.region,s=e.additionalHeaders;return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var e,l,c;return(0,Nt.__generator)(this,(function(u){switch(u.label){case 0:return e={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},t&&e[t]?[3,1]:(Fl.debug("Authentication type "+t+" not supported"),[2,void 0]);case 1:return l=e[t],c=Es.qg(null!=i?i:"").host,Fl.debug("Authenticating with "+t),[4,l({payload:n,canonicalUri:r,appSyncGraphqlEndpoint:i,apiKey:o,region:a,host:c,additionalHeaders:s})];case 2:return[2,u.sent()]}}))}))},t.prototype._awsRealTimeCUPHeader=function(e){var t=e.host;return(0,Nt.__awaiter)(this,void 0,void 0,(function(){return(0,Nt.__generator)(this,(function(e){switch(e.label){case 0:return[4,ho.currentSession()];case 1:return[2,{Authorization:e.sent().getAccessToken().getJwtToken(),host:t}]}}))}))},t.prototype._awsRealTimeOPENIDHeader=function(e){var t=e.host;return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return(0,Nt.__generator)(this,(function(i){switch(i.label){case 0:return[4,hl.getItem("federatedInfo")];case 1:return(n=i.sent())?(e=n.token,[3,4]):[3,2];case 2:return[4,ho.currentAuthenticatedUser()];case 3:(r=i.sent())&&(e=r.token),i.label=4;case 4:if(!e)throw new Error("No federated jwt");return[2,{Authorization:e,host:t}]}}))}))},t.prototype._awsRealTimeApiKeyHeader=function(e){var t=e.apiKey,n=e.host;return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var e,r;return(0,Nt.__generator)(this,(function(i){return e=new Date,r=e.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:n,"x-amz-date":r,"x-api-key":t}]}))}))},t.prototype._awsRealTimeIAMHeader=function(e){var t=e.payload,n=e.canonicalUri,r=e.appSyncGraphqlEndpoint,i=e.region;return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var e,o,a;return(0,Nt.__generator)(this,(function(s){switch(s.label){case 0:return e={region:i,service:"appsync"},[4,this._ensureCredentials()];case 1:if(!s.sent())throw new Error("No credentials");return[4,Ur.get().then((function(e){var t=e;return{secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken}}))];case 2:return o=s.sent(),a={url:""+r+n,data:t,method:"POST",headers:(0,Nt.__assign)({},Tl)},[2,el.sign(a,o,e).headers]}}))}))},t.prototype._customAuthHeader=function(e){var t=e.host,n=e.additionalHeaders;if(!n||!n.Authorization)throw new Error("No auth token specified");return{Authorization:n.Authorization,host:t}},t.prototype._ensureCredentials=function(){return Ur.get().then((function(e){if(!e)return!1;var t=Ur.shear(e);return Fl.debug("set credentials for AWSAppSyncRealTimeProvider",t),!0})).catch((function(e){return Fl.warn("ensure credentials error",e),!1}))},t}(vl),Vl=Ht().isNode,Hl=new X("PubSub"),ql=new(function(){function e(e){this._options=null!=e?e:{},Hl.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new zl(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"InternalPubSub"},e.prototype.configure=function(e){var t=this,n=e?e.PubSub||e:{};return Hl.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map((function(e){return e.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){return(0,Nt.__generator)(this,(function(t){return e&&"PubSub"===e.getCategory()?(this._pluggables.push(e),[2,e.configure(this._options)]):[2]}))}))},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.getProviderByName=function(e){return e===Gi?this.awsAppSyncRealTimeProvider:this._pluggables.find((function(t){return t.getProviderName()===e}))},e.prototype.getProviders=function(e){void 0===e&&(e={});var t=e.provider;if(!t)return this._pluggables;var n=this.getProviderByName(t);if(!n)throw new Error("Could not find provider named "+String(t));return[n]},e.prototype.publish=function(e,t,n){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){return(0,Nt.__generator)(this,(function(r){return[2,Promise.all(this.getProviders(n).map((function(r){return r.publish(e,t,n)})))]}))}))},e.prototype.subscribe=function(e,t,n){if(Vl&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");Hl.debug("subscribe options",t);var r=this.getProviders(t),i=(0,Nt.__assign)({category:nn.PubSub,action:yn.Subscribe},n);return new xs((function(n){var o=r.map((function(n){return{provider:n,observable:n.subscribe(e,t,i)}})).map((function(e){var t=e.provider;return e.observable.subscribe({start:console.error,next:function(e){return n.next({provider:t,value:e})},error:function(e){return n.error({provider:t,error:e})}})}));return function(){return o.forEach((function(e){return e.unsubscribe()}))}}))},e}());te.register(ql),(Ul=Ml||(Ml={})).NO_API_KEY="No api-key configured",Ul.NO_CURRENT_USER="No current user",Ul.NO_CREDENTIALS="No credentials",Ul.NO_FEDERATED_JWT="No federated jwt",Ul.NO_AUTH_TOKEN="No auth token specified";var $l=i(1569),Wl=i(6740),Kl=new X("RestClient"),Yl=function(){function e(e){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=Ur,this._options=e,Kl.debug("API Options",this._options),null==this._cancelTokenMap&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(e,t,n){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,l,c,u,d,h,f,p,m,g,y,v,b,w,x,E,S,k;return(0,Nt.__generator)(this,(function(C){switch(C.label){case 0:return Kl.debug(t,e),o="us-east-1",a="execute-api",s=void 0,"string"==typeof e?(r=this._parseUrl(e),i=e):(i=e.endpoint,s=e.custom_header,o=e.region,a=e.service,r=this._parseUrl(e.endpoint)),l={method:t,url:i,host:r.host,path:r.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},c={},u=Object.assign({},n),d=u.response,u.body&&("function"==typeof FormData&&u.body instanceof FormData?(c["Content-Type"]="multipart/form-data",l.data=u.body):(c["Content-Type"]="application/json; charset=UTF-8",l.data=JSON.stringify(u.body))),u.responseType&&(l.responseType=u.responseType),u.withCredentials&&(l.withCredentials=u.withCredentials),u.timeout&&(l.timeout=u.timeout),u.cancellableToken&&(l.cancelToken=u.cancellableToken.token),l.signerServiceInfo=u.signerServiceInfo,"function"!=typeof s?[3,2]:[4,s()];case 1:return f=C.sent(),[3,3];case 2:f=void 0,C.label=3;case 3:if(h=f,l.headers=(0,Nt.__assign)((0,Nt.__assign)((0,Nt.__assign)({},c),h),u.headers),(p=(0,Wl.qg)(i,!0,!0)).search,m=(0,Nt.__rest)(p,["search"]),l.url=(0,Wl.GP)((0,Nt.__assign)((0,Nt.__assign)({},m),{query:(0,Nt.__assign)((0,Nt.__assign)({},m.query),u.queryStringParameters||{})})),void 0!==l.headers.Authorization)return l.headers=Object.keys(l.headers).reduce((function(e,t){return l.headers[t]&&(e[t]=l.headers[t]),e}),{}),[2,this._request(l,d)];C.label=4;case 4:return C.trys.push([4,6,,7]),[4,this.Credentials.get()];case 5:return g=C.sent(),[3,7];case 6:return C.sent(),Kl.debug("No credentials available, the request will be unsigned"),[2,this._request(l,d)];case 7:return C.trys.push([7,9,,10]),y=this._sign((0,Nt.__assign)({},l),g,{region:o,service:a}),[4,(0,$l.A)(y)];case 8:return v=C.sent(),[2,d?v:v.data];case 9:if(b=C.sent(),Kl.debug(b),Cs.isClockSkewError(b)&&(w=b.response.headers,x=w&&(w.date||w.Date),E=new Date(x),S=Cs.getDateFromHeaderString(y.headers["x-amz-date"]),Cs.isClockSkewed(E)))return k=S.getTime()-Cs.getClockOffset(),Cs.setClockOffset(E.getTime()-k),[2,this.ajax(e,t,n)];throw b;case 10:return[2]}}))}))},e.prototype.get=function(e,t){return this.ajax(e,"GET",t)},e.prototype.put=function(e,t){return this.ajax(e,"PUT",t)},e.prototype.patch=function(e,t){return this.ajax(e,"PATCH",t)},e.prototype.post=function(e,t){return this.ajax(e,"POST",t)},e.prototype.del=function(e,t){return this.ajax(e,"DELETE",t)},e.prototype.head=function(e,t){return this.ajax(e,"HEAD",t)},e.prototype.cancel=function(e,t){var n=this._cancelTokenMap.get(e);return!!n&&(n.cancel(t),!0)},e.prototype.hasCancelToken=function(e){return this._cancelTokenMap.has(e)},e.prototype.isCancel=function(e){return $l.A.isCancel(e)},e.prototype.getCancellableToken=function(){return $l.A.CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenMap.set(e,t)},e.prototype.endpoint=function(e){var t=this,n=this._options.endpoints,r="";return Array.isArray(n)?(n.forEach((function(n){n.name===e&&(r=n.endpoint,"string"==typeof n.region?t._region=n.region:"string"==typeof t._options.region&&(t._region=t._options.region),"string"==typeof n.service?t._service=n.service||"execute-api":t._service="execute-api","function"==typeof n.custom_header?t._custom_header=n.custom_header:t._custom_header=void 0)})),r):r},e.prototype._sign=function(e,t,n){var r=n.service,i=n.region,o=e.signerServiceInfo,a=(0,Nt.__rest)(e,["signerServiceInfo"]),s=i||this._region||this._options.region,l=r||this._service||this._options.service,c={secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken},u={region:s,service:l},d=Object.assign(u,o),h=el.sign(a,c,d);return h.data&&(h.body=h.data),Kl.debug("Signed Request: ",h),delete h.headers.host,h},e.prototype._request=function(e,t){return void 0===t&&(t=!1),(0,$l.A)(e).then((function(e){return t?e:e.data})).catch((function(e){throw Kl.debug(e),e}))},e.prototype._parseUrl=function(e){var t=e.split("/");return{host:t[2],path:"/"+t.slice(3).join("/")}},e}(),Gl=new X("GraphQLAPI"),Jl=function(){function e(e){this._api=null,this.Auth=ho,this.Cache=hl,this.Credentials=Ur,this._options=e,Gl.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"InternalGraphQLAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=(0,Nt.__rest)(t,["API"]),o=(0,Nt.__assign)((0,Nt.__assign)({},i),r);return Gl.debug("configure GraphQL API",{opt:o}),o.aws_project_region&&(o=Object.assign({},o,{region:o.aws_project_region,header:{}})),void 0!==o.graphql_headers&&"function"!=typeof o.graphql_headers&&(Gl.warn("graphql_headers should be a function"),o.graphql_headers=void 0),this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return Gl.debug("create Rest instance"),this._options?(this._api=new Yl(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(e,t){return void 0===t&&(t={}),(0,Nt.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c;return(0,Nt.__generator)(this,(function(u){switch(u.label){case 0:switch(n=this._options,r=n.aws_appsync_authenticationType,i=n.aws_appsync_apiKey,o={},e||r||"AWS_IAM"){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!i)throw new Error(Ml.NO_API_KEY);return o={Authorization:null,"X-Api-Key":i},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(!u.sent())throw new Error(Ml.NO_CREDENTIALS);return[3,17];case 4:return u.trys.push([4,9,,10]),a=void 0,[4,hl.getItem("federatedInfo")];case 5:return(s=u.sent())?(a=s.token,[3,8]):[3,6];case 6:return[4,ho.currentAuthenticatedUser()];case 7:(l=u.sent())&&(a=l.token),u.label=8;case 8:if(!a)throw new Error(Ml.NO_FEDERATED_JWT);return o={Authorization:a},[3,10];case 9:throw u.sent(),new Error(Ml.NO_CURRENT_USER);case 10:return[3,17];case 11:return u.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return c=u.sent(),o={Authorization:c.getAccessToken().getJwtToken()},[3,14];case 13:throw u.sent(),new Error(Ml.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!t.Authorization)throw new Error(Ml.NO_AUTH_TOKEN);return o={Authorization:t.Authorization},[3,17];case 16:return o={Authorization:null},[3,17];case 17:return[2,o]}}))}))},e.prototype.getGraphqlOperationType=function(e){var t=is(e).definitions;return(0,Nt.__read)(t,1)[0].operation},e.prototype.graphql=function(e,t,n){var r=e.query,i=e.variables,o=void 0===i?{}:i,a=e.authMode,s=e.authToken,l=is("string"==typeof r?r:ds(r)),c=(0,Nt.__read)(l.definitions.filter((function(e){return"OperationDefinition"===e.kind})),1)[0],u=(void 0===c?{}:c).operation,d=t||{};switch(s&&(d.Authorization=s),u){case"query":case"mutation":this.createInstanceIfNotCreated();var h=this._api.getCancellableToken(),f={cancellableToken:h,withCredentials:this._options.withCredentials},p=this._graphql({query:l,variables:o,authMode:a},d,f,n);return this._api.updateRequestToBeCancellable(p,h),p;case"subscription":return this._graphqlSubscribe({query:l,variables:o,authMode:a},d,n);default:throw new Error("invalid operation type: ".concat(u))}},e.prototype._graphql=function(e,t,n,r){var i=e.query,o=e.variables,a=e.authMode;return void 0===t&&(t={}),void 0===n&&(n={}),(0,Nt.__awaiter)(this,void 0,void 0,(function(){var e,s,l,c,u,d,h,f,p,m,g,y,v,b,w,x,E,S,k,C,_;return(0,Nt.__generator)(this,(function(T){switch(T.label){case 0:return this.createInstanceIfNotCreated(),e=this._options,s=e.aws_appsync_region,l=e.aws_appsync_graphqlEndpoint,c=e.graphql_headers,u=void 0===c?function(){return{}}:c,d=e.graphql_endpoint,h=e.graphql_endpoint_iam_region,p=[{}],(m=!d)?[4,this._headerBasedAuth(a,t)]:[3,2];case 1:m=T.sent(),T.label=2;case 2:return g=[Nt.__assign.apply(void 0,p.concat([m]))],(y=d)?h?[4,this._headerBasedAuth(a,t)]:[3,4]:[3,6];case 3:return v=T.sent(),[3,5];case 4:v={Authorization:null},T.label=5;case 5:y=v,T.label=6;case 6:return b=[Nt.__assign.apply(void 0,g.concat([y]))],[4,u({query:i,variables:o})];case 7:if(f=Nt.__assign.apply(void 0,[Nt.__assign.apply(void 0,[Nt.__assign.apply(void 0,b.concat([T.sent()])),t]),!d&&(_={},_["x-amz-user-agent"]=br(r),_)]),w={query:ds(i),variables:o},x=Object.assign({headers:f,body:w,signerServiceInfo:{service:d?"execute-api":"appsync",region:d?h:s}},n),!(E=d||l))throw{data:{},errors:[new Aa("No graphql endpoint provided.")]};T.label=8;case 8:return T.trys.push([8,10,,11]),[4,this._api.post(E,x)];case 9:return S=T.sent(),[3,11];case 10:if(k=T.sent(),this._api.isCancel(k))throw k;return S={data:{},errors:[new Aa(k.message,null,null,null,null,k)]},[3,11];case 11:if((C=S.errors)&&C.length)throw S;return[2,S]}}))}))},e.prototype.createInstanceIfNotCreated=function(){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){return(0,Nt.__generator)(this,(function(e){switch(e.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype._graphqlSubscribe=function(e,t,n){var r=e.query,i=e.variables,o=e.authMode,a=e.authToken;void 0===t&&(t={});var s=this._options,l=s.aws_appsync_region,c=s.aws_appsync_graphqlEndpoint,u=s.aws_appsync_authenticationType,d=s.aws_appsync_apiKey,h=s.graphql_headers,f=void 0===h?function(){return{}}:h,p=o||u||"AWS_IAM";if(ql&&"function"==typeof ql.subscribe)return ql.subscribe("",{provider:Gi,appSyncGraphqlEndpoint:c,authenticationType:p,apiKey:d,query:ds(r),region:l,variables:i,graphql_headers:f,additionalHeaders:t,authToken:a},n);throw Gl.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var e=this;return this.Credentials.get().then((function(t){if(!t)return!1;var n=e.Credentials.shear(t);return Gl.debug("set credentials for api",n),!0})).catch((function(e){return Gl.warn("ensure credentials error",e),!1}))},e}(),Zl=new Jl(null);te.register(Zl);var Ql=new X("RestAPI"),Xl=function(){function e(e){this._api=null,this.Credentials=Ur,this._options=e,Ql.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=(0,Nt.__rest)(t,["API"]),o=(0,Nt.__assign)((0,Nt.__assign)({},i),r);if(Ql.debug("configure Rest API",{opt:o}),o.aws_project_region){if(o.aws_cloud_logic_custom){var a=o.aws_cloud_logic_custom;o.endpoints="string"==typeof a?JSON.parse(a):a}o=Object.assign({},o,{region:o.aws_project_region,header:{}})}return Array.isArray(o.endpoints)?o.endpoints.forEach((function(e){void 0!==e.custom_header&&"function"!=typeof e.custom_header&&(Ql.warn("Rest API "+e.name+", custom_header should be a function"),e.custom_header=void 0)})):this._options&&Array.isArray(this._options.endpoints)?o.endpoints=this._options.endpoints:o.endpoints=[],this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return Ql.debug("create Rest API instance"),this._api=new Yl(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.get(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(e){return Promise.reject(e.message)}},e.prototype.post=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.post(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(e){return Promise.reject(e.message)}},e.prototype.put=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.put(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(e){return Promise.reject(e.message)}},e.prototype.patch=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.patch(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(e){return Promise.reject(e.message)}},e.prototype.del=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.del(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(e){return Promise.reject(e.message)}},e.prototype.head=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.head(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(e){return Promise.reject(e.message)}},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype.endpoint=function(e){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){return(0,Nt.__generator)(this,(function(t){return[2,this._api.endpoint(e)]}))}))},e.prototype.getEndpointInfo=function(e,t){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var r=n.find((function(t){return t.name===e}));if(!r)throw new Error("API ".concat(e," does not exist"));var i={endpoint:r.endpoint+t};return"string"==typeof r.region?i.region=r.region:"string"==typeof this._options.region&&(i.region=this._options.region),"string"==typeof r.service?i.service=r.service||"execute-api":i.service="execute-api","function"==typeof r.custom_header?i.custom_header=r.custom_header:i.custom_header=void 0,i},e}(),ec=new Xl(null);te.register(ec);var tc=new X("API"),nc=function(){function e(e){this.Auth=ho,this.Cache=hl,this.Credentials=Ur,this._options=e,this._restApi=new Xl(e),this._graphqlApi=new Jl(e),tc.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"InternalAPI"},e.prototype.configure=function(e){this._options=Object.assign({},this._options,e),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var t=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return(0,Nt.__assign)((0,Nt.__assign)({},t),n)},e.prototype.get=function(e,t,n){return this._restApi.get(e,t,this.getInitWithCustomUserAgentDetails(n,sn.Get))},e.prototype.post=function(e,t,n){return this._restApi.post(e,t,this.getInitWithCustomUserAgentDetails(n,sn.Post))},e.prototype.put=function(e,t,n){return this._restApi.put(e,t,this.getInitWithCustomUserAgentDetails(n,sn.Put))},e.prototype.patch=function(e,t,n){return this._restApi.patch(e,t,this.getInitWithCustomUserAgentDetails(n,sn.Patch))},e.prototype.del=function(e,t,n){return this._restApi.del(e,t,this.getInitWithCustomUserAgentDetails(n,sn.Del))},e.prototype.head=function(e,t,n){return this._restApi.head(e,t,this.getInitWithCustomUserAgentDetails(n,sn.Head))},e.prototype.isCancel=function(e){return this._restApi.isCancel(e)},e.prototype.cancel=function(e,t){return this._restApi.hasCancelToken(e)?this._restApi.cancel(e,t):!!this._graphqlApi.hasCancelToken(e)&&this._graphqlApi.cancel(e,t)},e.prototype.getInitWithCustomUserAgentDetails=function(e,t){var n={category:nn.API,action:t};return(0,Nt.__assign)((0,Nt.__assign)({},e),{customUserAgentDetails:n})},e.prototype.endpoint=function(e){return(0,Nt.__awaiter)(this,void 0,void 0,(function(){return(0,Nt.__generator)(this,(function(t){return[2,this._restApi.endpoint(e)]}))}))},e.prototype.getGraphqlOperationType=function(e){return this._graphqlApi.getGraphqlOperationType(e)},e.prototype.graphql=function(e,t,n){var r=(0,Nt.__assign)({category:nn.API,action:sn.GraphQl},n);return this._graphqlApi.graphql(e,t,r)},e}(),rc=new nc(null);te.register(rc),new X("API");var ic=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Nt.__extends)(t,e),t.prototype.getModuleName=function(){return"API"},t.prototype.graphql=function(t,n){return e.prototype.graphql.call(this,t,n)},t}(nc))(null);te.register(ic);const oc=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],ac=[{id:"favoriteGenres",title:"What genres do you enjoy?",description:"Select all the genres that match your taste. You can choose multiple options.",options:oc,type:"multiSelect",category:"essential"},{id:"dislikedGenres",title:"Are there any genres you dislike?",description:"Select any genres you'd prefer to avoid. This helps us filter out content you won't like.",options:oc,type:"multiSelect",category:"essential"},{id:"contentType",title:"What type of content do you prefer?",description:"Let us know if you're interested in movies, TV shows, or both.",options:[{id:"movies",name:"Movies"},{id:"tv",name:"TV Shows"},{id:"both",name:"Both"}],type:"singleSelect",category:"essential"},{id:"favoriteContent",title:"Name some movies or shows you love",description:"Enter titles that represent your taste perfectly (this helps us understand your preferences better)",type:"textInput",category:"essential"},{id:"moodPreferences",title:"What mood are you usually in when watching?",description:"What kind of experience do you typically look for? Select all that apply.",options:[{id:"exciting",name:"Exciting & Action-packed"},{id:"thoughtful",name:"Thoughtful & Profound"},{id:"funny",name:"Funny & Light-hearted"},{id:"scary",name:"Scary & Thrilling"},{id:"emotional",name:"Emotional & Moving"}],type:"multiSelect",category:"essential"},{id:"watchingContext",title:"Who do you usually watch with?",description:"This helps us recommend content appropriate for your viewing situation.",options:[{id:"alone",name:"Watching Alone"},{id:"partner",name:"With Partner/Spouse"},{id:"family",name:"With Family (Including Kids)"},{id:"friends",name:"With Friends"}],type:"multiSelect",category:"context"},{id:"streamingPlatforms",title:"Which streaming services do you use?",description:"We'll prioritize recommendations available on these platforms.",options:[{id:"netflix",name:"Netflix"},{id:"prime",name:"Amazon Prime"},{id:"hulu",name:"Hulu"},{id:"disney",name:"Disney+"},{id:"hbo",name:"HBO Max/Max"},{id:"apple",name:"Apple TV+"},{id:"paramount",name:"Paramount+"},{id:"peacock",name:"Peacock"},{id:"other",name:"Others/Local Services"}],type:"multiSelect",category:"context"},{id:"watchingTime",title:"When do you typically watch?",description:"Knowing your viewing schedule helps us recommend appropriate content.",options:[{id:"mornings",name:"Mornings"},{id:"afternoons",name:"Afternoons"},{id:"evenings",name:"Evenings"},{id:"latenight",name:"Late Night"},{id:"weekends",name:"Primarily Weekends"}],type:"multiSelect",category:"context"},{id:"eraPreferences",title:"Do you have a preferred era?",description:"Choose your preferred time periods for content.",options:[{id:"classic",name:"Classic (Pre-1980)"},{id:"modern",name:"Modern (1980-2010)"},{id:"recent",name:"Recent (2010-Present)"}],type:"multiSelect",category:"context"},{id:"languagePreferences",title:"Any language preferences?",description:"Select the languages you're comfortable watching. You can choose multiple options.",options:[{id:"en",name:"English"},{id:"es",name:"Spanish"},{id:"fr",name:"French"},{id:"de",name:"German"},{id:"hi",name:"Hindi"},{id:"ja",name:"Japanese"},{id:"ko",name:"Korean"},{id:"zh",name:"Chinese"},{id:"any",name:"Any Language"}],type:"multiSelect",category:"context"},{id:"runtimePreference",title:"Do you have a preferred runtime?",description:"Select your preferred length for movies and TV episodes.",options:[{id:"short",name:"Short (under 90 min)"},{id:"medium",name:"Medium (90-120 min)"},{id:"long",name:"Long (over 120 min)"},{id:"any",name:"Any Length"}],type:"singleSelect",category:"context"},{id:"subgenrePreferences",title:"Any specific subgenres you like?",description:"Select specific subgenres that interest you.",options:[{id:"superhero",name:"Superhero"},{id:"spy",name:"Spy/Espionage"},{id:"disaster",name:"Disaster"},{id:"dystopian",name:"Dystopian"},{id:"cyberpunk",name:"Cyberpunk"},{id:"biographical",name:"Biographical"},{id:"psychological",name:"Psychological"},{id:"satire",name:"Satire"},{id:"slasher",name:"Slasher"},{id:"noir",name:"Film Noir"},{id:"comingofage",name:"Coming of Age"},{id:"historical",name:"Historical Fiction"}],type:"multiSelect",category:"detailed"},{id:"aestheticPreferences",title:"What visual style do you prefer?",description:"What visual aesthetics do you enjoy?",options:[{id:"visuallyStunning",name:"Visually Stunning"},{id:"minimalist",name:"Minimalist"},{id:"colorful",name:"Colorful/Vibrant"},{id:"darkMoody",name:"Dark & Moody"},{id:"retro",name:"Retro Style"},{id:"experimental",name:"Experimental"}],type:"multiSelect",category:"detailed"},{id:"storyStructurePreferences",title:"How do you like your stories told?",description:"How do you prefer stories to be structured?",options:[{id:"linear",name:"Linear Storytelling"},{id:"nonlinear",name:"Non-linear/Time Jumps"},{id:"anthology",name:"Anthology/Multiple Stories"},{id:"openEnded",name:"Open-ended"},{id:"twist",name:"Surprise Endings"},{id:"notSure",name:"Not sure/Don't care"}],type:"multiSelect",category:"detailed"},{id:"characterPreferences",title:"What types of characters do you enjoy?",description:"What character types engage you most?",options:[{id:"complexProtagonist",name:"Complex Protagonists"},{id:"strongFemale",name:"Strong Female Characters"},{id:"antiHero",name:"Anti-heroes"},{id:"ensemble",name:"Ensemble Casts"},{id:"character-driven",name:"Character-driven Stories"}],type:"multiSelect",category:"detailed"},{id:"maturityPreference",title:"What level of maturity do you prefer?",description:"What maturity levels suit you?",options:[{id:"family",name:"Family-friendly"},{id:"teen",name:"Teen-oriented"},{id:"mature",name:"Mature Content"},{id:"graphic",name:"Graphic/Intense"}],type:"multiSelect",category:"detailed"},{id:"criticalAcclaimPreferences",title:"Do awards and acclaim matter to you?",description:"Does critical acclaim influence your choices?",options:[{id:"awardWinning",name:"Award-winning Films/Shows"},{id:"criticallyAcclaimed",name:"Critically Acclaimed"},{id:"cultClassic",name:"Cult Classics"},{id:"underrated",name:"Underrated Gems"},{id:"blockbuster",name:"Popular Blockbusters"}],type:"multiSelect",category:"detailed"},{id:"favoritePeople",title:"Favorite actors or directors?",description:"Tell us which actors and directors you particularly enjoy.",type:"peopleInput",category:"personal"}],sc=e=>{let{currentUser:t,onComplete:n,onSkip:r,isModal:i=!1,onClose:a=()=>{},existingPreferences:s=null,isUpdate:l=!1,onPreferencesUpdated:c=null,skipBasicQuestions:u=!1}=e;const d=Ye(),[h,f]=(0,o.useState)(1),[p]=(0,o.useState)(ac.length),[m,g]=(0,o.useState)("essential"),[y,v]=(0,o.useState)({favoriteContent:""}),[b,w]=(0,o.useState)({actor:"",director:""}),[x,E]=(0,o.useState)({...ac.reduce(((e,t)=>("multiSelect"===t.type?e[t.id]=[]:"singleSelect"===t.type?e[t.id]="contentType"===t.id?"both":"runtimePreference"===t.id?"any":"":"textInput"===t.type?e[t.id]="":"peopleInput"===t.type&&(e.favoritePeople={actors:[],directors:[]}),e)),{}),questionnaireCompleted:!1}),[S,k]=(0,o.useState)(ac[0]),[C,_]=(0,o.useState)(!1),[T,A]=(0,o.useState)(null),[N,I]=(0,o.useState)(!1),[P,R]=(0,o.useState)(0);(0,o.useEffect)((()=>{if(s&&(E((e=>({...e,...s,favoritePeople:s.favoritePeople||{actors:[],directors:[]}}))),s.favoriteContent&&v((e=>({...e,favoriteContent:s.favoriteContent}))),u)&&ac.filter((e=>"essential"===e.category)).every((e=>{var t;return"multiSelect"===e.type?(null===(t=s[e.id])||void 0===t?void 0:t.length)>0:"singleSelect"===e.type?!!s[e.id]:"textInput"!==e.type||!!s[e.id]}))){const e=ac.findIndex(((e,t)=>{return"essential"!==e.category&&("multiSelect"===e.type?!s[e.id]||0===s[e.id].length:"singleSelect"===e.type||"textInput"===e.type?!s[e.id]:"peopleInput"!==e.type||!(null!==(n=s.favoritePeople)&&void 0!==n&&null!==(n=n.actors)&&void 0!==n&&n.length||null!==(r=s.favoritePeople)&&void 0!==r&&null!==(r=r.directors)&&void 0!==r&&r.length));var n,r}));-1!==e&&(f(e+1),k(ac[e]),g(ac[e].category))}}),[s,u]),(0,o.useEffect)((()=>{var e;k(ac[h-1]),g((null===(e=ac[h-1])||void 0===e?void 0:e.category)||"essential")}),[h]),(0,o.useEffect)((()=>{if(2===P){const e=setTimeout((()=>{R(0)}),2e3);return()=>clearTimeout(e)}}),[P]);const O=e=>{b[e]&&!x.favoritePeople[e+"s"].includes(b[e])&&(E((n=>{const r={...n,favoritePeople:{...n.favoritePeople,[e+"s"]:[...n.favoritePeople[e+"s"],b[e]]}};return t&&D(!0,r,!1),r})),w((t=>({...t,[e]:""}))))},D=async function(){var e;let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||null==t||null===(e=t.signInUserSession)||void 0===e||null===(e=e.accessToken)||void 0===e||!e.jwtToken)return I(!0),void A("Please log in to save preferences.");R(1);const a=i||{...x,questionnaireCompleted:!r||h===p};r&&h!==p||(a.questionnaireCompleted=!0),_(!0);try{const e=t.signInUserSession.accessToken.jwtToken,i="api",s="/preferences",l={headers:{Authorization:`Bearer ${e}`},body:a};await ic.post(i,s,l);try{localStorage.setItem(`userPrefs_${t.attributes.sub}`,JSON.stringify(a)),localStorage.setItem(`questionnaire_completed_${t.attributes.sub}`,a.questionnaireCompleted.toString())}catch(e){console.warn("Could not save preferences to localStorage:",e)}R(2),o&&c&&c(a),!r&&h===p&&n&&(c&&!o&&c(a),n())}catch(e){console.error("Error saving preferences:",e),R(0),"TypeError"===e.name&&e.message.includes("fetch")?A("Network error. Please check your connection and try again."):e.message.includes("Authentication")?(I(!0),A(e.message)):A(e.message||"Failed to save preferences. Please try again.")}finally{_(!1)}},M=e=>{switch(e){case"essential":return"Essential Preferences";case"context":return"Viewing Context";case"detailed":return"Detailed Preferences";case"personal":return"Personal Favorites";default:return"Preferences"}},U=(()=>{ac.filter((e=>"essential"===e.category)).length,ac.filter((e=>"context"===e.category)).length,ac.filter((e=>"detailed"===e.category)).length,ac.filter((e=>"personal"===e.category)).length;const e=ac.filter((e=>e.category===m));return{current:e.findIndex((e=>e.id===S.id))+1,total:e.length,name:M(m)}})();return o.createElement("div",{className:"w-full max-h-[90vh] overflow-y-auto custom-scrollbar"},o.createElement("div",{className:"relative bg-gray-900/60 p-6 rounded-xl"},o.createElement("div",{className:"flex justify-between items-center mb-8"},o.createElement("h2",{className:"text-2xl text-white font-bold tracking-tight"},"Your Preferences"),i&&o.createElement("div",{className:"flex items-center space-x-2"},P>0&&o.createElement("span",{className:`text-sm font-medium ${1===P?"text-gray-400":"text-green-400"} transition-colors duration-300`},1===P?"Saving...":"Saved!"),o.createElement("button",{onClick:()=>{const e={...x,questionnaireCompleted:h>=p};D(!0,e,!0),a()},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white hover:bg-gray-700 transition-colors","aria-label":"Close"},o.createElement(ca,{className:"w-5 h-5"})))),o.createElement("div",{className:"mb-8 space-y-2"},o.createElement("div",{className:"flex justify-between mb-1"},o.createElement("span",{className:"text-sm font-medium text-purple-300"},U.name," (",U.current,"/",U.total,")"),o.createElement("span",{className:"text-sm font-medium text-purple-300"},"Question ",h," of ",p)),o.createElement("div",{className:"w-full bg-gray-700 rounded-full h-2.5"},o.createElement("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-500 h-2.5 rounded-full transition-all duration-300 ease-out",style:{width:h/p*100+"%"}})),o.createElement("div",{className:"flex w-full"},["essential","context","detailed","personal"].map((e=>{const t=ac.filter((t=>t.category===e)).length/p*100,n=m===e;return o.createElement("div",{key:e,className:`h-1 ${n?"bg-purple-500":"bg-gray-600"} transition-all`,style:{width:`${t}%`},title:M(e)})})))),T&&o.createElement("div",{className:"mb-6 p-4 bg-red-800/60 border border-red-600 text-red-100 rounded-lg shadow-md"},o.createElement("p",{className:"font-medium"},"Error:"),o.createElement("p",null,T),N&&o.createElement("button",{onClick:()=>d("/login"),className:"mt-3 px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-md text-sm font-medium transition-colors"},"Go to Login")),o.createElement(To,{mode:"wait"},o.createElement(fo.P.div,{key:h,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-gray-800/50 p-6 rounded-xl shadow-xl mb-8"},o.createElement("h3",{className:"text-xl sm:text-2xl font-semibold text-white mb-3"},null==S?void 0:S.title),o.createElement("p",{className:"text-sm sm:text-base text-gray-300 mb-6"},null==S?void 0:S.description),o.createElement("div",{className:"space-y-4"},(()=>{var e,n;const r=e=>"p-3 rounded-lg text-sm font-medium w-full flex items-center justify-center transition-all duration-150 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-75 "+(e?"bg-purple-600 text-white shadow-lg ring-2 ring-purple-400":"bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white");if(!S)return null;switch(S.type){case"multiSelect":return o.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},S.options.map((e=>{var n,i;return o.createElement(fo.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:r(null===(n=x[S.id])||void 0===n?void 0:n.includes(e.id)),onClick:()=>{return n=S.id,r=e.id,void E((e=>{const i=e[n]||[],o={...e,[n]:i.includes(r)?i.filter((e=>e!==r)):[...i,r]};return t&&D(!0,o,!1),o}));var n,r}},(null===(i=x[S.id])||void 0===i?void 0:i.includes(e.id))&&o.createElement(sa,{className:"w-4 h-4 mr-2"}),e.name)})));case"singleSelect":return o.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 max-w-md mx-auto"},S.options.map((e=>o.createElement(fo.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:r(x[S.id]===e.id),onClick:()=>{return n=S.id,r=e.id,void E((e=>{const i={...e,[n]:r};return t&&D(!0,i,!1),i}));var n,r}},x[S.id]===e.id&&o.createElement(sa,{className:"w-4 h-4 mr-2"}),e.name))));case"textInput":return o.createElement("div",{className:"w-full max-w-lg mx-auto"},o.createElement("textarea",{value:y[S.id]||"",onChange:e=>{return n=S.id,r=e.target.value,v((e=>({...e,[n]:r}))),void E((e=>{const i={...e,[n]:r};return t&&D(!0,i,!1),i}));var n,r},className:"w-full p-4 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"Enter titles separated by commas (e.g., The Godfather, Breaking Bad, etc.)",rows:3}));case"peopleInput":return o.createElement("div",{className:"space-y-5 max-w-lg mx-auto"},o.createElement("div",{className:"bg-gray-800/70 p-4 rounded-lg"},o.createElement("label",{className:"text-white mb-3 block text-base font-medium"},"Favorite Actors"),o.createElement("div",{className:"flex space-x-2"},o.createElement("input",{type:"text",value:b.actor,onChange:e=>w((t=>({...t,actor:e.target.value}))),className:"p-3 rounded-lg bg-gray-700 text-white w-full focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"e.g., Tom Hanks"}),o.createElement(fo.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>O("actor"),className:"p-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 min-w-[70px]"},"Add")),o.createElement("div",{className:"mt-3 flex flex-wrap gap-2"},null===(e=x.favoritePeople)||void 0===e||null===(e=e.actors)||void 0===e?void 0:e.map((e=>o.createElement("span",{key:e,className:"bg-purple-700 text-white px-3 py-1.5 rounded-full text-xs font-medium flex items-center shadow"},e,o.createElement("button",{onClick:()=>E((t=>({...t,favoritePeople:{...t.favoritePeople,actors:t.favoritePeople.actors.filter((t=>t!==e))}}))),className:"ml-2 text-purple-200 hover:text-white transition-colors","aria-label":`Remove ${e}`},o.createElement(ca,{className:"w-3 h-3"}))))))),o.createElement("div",{className:"bg-gray-800/70 p-4 rounded-lg"},o.createElement("label",{className:"text-white mb-3 block text-base font-medium"},"Favorite Directors"),o.createElement("div",{className:"flex space-x-2"},o.createElement("input",{type:"text",value:b.director,onChange:e=>w((t=>({...t,director:e.target.value}))),className:"p-3 rounded-lg bg-gray-700 text-white w-full focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"e.g., Christopher Nolan"}),o.createElement(fo.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>O("director"),className:"p-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 min-w-[70px]"},"Add")),o.createElement("div",{className:"mt-3 flex flex-wrap gap-2"},null===(n=x.favoritePeople)||void 0===n||null===(n=n.directors)||void 0===n?void 0:n.map((e=>o.createElement("span",{key:e,className:"bg-purple-700 text-white px-3 py-1.5 rounded-full text-xs font-medium flex items-center shadow"},e,o.createElement("button",{onClick:()=>E((t=>({...t,favoritePeople:{...t.favoritePeople,directors:t.favoritePeople.directors.filter((t=>t!==e))}}))),className:"ml-2 text-purple-200 hover:text-white transition-colors","aria-label":`Remove ${e}`},o.createElement(ca,{className:"w-3 h-3"}))))))));default:return null}})()))),o.createElement("div",{className:"flex justify-between items-center pt-6 border-t border-gray-700 mt-10"},o.createElement("div",null,h>1&&o.createElement(fo.P.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{h>1&&f((e=>e-1))},className:"px-6 py-3 text-sm sm:text-base text-gray-200 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium shadow-md hover:shadow-lg transition-all duration-150 ease-in-out"},"Previous")),o.createElement("div",{className:"flex space-x-3 sm:space-x-4"},o.createElement(fo.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{const e={...x,questionnaireCompleted:!0};D(!1,e,!0),r&&r()},className:"px-5 py-3 text-sm text-gray-400 hover:text-gray-200 rounded-lg transition-colors duration-150 ease-in-out"},h===p?"Skip & Save Progress":"Skip for now"),h<p?o.createElement(fo.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{h<p?f((e=>e+1)):(D(!1,null,!0),i&&a&&a())},className:"px-6 py-3 text-sm sm:text-base text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 rounded-lg font-medium shadow-md hover:shadow-lg transition-all duration-150 ease-in-out"},"Next"):o.createElement(fo.P.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>D(!1,null,!0),disabled:C,className:"px-6 py-3 text-sm sm:text-base text-white rounded-lg font-medium shadow-md hover:shadow-lg transition-all duration-150 ease-in-out "+(C?"bg-gray-500 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600")},C?"Saving...":"Finish & Save"))),o.createElement("div",{className:"mt-4 text-center"},o.createElement("span",{className:"text-xs text-gray-400"},"Your answers are automatically saved as you go"))))},lc=e=>{let{currentUser:t,onMediaClick:n}=e;const[r,i]=(0,o.useState)([]),[a,s]=(0,o.useState)(!0),[l,c]=(0,o.useState)("day"),[u,d]=(0,o.useState)("day");return(0,o.useEffect)((()=>{(async()=>{try{s(!0);const e=(await $l.A.get(`https://api.themoviedb.org/3/trending/all/${l}`,{params:{api_key:"b484a8d608caf759d5d575db3ec03bbc"}})).data.results.map((e=>({...e,score:Math.round(10*e.vote_average)}))).slice(0,6);i(e)}catch(e){console.error("Error fetching trending content:",e)}finally{s(!1)}})()}),[l]),o.createElement("section",{className:"mb-12 max-w-7xl mx-auto px-4"},o.createElement("div",{className:"flex items-center justify-between mb-6"},o.createElement("h2",{className:"text-2xl font-bold text-white"},"Trending Today"),o.createElement("div",{className:"flex space-x-2"},o.createElement("button",{className:"px-3 py-1 rounded-full text-sm font-medium "+("day"===u?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),onClick:()=>{"day"===u?(d(null),c("day")):(d("day"),c("day"))}},"Today"),o.createElement("button",{className:"px-3 py-1 rounded-full text-sm font-medium "+("week"===u?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),onClick:()=>{"week"===u?(d(null),c("day")):(d("week"),c("week"))}},"This Week"))),o.createElement(To,{mode:"wait"},a?o.createElement(fo.P.div,{key:"skeleton",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},[...Array(6)].map(((e,t)=>o.createElement("div",{key:t,className:"bg-gray-800 rounded-xl overflow-hidden h-[350px] shadow-lg animate-pulse max-w-full"},o.createElement("div",{className:"h-[180px] bg-gray-700"}),o.createElement("div",{className:"p-4 space-y-3"},o.createElement("div",{className:"h-5 bg-gray-700 rounded w-3/4"}),o.createElement("div",{className:"h-4 bg-gray-700 rounded w-1/2"}),o.createElement("div",{className:"h-4 bg-gray-700 rounded w-full"}),o.createElement("div",{className:"flex justify-between pt-2"},o.createElement("div",{className:"h-4 bg-gray-700 rounded w-16"}),o.createElement("div",{className:"h-4 bg-gray-700 rounded w-12"}))))))):o.createElement(fo.P.div,{key:"content",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map((e=>o.createElement(Go.default,{key:e.id,result:e,currentUser:t,onClick:n,promptLogin:()=>{}}))))))};function cc({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{d:"M4.5 4.5a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h8.25a3 3 0 0 0 3-3v-9a3 3 0 0 0-3-3H4.5ZM19.94 18.75l-2.69-2.69V7.94l2.69-2.69c.944-.945 2.56-.276 2.56 1.06v11.38c0 1.336-1.616 2.005-2.56 1.06Z"}))}const uc=o.forwardRef(cc);function dc({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 18.375V5.625Zm1.5 0v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5A.375.375 0 0 0 3 5.625Zm16.125-.375a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5A.375.375 0 0 0 21 7.125v-1.5a.375.375 0 0 0-.375-.375h-1.5ZM21 9.375A.375.375 0 0 0 20.625 9h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5ZM4.875 18.75a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5ZM3.375 15h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375Zm0-3.75h1.5a.375.375 0 0 0 .375-.375v-1.5A.375.375 0 0 0 4.875 9h-1.5A.375.375 0 0 0 3 9.375v1.5c0 .207.168.375.375.375Zm4.125 0a.75.75 0 0 0 0 1.5h9a.75.75 0 0 0 0-1.5h-9Z",clipRule:"evenodd"}))}const hc=o.forwardRef(dc);function fc({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{d:"M19.5 6h-15v9h15V6Z"}),o.createElement("path",{fillRule:"evenodd",d:"M3.375 3C2.339 3 1.5 3.84 1.5 4.875v11.25C1.5 17.16 2.34 18 3.375 18H9.75v1.5H6A.75.75 0 0 0 6 21h12a.75.75 0 0 0 0-1.5h-3.75V18h6.375c1.035 0 1.875-.84 1.875-1.875V4.875C22.5 3.839 21.66 3 20.625 3H3.375Zm0 13.5h17.25a.375.375 0 0 0 .375-.375V4.875a.375.375 0 0 0-.375-.375H3.375A.375.375 0 0 0 3 4.875v11.25c0 .207.168.375.375.375Z",clipRule:"evenodd"}))}const pc=o.forwardRef(fc);function mc({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const gc=o.forwardRef(mc);function yc({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{d:"M12 .75a8.25 8.25 0 0 0-4.135 15.39c.686.398 1.115 1.008 1.134 1.623a.75.75 0 0 0 .577.706c.352.083.71.148 1.074.195.323.041.6-.218.6-.544v-4.661a6.714 6.714 0 0 1-.937-.171.75.75 0 1 1 .374-1.453 5.261 5.261 0 0 0 2.626 0 .75.75 0 1 1 .374 1.452 6.712 6.712 0 0 1-.937.172v4.66c0 .327.277.586.6.545.364-.047.722-.112 1.074-.195a.75.75 0 0 0 .577-.706c.02-.615.448-1.225 1.134-1.623A8.25 8.25 0 0 0 12 .75Z"}),o.createElement("path",{fillRule:"evenodd",d:"M9.013 19.9a.75.75 0 0 1 .877-.597 11.319 11.319 0 0 0 4.22 0 .75.75 0 1 1 .28 1.473 12.819 12.819 0 0 1-4.78 0 .75.75 0 0 1-.597-.876ZM9.754 22.344a.75.75 0 0 1 .824-.668 13.682 13.682 0 0 0 2.844 0 .75.75 0 1 1 .156 1.492 15.156 15.156 0 0 1-3.156 0 .75.75 0 0 1-.668-.824Z",clipRule:"evenodd"}))}const vc=o.forwardRef(yc),bc=(e,t)=>{console.error(`[PersonalRecs] ${e}`,t)},wc=(0,o.forwardRef)(((e,t)=>{var n;const{currentUser:r,isAuthenticated:i,propUserPreferences:a,propHasCompletedQuestionnaire:s,initialAppLoadComplete:l=!1,onMediaClick:c}=e,u=i?null==r||null===(n=r.attributes)||void 0===n?void 0:n.sub:null,[d,h]=(0,o.useState)({allRecommendations:[],recommendations:[],displayIndex:0,dataSource:null,recommendationReason:"",shownItemsHistory:new Set,isLoading:!1,isThinking:!1,isRefreshing:!1,hasError:!1,errorMessage:"",refreshCounter:0,contentTypeFilter:"both"}),{allRecommendations:f,recommendations:p,displayIndex:m,dataSource:g,recommendationReason:y,shownItemsHistory:v,isLoading:b,isThinking:w,hasError:x,errorMessage:E,refreshCounter:S,contentTypeFilter:k}=d,C=(0,o.useRef)(!1),_=(0,o.useRef)(0),T=(0,o.useRef)(!0),A=(0,o.useRef)(null),N=(0,o.useRef)(null),I=(0,o.useRef)(null),P=(0,o.useRef)(!1);(0,o.useEffect)((()=>{T.current=!0;const e=A.current;return()=>{T.current=!1,e&&clearTimeout(e),C.current=!1}}),[]);const R=(0,o.useCallback)((e=>{T.current&&h((t=>({...t,...e})))}),[]);(0,o.useEffect)((()=>{var e;const t=null==r||null===(e=r.attributes)||void 0===e?void 0:e.sub;t!==I.current&&(R({allRecommendations:[],recommendations:[],displayIndex:0,dataSource:null,recommendationReason:"",shownItemsHistory:new Set,isLoading:!1,isThinking:!1,isRefreshing:!1,hasError:!1,errorMessage:"",refreshCounter:0,contentTypeFilter:"both"}),C.current=!1,P.current=!1,_.current=0,N.current=null,I.current=t)}),[r,R]);const O=(0,o.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t.size,i.length,o.length;try{var s;const l=null==r||null===(s=r.signInUserSession)||void 0===s||null===(s=s.accessToken)||void 0===s?void 0:s.jwtToken,c="both"===e?"both":"movies"===e?"movie":"tv",u=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mediaType:t="both",limit:n=6,excludeIds:r=[],token:i,preferences:o={},favoriteIds:a=[],watchlistIds:s=[],forceRefresh:l=!1}=e,c=r.map(String).sort(),u=a.map(String).sort(),d=s.map(String).sort(),h=e=>{const r={};o&&"object"==typeof o&&null!==o&&Object.keys(o).sort().forEach((e=>{void 0!==o[e]&&(r[e]=o[e])}));const i=JSON.stringify({v:2,mediaType:t,limit:n,excludeIds:e,preferences:r,favoriteIds:u,watchlistIds:d});return"media_rec_cache_v2_"+btoa(unescape(encodeURIComponent(i)))},f=h(c),p=l?h([]):f;if(l)console.log(`[MediaCache] Bypassing client cache (forceRefresh=true). Will write to: ${p}`);else try{const e=localStorage.getItem(f);if(e){const{timestamp:t,data:n}=JSON.parse(e);if((e=>{if(!e)return!0;const t="number"==typeof e?e:new Date(e).getTime();return!!isNaN(t)||Date.now()-t>864e5})(t))console.log(`[MediaCache] Cache expired for key: ${f}`),localStorage.removeItem(f);else{if(n&&n.items&&n.source)return console.log(`[MediaCache] Cache hit for key: ${f}`),n;localStorage.removeItem(f)}}else console.log(`[MediaCache] Cache miss for key: ${f}`)}catch(e){console.warn(`[MediaCache] Error reading client cache for key ${f}:`,e),localStorage.removeItem(f)}try{console.log(`[MediaCache] Attempting to fetch from Personalized API (forceRefresh=${l}, excludeIds=${c.join(",")||"none"})`);const e="https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod/media-recommendations",n=await $l.A.get(e,{params:{mediaType:t,exclude:c.join(","),...Object.keys(o).length>0&&{preferences:JSON.stringify(o)},...u.length>0&&{favorites:u.join(",")},...d.length>0&&{watchlist:d.join(",")}},headers:i?{Authorization:`Bearer ${i}`}:{},timeout:25e3});if(200===n.status&&n.data&&Array.isArray(n.data.items)){const e=n.data.items,t=n.data.source||"personalized_lambda",r={items:e.map((e=>({id:parseInt(e.mediaId,10),media_type:e.mediaType,title:e.title,name:e.title,overview:e.overview,poster_path:e.posterPath,backdrop_path:e.backdropPath,vote_average:e.voteAverage,release_date:e.releaseDate,popularity:e.popularity,genre_ids:e.genres?e.genres.split("|").map((e=>parseInt(e,10))).filter(Number.isFinite):[],genre:e.genre||null}))),source:t};try{localStorage.setItem(p,JSON.stringify({timestamp:(new Date).toISOString(),data:r})),console.log(`[MediaCache] Data stored in cache with key: ${p}`)}catch(e){console.warn(`[MediaCache] Error writing to client cache with key ${p}:`,e)}return r}return{items:[],source:"error"}}catch(e){let t=e.message;return e.response?(t=`Status: ${e.response.status}, Data: ${JSON.stringify(e.response.data)}, Headers: ${JSON.stringify(e.response.headers)}`,console.error("[MediaCache] API Error Response:",e.response)):e.request?(t="No response received from server.",console.error("[MediaCache] API No Response:",e.request)):console.error("[MediaCache] API Request Setup Error:",e.message),console.error(`[MediaCache] Full Error fetching from API: ${t}`,e),{items:[],source:"error"}}}({mediaType:c,excludeIds:Array.from(t),token:l,preferences:n,favoriteIds:i,watchlistIds:o,forceRefresh:a});return u.items&&u.items.length>0?(u.items.length,u.source,{success:!0,recommendations:u.items,dataSource:u.source,reason:"client-cache"===u.source?"From your recent recommendations":"Fresh recommendations for you"}):{success:!1,dataSource:u.source}}catch(e){return bc("Error calling fetchCachedMedia",e),{success:!1,dataSource:"error"}}}),[r]),D=(0,o.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(C.current,!i||!u||!l||C.current)return C.current||R({isLoading:!1,isThinking:!1,isRefreshing:!1}),C.current,!1;C.current=!0,P.current=!0,_.current=0,R({isRefreshing:e,isThinking:!0,hasError:!1,errorMessage:"",isLoading:!0}),A.current&&clearTimeout(A.current),A.current=setTimeout((()=>{C.current&&T.current&&(bc("Loading timeout reached"),R({isLoading:!1,isThinking:!1,isRefreshing:!1,hasError:!0,errorMessage:"Loading recommendations timed out. Please try refreshing.",dataSource:"error",allRecommendations:[],recommendations:[],displayIndex:0}),C.current=!1)}),15e3);let t=!1,n="none",o="",s=[];try{var c;null==r||null===(c=r.signInUserSession)||void 0===c||null===(c=c.accessToken)||void 0===c||c.jwtToken;const i=a||{},l=new Set(Array.from(v)),u=[],d=[],h=await O(k,l,i,u,d,e);if(h.success&&h.recommendations.length>0){s=h.recommendations,n=h.dataSource,o=h.reason,t=!0,s.length;const e=new Set([...Array.from(v),...s.map((e=>{var t;return null===(t=e.id)||void 0===t?void 0:t.toString()}))].slice(-150));R({allRecommendations:s,recommendations:s.slice(0,3),displayIndex:0,dataSource:n,recommendationReason:o,hasError:!1,errorMessage:"",shownItemsHistory:e})}else R({allRecommendations:[],recommendations:[],displayIndex:0,dataSource:h.dataSource||"none",recommendationReason:"Could not find recommendations matching your profile. Try adjusting preferences or adding favorites!",hasError:"error"===h.dataSource,errorMessage:"error"===h.dataSource?"Failed to fetch recommendations from the server.":""})}catch(n){if(bc("Fetch recommendations main error",n),_.current<2)return _.current++,_.current,C.current=!1,A.current&&clearTimeout(A.current),setTimeout((()=>D(e)),1500),!1;R({allRecommendations:[],recommendations:[],displayIndex:0,dataSource:"error",recommendationReason:"Error fetching recommendations",hasError:!0,errorMessage:n.message||"An unexpected error occurred"}),t=!1}finally{A.current&&clearTimeout(A.current),T.current&&R({isLoading:!1,isThinking:!1,isRefreshing:!1}),C.current=!1}return t&&_.current<2}),[r,i,u,l,a,k,v,O,R]),M=(0,o.useCallback)(((e,t)=>{t&&R((t=>({recommendations:t.recommendations.filter((t=>{var n;return(null===(n=t.id)||void 0===n?void 0:n.toString())!==(null==e?void 0:e.toString())})),allRecommendations:t.allRecommendations.filter((t=>{var n;return(null===(n=t.id)||void 0===n?void 0:n.toString())!==(null==e?void 0:e.toString())})),shownItemsHistory:new Set([...t.shownItemsHistory,null==e?void 0:e.toString()])})))}),[R]),U=(0,o.useCallback)(((e,t)=>{t&&R((t=>({recommendations:t.recommendations.filter((t=>{var n;return(null===(n=t.id)||void 0===n?void 0:n.toString())!==(null==e?void 0:e.toString())})),allRecommendations:t.allRecommendations.filter((t=>{var n;return(null===(n=t.id)||void 0===n?void 0:n.toString())!==(null==e?void 0:e.toString())})),shownItemsHistory:new Set([...t.shownItemsHistory,null==e?void 0:e.toString()])})))}),[R]),L=(0,o.useCallback)((async()=>{!C.current&&u&&i&&(R({isLoading:!0,isThinking:!0,isRefreshing:!0,refreshCounter:d.refreshCounter+1}),await D(!0))}),[u,i,D,R,d.refreshCounter]);if((0,o.useEffect)((()=>{if(!i||!u||!l||P.current||C.current)return P.current,C.current,void(C.current||R({isLoading:!1,isThinking:!1,isRefreshing:!1}));P.current,D(!1)}),[i,u,l,D,R]),(0,o.useEffect)((()=>{if(!l||!s)return;const e=JSON.stringify(a||{});(null!==N.current?N.current:JSON.stringify({}))!==e&&(N.current,null!==N.current&&s?L():N.current),N.current=e}),[l,s,a,L]),(0,o.useImperativeHandle)(t,(()=>({refreshRecommendations:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(N.current=JSON.stringify(e)),L()}}))),(0,o.useEffect)((()=>{const e=e=>{const{mediaId:t,type:n}=e.detail||{};t&&R((e=>({recommendations:e.recommendations.filter((e=>{var n;return(null===(n=e.id)||void 0===n?void 0:n.toString())!==(null==t?void 0:t.toString())})),allRecommendations:e.allRecommendations.filter((e=>{var n;return(null===(n=e.id)||void 0===n?void 0:n.toString())!==(null==t?void 0:t.toString())})),shownItemsHistory:new Set([...e.shownItemsHistory,null==t?void 0:t.toString()])})))},t=t=>e({...t,detail:{...t.detail,type:"favorite"}}),n=t=>e({...t,detail:{...t.detail,type:"watchlist"}});return document.addEventListener("favorites-updated",t),document.addEventListener("watchlist-updated",n),()=>{document.removeEventListener("favorites-updated",t),document.removeEventListener("watchlist-updated",n)}}),[R]),!i||!l)return null;const F=b,j=!b&&p.length>0,B=!b&&x,z=!b&&!x&&P.current&&0===p.length;let V;V=F?o.createElement(fo.P.div,{key:`loading-${S}`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},o.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6"},[...Array(3)].map(((e,t)=>o.createElement("div",{key:t,className:"bg-gray-800 rounded-xl h-[350px] shadow-md overflow-hidden animate-pulse"},o.createElement("div",{className:"h-3/5 bg-gray-700"}),o.createElement("div",{className:"p-4 space-y-3"},o.createElement("div",{className:"h-5 bg-gray-700 rounded w-3/4"}),o.createElement("div",{className:"h-4 bg-gray-700 rounded w-1/2"}),o.createElement("div",{className:"h-4 bg-gray-700 rounded w-full"}))))))):j?o.createElement(fo.P.div,{key:`recommendations-${S}-${m}`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 lg:gap-6"},p.map((e=>o.createElement(fo.P.div,{key:e.id,initial:"hidden",animate:"visible",variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}}},o.createElement(Go.default,{result:e,currentUser:r,onFavoriteToggle:M,onWatchlistToggle:U,onClick:c}))))):B?o.createElement(fo.P.div,{key:"error",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"text-center py-12 bg-gray-800/50 rounded-xl p-8 border border-red-700"},o.createElement("div",{className:"mb-4 text-5xl text-red-400"},"⚠️"),o.createElement("h3",{className:"text-xl font-semibold text-white mb-3"},"Something went wrong"),o.createElement("p",{className:"text-gray-400 mb-6"},E||"We couldn't load recommendations"),o.createElement(fo.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:L,disabled:w,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 rounded-full "+(w?"opacity-50 cursor-not-allowed":"")},w?"Trying...":"Try Again")):z?o.createElement(fo.P.div,{key:"empty",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"text-center py-12 bg-gray-800/50 rounded-xl p-8 border border-gray-700"},o.createElement("div",{className:"mb-4 text-5xl text-indigo-400"},"🤷‍♂️"),o.createElement("h3",{className:"text-xl font-semibold text-white mb-3"},"No Recommendations Found"),o.createElement("p",{className:"text-gray-400 mb-6"},y||"We couldn't find anything matching your profile right now."),o.createElement(fo.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:L,disabled:w,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 rounded-full "+(w?"opacity-50 cursor-not-allowed":"")},w?"Loading...":"Get New Recommendations")):o.createElement("div",{key:"fallback",className:"min-h-[200px]"});let H="Recommendations For You";return"error"===g?H="Error Loading":"client-cache"===g?H="Recent Recommendations":"personalized_lambda"===g||"dynamo_personalized"===g?H="Fresh Recommendations":"none"===g&&(H="No Recommendations Found"),o.createElement(fo.P.section,{initial:{opacity:0},animate:{opacity:1},className:"mb-12 max-w-7xl mx-auto px-4"},o.createElement("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-3"},o.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-white"},H),o.createElement("div",{className:"flex flex-wrap gap-2"},o.createElement(fo.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{R({contentTypeFilter:"both"}),L()},className:"flex items-center space-x-1 px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs sm:text-sm "+("both"===k?"bg-indigo-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"),disabled:w},o.createElement(uc,{className:"h-3 w-3 sm:h-4 sm:w-4"})," ",o.createElement("span",null,"Both")),o.createElement(fo.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{R({contentTypeFilter:"movies"}),L()},className:"flex items-center space-x-1 px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs sm:text-sm "+("movies"===k?"bg-indigo-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"),disabled:w},o.createElement(hc,{className:"h-3 w-3 sm:h-4 sm:w-4"})," ",o.createElement("span",null,"Movies")),o.createElement(fo.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{R({contentTypeFilter:"tv"}),L()},className:"flex items-center space-x-1 px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs sm:text-sm "+("tv"===k?"bg-indigo-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"),disabled:w},o.createElement(pc,{className:"h-3 w-3 sm:h-4 sm:w-4"})," ",o.createElement("span",null,"TV Shows")),o.createElement(fo.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:L,disabled:w,className:"flex items-center space-x-1 px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs sm:text-sm "+(w?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700")},o.createElement(fo.P.div,{animate:w?{rotate:360}:{rotate:0},transition:w?{repeat:1/0,duration:1,ease:"linear"}:{duration:.3}},o.createElement(gc,{className:"h-3 w-3 sm:h-4 sm:w-4"})),o.createElement("span",null,w?"Loading...":"Get New Recommendations")))),!b&&!x&&y&&p.length>0&&o.createElement(fo.P.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-4 text-gray-300 text-sm flex items-center"},o.createElement(vc,{className:"h-4 w-4 text-yellow-400 mr-1.5 flex-shrink-0"}),o.createElement("span",null,y)),o.createElement(To,{mode:"wait"},V))}));wc.displayName="PersonalizedRecommendations";const xc=wc,Ec=[{id:28,name:"Action",icon:"🔥"},{id:35,name:"Comedy",icon:"😂"},{id:18,name:"Drama",icon:"🎭"},{id:27,name:"Horror",icon:"👻"},{id:878,name:"Sci-Fi",icon:"🚀"},{id:10749,name:"Romance",icon:"❤️"},{id:12,name:"Adventure",icon:"🌍"},{id:16,name:"Animation",icon:"🎬"}],Sc=e=>{let{onCategorySelect:t}=e;const[n,r]=(0,o.useState)(null),[i,a]=(0,o.useState)({}),[s,l]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{(async()=>{try{l(!0);const e=Ec.map((async e=>{const t=await $l.A.get("https://api.themoviedb.org/3/discover/movie",{params:{api_key:"b484a8d608caf759d5d575db3ec03bbc",with_genres:e.id,sort_by:"popularity.desc"}});if(t.data.results.length>0){const n=t.data.results[0];return{id:e.id,backdrop:n.backdrop_path}}return null})),t=await Promise.all(e),n={};t.filter(Boolean).forEach((e=>{n[e.id]=e.backdrop})),a(n)}catch(e){console.error("Error fetching category backgrounds:",e)}finally{l(!1)}})()}),[]),o.createElement("section",{className:"mb-12 max-w-7xl mx-auto px-4"},o.createElement("h2",{className:"text-2xl font-bold text-white mb-6"},"Browse Categories"),o.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},Ec.map((e=>o.createElement(fo.P.div,{key:e.id,onClick:()=>{return n=e.id,r(n),void(t&&t(n));var n},className:"relative overflow-hidden rounded-lg cursor-pointer h-32 "+(n===e.id?"ring-2 ring-indigo-500":""),whileHover:{scale:1.05},whileTap:{scale:.95}},s?o.createElement("div",{className:"absolute inset-0 bg-gray-800 animate-pulse"},o.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center"},o.createElement("div",{className:"w-12 h-12 rounded-full bg-gray-700 mb-2"}),o.createElement("div",{className:"h-5 bg-gray-700 rounded w-24"}))):o.createElement(o.Fragment,null,i[e.id]&&o.createElement("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(https://image.tmdb.org/t/p/w500${i[e.id]})`,filter:"brightness(60%)"}}),o.createElement("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),o.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center"},o.createElement("span",{className:"text-2xl mb-2"},e.icon),o.createElement("h3",{className:"text-white text-lg font-semibold"},e.name))))))))},kc=e=>{let{genreId:t,mediaType:n="movie",currentUser:r,onMediaClick:i}=e;const[a,s]=(0,o.useState)([]),[l,c]=(0,o.useState)(!1),[u,d]=(0,o.useState)(1);return(0,o.useEffect)((()=>{t&&(async()=>{try{c(!0);const e=(await $l.A.get(`https://api.themoviedb.org/3/discover/${n}`,{params:{api_key:"b484a8d608caf759d5d575db3ec03bbc",with_genres:t,page:u,sort_by:"popularity.desc"}})).data.results.map((e=>({...e,media_type:n,score:Math.round(e.vote_average/10*100)})));s((t=>1===u?e:[...t,...e]))}catch(e){console.error("Error fetching genre results:",e)}finally{c(!1)}})()}),[t,n,u]),t?l&&0===a.length?o.createElement("section",{className:"mb-12"},o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},[...Array(6)].map(((e,t)=>o.createElement("div",{key:t,className:"bg-gray-800 rounded-xl overflow-hidden h-[350px] shadow-lg animate-pulse"},o.createElement("div",{className:"h-[180px] bg-gray-700"}),o.createElement("div",{className:"p-4 space-y-3"},o.createElement("div",{className:"h-5 bg-gray-700 rounded w-3/4"}),o.createElement("div",{className:"h-4 bg-gray-700 rounded w-1/2"}),o.createElement("div",{className:"h-4 bg-gray-700 rounded w-full"}),o.createElement("div",{className:"flex justify-between pt-2"},o.createElement("div",{className:"h-4 bg-gray-700 rounded w-16"}),o.createElement("div",{className:"h-4 bg-gray-700 rounded w-12"})))))))):0===a.length?null:o.createElement("section",{className:"mb-12"},o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},a.map((e=>o.createElement(Go.default,{key:`${e.id}-${e.media_type}`,result:e,currentUser:r,onClick:i,promptLogin:()=>{}})))),a.length>=6&&o.createElement("div",{className:"flex justify-center"},o.createElement(fo.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{d((e=>e+1))},disabled:l,className:"px-6 py-3 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 transition-colors"},l?"Loading...":"Load More"))):null},Cc=e=>null!=e&&e.mediaId?{id:e.mediaId,media_type:e.mediaType||"movie",title:e.title||e.name||"Unknown Title",name:e.name||e.title||"Unknown Title",poster_path:e.posterPath||e.poster_path||null,backdrop_path:e.backdropPath||e.backdrop_path||null,release_date:e.releaseDate||e.firstAirDate||e.release_date||null,first_air_date:e.firstAirDate||e.releaseDate||e.first_air_date||e.release_date||null,vote_average:"number"==typeof e.voteAverage?e.voteAverage:parseFloat(e.vote_average||0),popularity:"number"==typeof e.popularity?e.popularity:0,genre_ids:Array.isArray(e.genreIds)?e.genreIds:Array.isArray(e.genre_ids)?e.genre_ids:[]}:null;function _c(e){return o.createElement(Jo,{title:"Your Watchlist",IconEmpty:o.createElement(Uo,{className:"h-8 w-8 text-gray-400"}),inHeader:e.inHeader,isOpen:e.isOpen,currentUser:e.currentUser,isAuthenticated:e.isAuthenticated,cacheKey:"user_watchlist_cache",endpoint:"/watchlist",mapItem:Cc,eventKey:"watchlist-updated",cardPropsFactory:t=>({result:t,currentUser:e.currentUser,isMiniCard:e.inHeader,fromWatchlist:!0,initialIsInWatchlist:!0,onWatchlistToggle:()=>e.onClose&&e.onClose(t.id),icons:{sort:o.createElement(qo,{className:"h-5 w-5"}),refresh:o.createElement(Wo,{className:"h-5 w-5"}),close:o.createElement(Bo,{className:"h-5 w-5"})},emptyText:"Add movies and shows using the clock icon.",onClose:e.onClose})})}const Tc=function(e){var t,n;let{currentUser:r,onClose:i}=e;const[a,s]=(0,o.useState)("profile"),l=(0,o.useRef)(null),[c,u]=(0,o.useState)("request"),[d,h]=(0,o.useState)(""),[f,p]=(0,o.useState)(""),[m,g]=(0,o.useState)(""),[y,v]=(0,o.useState)(""),[b,w]=(0,o.useState)(""),[x,E]=(0,o.useState)(!1),[S,k]=(0,o.useState)(""),[C,_]=(0,o.useState)(""),[T,A]=(0,o.useState)(!1),[N,I]=(0,o.useState)(""),[P,R]=(0,o.useState)(""),[O,D]=(0,o.useState)(!1),M=((0,o.useCallback)((e=>{l.current&&!l.current.contains(e.target)&&i()}),[i]),(0,o.useMemo)((()=>{var e,t,n;return(null==r||null===(e=r.attributes)||void 0===e?void 0:e.email_verified_at)||(null==r||null===(t=r.attributes)||void 0===t?void 0:t.created)||(null==r||null===(n=r.signInUserSession)||void 0===n||null===(n=n.idToken)||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.auth_time)}),[r]));(0,o.useMemo)((()=>{var e,t;return(null==r||null===(e=r.attributes)||void 0===e?void 0:e.sub)||(null==r?void 0:r.username)||(null==r||null===(t=r.signInUserSession)||void 0===t||null===(t=t.idToken)||void 0===t||null===(t=t.payload)||void 0===t?void 0:t.sub)||"N/A"}),[r]),(0,o.useMemo)((()=>{return(e=M)?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";var e}),[M]),(0,o.useEffect)((()=>{var e;null!=r&&null!==(e=r.attributes)&&void 0!==e&&e.email&&h(r.attributes.email)}),[r]),(0,o.useEffect)((()=>{k(""),_(""),u("request")}),[a]),(0,o.useEffect)((()=>{const e=window.scrollY,t=document.body.style.overflow,n=document.body.style.position,r=document.body.style.top,i=document.body.style.width;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${e}px`,document.body.style.width="100%",()=>{document.body.style.overflow=t,document.body.style.position=n,document.body.style.top=r,document.body.style.width=i,window.scrollTo(0,e)}}),[]);const U=(0,o.useCallback)((e=>{s(e)}),[]);return o.createElement(fo.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/75 backdrop-blur-md",onClick:()=>i()},o.createElement(fo.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",bounce:.3},className:"bg-gradient-to-b from-gray-900 to-gray-950 rounded-xl shadow-2xl w-full max-w-lg overflow-hidden max-h-[90vh] flex flex-col border border-gray-800/50",onClick:e=>e.stopPropagation(),ref:l},o.createElement("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-800/50 to-gray-900/50 border-b border-gray-800/80 flex justify-between items-center"},o.createElement("h2",{className:"text-xl font-semibold text-white bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-indigo-400"},"Account Details"),o.createElement("button",{onClick:i,className:"text-gray-400 hover:text-white p-1.5 rounded-full hover:bg-purple-500/20 transition-all duration-200","aria-label":"Close"},o.createElement(Bo,{className:"w-5 h-5"}))),o.createElement("div",{className:"border-b border-gray-800/80 bg-gray-900/40"},o.createElement("div",{className:"flex px-2"},o.createElement("button",{className:"px-4 py-3 font-medium text-sm transition-all duration-200 "+("profile"===a?"border-b-2 border-purple-500 text-purple-300":"text-gray-400 hover:text-gray-200 hover:bg-purple-500/10"),onClick:()=>U("profile")},"Profile"),o.createElement("button",{className:"px-4 py-3 font-medium text-sm transition-all duration-200 "+("security"===a?"border-b-2 border-purple-500 text-purple-300":"text-gray-400 hover:text-gray-200 hover:bg-purple-500/10"),onClick:()=>U("security")},"Security"),o.createElement("button",{className:"px-4 py-3 font-medium text-sm transition-all duration-200 "+("preferences"===a?"border-b-2 border-purple-500 text-purple-300":"text-gray-400 hover:text-gray-200 hover:bg-purple-500/10"),onClick:()=>U("preferences")},"Preferences"))),o.createElement("div",{className:"overflow-y-auto custom-scrollbar px-6 py-5 flex-grow bg-gradient-to-b from-gray-900/80 to-gray-900"},"profile"===a&&o.createElement("div",{className:"space-y-4 sm:space-y-6"},o.createElement("div",{className:"bg-gray-800/30 hover:bg-gray-800/40 transition-colors duration-200 rounded-lg p-3 sm:p-4 border border-gray-700/30 shadow-sm"},o.createElement("h3",{className:"text-xs sm:text-sm text-purple-300 mb-2 font-medium"},"Email"),o.createElement("p",{className:"text-base sm:text-lg text-white break-all"},(null==r||null===(t=r.attributes)||void 0===t?void 0:t.email)||(null==r||null===(n=r.signInUserSession)||void 0===n||null===(n=n.idToken)||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.email)||"N/A")),o.createElement("div",{className:"bg-gray-800/30 hover:bg-gray-800/40 transition-colors duration-200 rounded-lg p-3 sm:p-4 border border-gray-700/30 shadow-sm"},o.createElement("h3",{className:"text-xs sm:text-sm text-purple-300 mb-2 font-medium"},"Account Status"),o.createElement("div",{className:"flex items-center"},o.createElement("div",{className:"w-3 h-3 bg-green-500 rounded-full relative"},o.createElement("div",{className:"absolute inset-0 bg-green-500 rounded-full animate-ping opacity-75",style:{animationDuration:"2s"}})),o.createElement("p",{className:"ml-2 text-base text-white"},"Active")))),"security"===a&&o.createElement("div",{className:"space-y-4 sm:space-y-6"},o.createElement("div",{className:"bg-gray-800/30 hover:bg-gray-800/40 transition-colors duration-200 rounded-lg p-3 sm:p-4 border border-gray-700/30 shadow-sm"},o.createElement("h3",{className:"text-sm text-purple-300 font-medium mb-2"},"Change Password"),o.createElement("p",{className:"text-gray-400 text-sm mb-3"},"Update your password while logged in."),o.createElement("button",{onClick:()=>u("change"),className:"w-full px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white text-sm font-medium rounded-md shadow-sm transition-all duration-200 transform hover:translate-y-[-1px]"},"Change Password")),o.createElement("div",{className:"bg-gray-800/30 hover:bg-gray-800/40 transition-colors duration-200 rounded-lg p-3 sm:p-4 border border-gray-700/30 shadow-sm"},o.createElement("h3",{className:"text-sm text-purple-300 font-medium mb-2"},"Forgot Password"),o.createElement("p",{className:"text-gray-400 text-sm mb-3"},"request"===c?"Request a password reset code sent to your email.":"confirm"===c?"Enter the verification code and your new password.":"Reset your password if you forgot it."),S&&o.createElement("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 text-red-200 text-sm rounded"},S),C&&o.createElement("div",{className:"mb-4 p-3 bg-green-900/50 border border-green-500 text-green-200 text-sm rounded"},C),"change"===c?o.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),k(""),_(""),m===y){E(!0);try{const e=await ho.currentAuthenticatedUser();await ho.changePassword(e,b,m),_("Password changed successfully!"),w(""),g(""),v(""),setTimeout((()=>{u("request"),_("")}),5e3)}catch(e){console.error("Change password error:",e),"NotAuthorizedException"===e.code?k("Current password is incorrect. Please try again."):"InvalidPasswordException"===e.code?k("New password does not meet requirements. It must include uppercase, lowercase, numbers, and special characters."):k(e.message||"Failed to change password. Please try again.")}finally{E(!1)}}else k("Passwords do not match.")},className:"space-y-4"},o.createElement("div",null,o.createElement("label",{className:"block text-xs text-gray-400 mb-1"},"Current Password"),o.createElement("input",{type:"password",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500",value:b,onChange:e=>w(e.target.value),required:!0,disabled:x})),o.createElement("div",null,o.createElement("label",{className:"block text-xs text-gray-400 mb-1"},"New Password"),o.createElement("input",{type:"password",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500",value:m,onChange:e=>g(e.target.value),required:!0,placeholder:"8+ characters with letters & numbers",minLength:"8",disabled:x})),o.createElement("div",null,o.createElement("label",{className:"block text-xs text-gray-400 mb-1"},"Confirm New Password"),o.createElement("input",{type:"password",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500",value:y,onChange:e=>v(e.target.value),required:!0,placeholder:"Confirm new password",disabled:x})),o.createElement("div",{className:"flex items-center justify-between pt-2"},o.createElement("button",{type:"button",className:"text-sm text-gray-400 hover:text-gray-300",onClick:()=>u("request"),disabled:x},"Cancel"),o.createElement("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white text-sm font-medium rounded-md shadow-sm disabled:opacity-50",disabled:x},x?"Changing...":"Change Password"))):"request"===c?o.createElement("form",{onSubmit:async e=>{e.preventDefault(),k(""),_(""),E(!0);try{await ho.forgotPassword(d),_("Verification code sent to your email."),u("confirm")}catch(e){console.error("Request reset error:",e),k(e.message||"Failed to request password reset. Please try again.")}finally{E(!1)}},className:"space-y-4"},o.createElement("div",null,o.createElement("label",{className:"block text-xs text-gray-400 mb-1"},"Email Address"),o.createElement("input",{type:"email",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500",value:d,onChange:e=>h(e.target.value),required:!0,disabled:x})),o.createElement("div",{className:"flex items-center justify-end pt-2"},o.createElement("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white text-sm font-medium rounded-md shadow-sm disabled:opacity-50",disabled:x},x?"Sending...":"Send Reset Code"))):o.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),k(""),_(""),m===y){E(!0);try{await ho.forgotPasswordSubmit(d,f,m),_("Password reset successful! You can now sign in with your new password."),p(""),g(""),v(""),setTimeout((()=>{u("request"),_("")}),5e3)}catch(e){console.error("Confirm reset error:",e),k(e.message||"Failed to reset password. Please try again.")}finally{E(!1)}}else k("Passwords do not match.")},className:"space-y-4"},o.createElement("div",null,o.createElement("label",{className:"block text-xs text-gray-400 mb-1"},"Verification Code"),o.createElement("input",{type:"text",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500",value:f,onChange:e=>p(e.target.value),required:!0,placeholder:"Enter code from email",disabled:x})),o.createElement("div",null,o.createElement("label",{className:"block text-xs text-gray-400 mb-1"},"New Password"),o.createElement("input",{type:"password",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500",value:m,onChange:e=>g(e.target.value),required:!0,placeholder:"8+ characters with letters & numbers",minLength:"8",disabled:x})),o.createElement("div",null,o.createElement("label",{className:"block text-xs text-gray-400 mb-1"},"Confirm New Password"),o.createElement("input",{type:"password",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500",value:y,onChange:e=>v(e.target.value),required:!0,placeholder:"Confirm new password",disabled:x})),o.createElement("div",{className:"flex items-center justify-between pt-2"},o.createElement("button",{type:"button",className:"text-sm text-gray-400 hover:text-gray-300",onClick:()=>u("request"),disabled:x},"Request new code"),o.createElement("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white text-sm font-medium rounded-md shadow-sm disabled:opacity-50",disabled:x},x?"Resetting...":"Reset Password")))),o.createElement("div",{className:"bg-gray-800/50 rounded-lg p-3 sm:p-4 border border-gray-700/50"},o.createElement("h3",{className:"text-sm text-gray-300 font-medium mb-2"},"Security Tips"),o.createElement("ul",{className:"text-sm text-gray-400 list-disc list-inside space-y-1"},o.createElement("li",null,"Use a strong, unique password"),o.createElement("li",null,"Enable two-factor authentication when available"),o.createElement("li",null,"Never share your password with others"),o.createElement("li",null,"Update your password regularly"))),o.createElement("div",{className:"bg-gray-800/50 rounded-lg p-3 sm:p-4 border border-red-900/30 mt-8"},o.createElement("h3",{className:"text-sm text-red-300 font-medium mb-2"},"Delete Account"),o.createElement("p",{className:"text-gray-300 text-sm mb-4"},"This action is permanent and cannot be undone. All your data, including favorites, watchlist, and preferences will be permanently deleted."),P&&o.createElement("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 text-red-200 text-sm rounded"},P),T?o.createElement("div",{className:"border border-red-500/40 rounded-lg p-4 bg-red-900/20"},o.createElement("p",{className:"text-white text-sm font-medium mb-4"},"Are you absolutely sure you want to delete your account?"),o.createElement("form",{onSubmit:async e=>{e.preventDefault(),R(""),D(!0);try{await ho.currentAuthenticatedUser(),await ho.deleteUser(),i(),document.dispatchEvent(new CustomEvent("account-deleted"))}catch(e){console.error("Delete account error:",e),R(e.message||"Failed to delete account. Please try again or contact support.")}finally{D(!1)}},className:"space-y-4"},o.createElement("div",{className:"flex items-center justify-between"},o.createElement("button",{type:"button",className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white text-sm font-medium rounded-md",onClick:()=>{A(!1),R("")},disabled:O},"Cancel"),o.createElement("button",{type:"submit",className:"px-4 py-2 bg-red-700 hover:bg-red-800 text-white text-sm font-medium rounded-md shadow-sm disabled:opacity-70",disabled:O},O?"Deleting...":"Confirm Delete")))):o.createElement("button",{onClick:()=>A(!0),className:"w-full px-4 py-2 bg-red-700 hover:bg-red-800 text-white text-sm font-medium rounded-md shadow-sm transition-colors"},"Delete Account"))),"preferences"===a&&o.createElement("div",{className:"space-y-4 sm:space-y-6"},o.createElement("div",{className:"bg-gray-800/50 rounded-lg p-3 sm:p-4 border border-gray-700/50"},o.createElement("h3",{className:"text-sm text-gray-400 mb-2"},"Content Preferences"),o.createElement("p",{className:"text-white text-sm sm:text-base"},"Personalize your movie and TV show recommendations by updating your preferences.")),o.createElement("div",{className:"flex justify-center"},o.createElement("button",{onClick:()=>{i(),setTimeout((()=>document.dispatchEvent(new CustomEvent("open-preferences"))),100)},className:"px-6 sm:px-8 py-2.5 sm:py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-lg transition-all duration-200 text-sm shadow-md hover:shadow-lg transform hover:translate-y-[-1px]"},"Edit Preferences")))),o.createElement("div",{className:"bg-gradient-to-r from-gray-800/40 to-gray-900/40 backdrop-blur-sm px-6 py-4 border-t border-gray-700/30 flex justify-end"},o.createElement("button",{onClick:i,className:"px-4 py-2 bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-600 hover:to-gray-700 text-white rounded-md text-sm font-medium transition-all duration-200 shadow-sm"},"Close"))))};var Ac=i(7865),Nc=i.n(Ac);function Ic({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"}))}const Pc=o.forwardRef(Ic);function Rc({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const Oc=o.forwardRef(Rc);function Dc({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Mc=o.forwardRef(Dc);function Uc({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const Lc=o.forwardRef(Uc);function Fc({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 3.75H6A2.25 2.25 0 0 0 3.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0 1 20.25 6v1.5m0 9V18A2.25 2.25 0 0 1 18 20.25h-1.5m-9 0H6A2.25 2.25 0 0 1 3.75 18v-1.5M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const jc=o.forwardRef(Fc);function Bc({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const zc=o.forwardRef(Bc);function Vc({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Hc=o.forwardRef(Vc);function qc({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const $c=o.forwardRef(qc);function Wc({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M5.25 2.25a3 3 0 0 0-3 3v4.318a3 3 0 0 0 .879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 0 0 5.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 0 0-2.122-.879H5.25ZM6.375 7.5a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z",clipRule:"evenodd"}))}const Kc=o.forwardRef(Wc);var Yc=i(8585);function Gc({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M12.963 2.286a.75.75 0 0 0-1.071-.136 9.742 9.742 0 0 0-3.539 6.176 7.547 7.547 0 0 1-1.705-1.715.75.75 0 0 0-1.152-.082A9 9 0 1 0 15.68 4.534a7.46 7.46 0 0 1-2.717-2.248ZM15.75 14.25a3.75 3.75 0 1 1-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 0 1 1.925-3.546 3.75 3.75 0 0 1 3.255 3.718Z",clipRule:"evenodd"}))}const Jc=o.forwardRef(Gc);function Zc({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{d:"M6 3a3 3 0 0 0-3 3v1.5a.75.75 0 0 0 1.5 0V6A1.5 1.5 0 0 1 6 4.5h1.5a.75.75 0 0 0 0-1.5H6ZM16.5 3a.75.75 0 0 0 0 1.5H18A1.5 1.5 0 0 1 19.5 6v1.5a.75.75 0 0 0 1.5 0V6a3 3 0 0 0-3-3h-1.5ZM12 8.25a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5ZM4.5 16.5a.75.75 0 0 0-1.5 0V18a3 3 0 0 0 3 3h1.5a.75.75 0 0 0 0-1.5H6A1.5 1.5 0 0 1 4.5 18v-1.5ZM21 16.5a.75.75 0 0 0-1.5 0V18a1.5 1.5 0 0 1-1.5 1.5h-1.5a.75.75 0 0 0 0 1.5H18a3 3 0 0 0 3-3v-1.5Z"}))}const Qc=o.forwardRef(Zc),Xc=e=>{let{activeFilters:t,setActiveFilters:n}=e;const[r,i]=(0,o.useState)(null);o.useEffect((()=>{const e=e=>{e.target.closest(".filter-dropdown")||e.target.closest(".filter-button")||i(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const a=e=>{switch(e){case"genre":return"diverse"!==t[e];case"type":return"all"!==t[e];case"releaseYear":case"time":case"popularity":case"contentType":return"any"!==t[e];default:return!1}},s=e=>{switch(e){case"time":switch(t.time){case"any":return"Any Era";case"recent":return"Recent";case"90s00s":return"90s-00s";case"classic":return"Classics";default:return"Time"}case"type":switch(t.type){case"all":return"All";case"movie":return"Movies";case"tv":return"TV Shows";default:return"Type"}case"genre":return"diverse"===t.genre?"Genres":t.genre.charAt(0).toUpperCase()+t.genre.slice(1);case"releaseYear":return"any"===t.releaseYear?"Year":t.releaseYear;case"popularity":switch(t.popularity){case"any":default:return"Popularity";case"high":return"Popular";case"medium":return"Moderate";case"low":return"Hidden Gems"}case"contentType":return"any"===t.contentType?"Content":t.contentType.charAt(0).toUpperCase()+t.contentType.slice(1);default:return"Filter"}},l=(e,t,n)=>{const l=a(e),u=(e=>{const t=a(e);switch(e){case"time":return t?o.createElement($c,{className:"w-3.5 h-3.5"}):o.createElement(Uo,{className:"w-3.5 h-3.5"});case"type":return t?o.createElement(hc,{className:"w-3.5 h-3.5"}):o.createElement(Pc,{className:"w-3.5 h-3.5"});case"genre":return t?o.createElement(Kc,{className:"w-3.5 h-3.5"}):o.createElement(Oc,{className:"w-3.5 h-3.5"});case"releaseYear":return t?o.createElement(Yc.A,{className:"w-3.5 h-3.5"}):o.createElement(Mc,{className:"w-3.5 h-3.5"});case"popularity":return t?o.createElement(Jc,{className:"w-3.5 h-3.5"}):o.createElement(Lc,{className:"w-3.5 h-3.5"});case"contentType":return t?o.createElement(Qc,{className:"w-3.5 h-3.5"}):o.createElement(jc,{className:"w-3.5 h-3.5"});default:return o.createElement(Oo,{className:"w-3.5 h-3.5"})}})(e),d=s(e);return o.createElement("div",{className:"relative"},o.createElement(fo.P.button,{className:"filter-button flex items-center space-x-1.5 px-3 py-1.5 rounded-lg text-xs transition-all\n            "+(r===e?"bg-indigo-600 text-white":l?"bg-indigo-600/40 text-white border border-indigo-500/50":"bg-gray-700/80 text-gray-300 hover:bg-gray-600 hover:text-white border border-gray-600/50"),onClick:()=>(e=>{i(r===e?null:e)})(e),whileHover:{scale:1.03},whileTap:{scale:.97}},u,o.createElement("span",null,l?d:t)),o.createElement(To,null,r===e&&c(e)))},c=e=>{let r=[];switch(e){case"time":r=[{label:"Any Era",value:"any",icon:o.createElement(Uo,{className:"w-4 h-4"})},{label:"Recent (Last 5 Years)",value:"recent",icon:o.createElement(Uo,{className:"w-4 h-4"})},{label:"90s & 00s",value:"90s00s",icon:o.createElement(Uo,{className:"w-4 h-4"})},{label:"Classics (20+ Years)",value:"classic",icon:o.createElement(Uo,{className:"w-4 h-4"})}];break;case"type":r=[{label:"All Types",value:"all",icon:o.createElement(Pc,{className:"w-4 h-4"})},{label:"Movies Only",value:"movie",icon:o.createElement(Pc,{className:"w-4 h-4"})},{label:"TV Shows Only",value:"tv",icon:o.createElement(Pc,{className:"w-4 h-4"})}];break;case"genre":r=[{label:"Diverse Genres",value:"diverse",icon:o.createElement(Oc,{className:"w-4 h-4"})},{label:"Action",value:"action",icon:o.createElement(Oc,{className:"w-4 h-4"})},{label:"Comedy",value:"comedy",icon:o.createElement(Oc,{className:"w-4 h-4"})},{label:"Drama",value:"drama",icon:o.createElement(Oc,{className:"w-4 h-4"})},{label:"Sci-Fi",value:"scifi",icon:o.createElement(Oc,{className:"w-4 h-4"})},{label:"Horror",value:"horror",icon:o.createElement(Oc,{className:"w-4 h-4"})},{label:"Romance",value:"romance",icon:o.createElement(Oc,{className:"w-4 h-4"})},{label:"Animation",value:"animation",icon:o.createElement(Oc,{className:"w-4 h-4"})},{label:"Fantasy",value:"fantasy",icon:o.createElement(Oc,{className:"w-4 h-4"})},{label:"Thriller",value:"thriller",icon:o.createElement(Oc,{className:"w-4 h-4"})}];break;case"releaseYear":const e=(new Date).getFullYear();r=[{label:"Any Year",value:"any",icon:o.createElement(Mc,{className:"w-4 h-4"})},...Array.from({length:10},((t,n)=>e-n)).map((e=>({label:e.toString(),value:e.toString(),icon:o.createElement(Mc,{className:"w-4 h-4"})}))),{label:"2010s",value:"2010s",icon:o.createElement(Mc,{className:"w-4 h-4"})},{label:"2000s",value:"2000s",icon:o.createElement(Mc,{className:"w-4 h-4"})},{label:"1990s",value:"1990s",icon:o.createElement(Mc,{className:"w-4 h-4"})},{label:"Before 1990",value:"pre1990",icon:o.createElement(Mc,{className:"w-4 h-4"})}];break;case"popularity":r=[{label:"Any Popularity",value:"any",icon:o.createElement(Lc,{className:"w-4 h-4"})},{label:"Very Popular",value:"high",icon:o.createElement(Lc,{className:"w-4 h-4"})},{label:"Moderately Popular",value:"medium",icon:o.createElement(Lc,{className:"w-4 h-4"})},{label:"Hidden Gems",value:"low",icon:o.createElement(Lc,{className:"w-4 h-4"})}];break;case"contentType":r=[{label:"Any Content",value:"any",icon:o.createElement(jc,{className:"w-4 h-4"})},{label:"Animation",value:"animation",icon:o.createElement(jc,{className:"w-4 h-4"})},{label:"Documentary",value:"documentary",icon:o.createElement(jc,{className:"w-4 h-4"})},{label:"Reality TV",value:"reality",icon:o.createElement(jc,{className:"w-4 h-4"})},{label:"Foreign Language",value:"foreign",icon:o.createElement(jc,{className:"w-4 h-4"})},{label:"Family Friendly",value:"family",icon:o.createElement(jc,{className:"w-4 h-4"})}]}return o.createElement(fo.P.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},className:"filter-dropdown absolute mt-2 z-50 w-auto min-w-[180px] "+(window.innerWidth<640?"left-0 right-0":["time","type","genre","releaseYear","popularity","contentType"].indexOf(e)<3?"left-0":"right-0")},o.createElement("div",{className:"bg-gray-800/95 backdrop-blur-lg border border-gray-600/60 rounded-lg shadow-xl p-1.5"},o.createElement("div",{className:"max-h-[300px] overflow-y-auto custom-scrollbar"},r.map((r=>o.createElement(fo.P.button,{key:r.value,onClick:()=>{n((t=>({...t,[e]:r.value}))),i(null)},className:"w-full flex items-center px-3 py-2 text-sm text-gray-300 hover:bg-indigo-600/40 rounded-md transition-colors "+(t[e]===r.value?"bg-indigo-600/70 text-white font-medium":""),whileHover:{backgroundColor:"rgba(99, 102, 241, 0.2)"},whileTap:{scale:.98}},r.icon,o.createElement("span",{className:"ml-2"},r.label)))))))},u=(e,t)=>{n((n=>({...n,[e]:t})))};return o.createElement(fo.P.div,{className:"w-full rounded-xl bg-gray-800/80 backdrop-blur-md p-3 sm:p-4 border border-gray-700/60 shadow-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0}},o.createElement("div",{className:"mb-4"},o.createElement("div",{className:"flex justify-between items-center mb-2"},o.createElement("h3",{className:"text-sm font-medium text-gray-300"},"Search Mode"),o.createElement(fo.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{n({searchMode:t.searchMode,genre:"diverse",type:"all",time:"any",releaseYear:"any",popularity:"any",contentType:"any"})},className:"text-xs text-indigo-400 hover:text-indigo-300 px-2 py-1 rounded-md hover:bg-indigo-900/30 transition-colors"},"Reset Filters")),o.createElement("div",{className:"flex p-1 rounded-lg bg-gray-900/50 border border-gray-700/50 shadow-inner"},o.createElement(fo.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u("searchMode","smart"),className:"flex items-center justify-center space-x-1.5 px-3 py-2 rounded-md text-sm font-medium flex-1 transition-all "+("smart"===t.searchMode?"bg-indigo-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700/70")},o.createElement(zc,{className:"w-4 h-4"}),o.createElement("span",null,"Smart Search")),o.createElement(fo.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u("searchMode","direct"),className:"flex items-center justify-center space-x-1.5 px-3 py-2 rounded-md text-sm font-medium flex-1 transition-all "+("direct"===t.searchMode?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700/70")},o.createElement(Hc,{className:"w-4 h-4"}),o.createElement("span",null,"Direct Title Search"))),o.createElement("p",{className:"text-xs text-gray-400 mt-1.5"},"direct"===t.searchMode?"Search by exact title to find specific movies and shows":"AI-powered search that understands what you're looking for")),o.createElement("div",{className:"mb-2"},o.createElement("h3",{className:"text-sm font-medium text-gray-300 mb-2"},"Filters"),o.createElement("div",{className:"flex flex-wrap gap-2"},l("type","Type"),l("genre","Genre"),l("time","Time"),l("releaseYear","Year"),l("popularity","Popularity"),l("contentType","Content"))),Object.entries(t).some((e=>{let[t,n]=e;return"searchMode"!==t&&("genre"===t&&"diverse"!==n||"type"===t&&"all"!==n||"genre"!==t&&"type"!==t&&"any"!==n)}))&&o.createElement("div",{className:"mt-3 bg-indigo-900/20 rounded-lg p-2 border border-indigo-800/30"},o.createElement("div",{className:"flex items-center text-xs text-indigo-300"},o.createElement(Oo,{className:"w-3.5 h-3.5 mr-1.5"}),o.createElement("span",{className:"font-medium"},"Active filters:"),o.createElement("div",{className:"flex-1 flex flex-wrap gap-1 ml-2"},Object.entries(t).map((e=>{let[t,n]=e;return"searchMode"===t||"genre"===t&&"diverse"===n||"type"===t&&"all"===n||"genre"!==t&&"type"!==t&&"any"===n?null:o.createElement("span",{key:t,className:"inline-flex items-center bg-indigo-800/70 text-indigo-200 rounded-full px-2 py-0.5"},s(t))}))))))};function eu({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"}),o.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const tu=o.forwardRef(eu);function nu({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"}))}const ru=o.forwardRef(nu);function iu({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const ou=o.forwardRef(iu),au=o.memo((e=>{let{query:t,setQuery:n,handleSearch:r,isLoading:i,isFocused:a,setIsFocused:s,suggestions:l,handleSuggestionClick:c,handleSuggestionHover:u,searchMode:d="smart"}=e;const h=(0,o.useRef)(null),[f,p]=(0,o.useState)(t),m=(0,o.useRef)(null),[g,y]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const e=setTimeout((()=>{n(f)}),200);return()=>clearTimeout(e)}),[f,n]),(0,o.useEffect)((()=>{p(t)}),[t]);const v=(0,o.useCallback)((e=>{"Escape"===e.key&&s(!1)}),[s]);return(0,o.useEffect)((()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[s]),o.createElement("div",{className:"relative w-full flex justify-center",style:{zIndex:50},ref:m},o.createElement(fo.P.form,{onSubmit:e=>{e.preventDefault(),r(e)},className:"relative w-full",style:{zIndex:50},animate:{scale:g?1.01:1},transition:{type:"spring",stiffness:300,damping:20}},o.createElement("div",{className:`flex items-center bg-gray-800/80 backdrop-blur-md rounded-xl border transition-all duration-300 shadow-xl\n          ${g?"direct"===d?"border-blue-600/70":"border-indigo-500/70":"border-gray-700/50"} ${g?"direct"===d?"focus-within:ring-blue-600/30":"focus-within:ring-indigo-500/30":"focus-within:ring-gray-500/20"} focus-within:ring-4`},o.createElement(su,{isLoading:i,searchMode:d}),o.createElement(lu,{inputRef:h,localQuery:f,setLocalQuery:p,handleFocus:()=>{y(!0),s(!0)},handleBlur:()=>{y(!1),setTimeout((()=>s(!1)),150)},handleKeyDown:v,searchMode:d}),f&&o.createElement(fo.P.button,{type:"button",onClick:()=>{var e;p(""),null===(e=h.current)||void 0===e||e.focus()},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.1},whileTap:{scale:.9},className:"flex-shrink-0 px-1 text-gray-400 hover:text-gray-200 transition-colors","aria-label":"Clear search"},o.createElement(ca,{className:"w-5 h-5"})),o.createElement(cu,{isLoading:i,searchMode:d})),o.createElement(uu,{suggestions:l,isFocused:a,handleSuggestionClick:c,handleSuggestionHover:u,inputRef:h,searchMode:d})))})),su=o.memo((e=>{let{isLoading:t,searchMode:n}=e;const r=t?"text-white":"direct"===n?"text-blue-400":"text-indigo-400";return o.createElement(fo.P.div,{className:`pl-3 sm:pl-4 py-2.5 ${r}`,animate:{rotate:t?[0,360]:0},transition:{repeat:t?1/0:0,duration:t?1.5:0},title:"direct"===n?"Search for exact titles":"Smart search for movies or shows"},"      ",t?o.createElement(gc,{className:"w-5 h-5 sm:w-5 sm:h-5"}):"direct"===n?o.createElement(tu,{className:"w-5 h-5 sm:w-5 sm:h-5"}):o.createElement(ru,{className:"w-5 h-5 sm:w-5 sm:h-5"}))})),lu=o.memo((e=>{let{inputRef:t,localQuery:n,setLocalQuery:r,handleFocus:i,handleBlur:a,handleKeyDown:s,searchMode:l}=e;const[c,u]=(0,o.useState)(0),d="direct"===l?["Enter exact title to find...","Type 'Solo Leveling' to find the show","Type 'Oppenheimer' to find the movie","Search for any movie or TV show by name"]:["Search for movies or TV shows...","Try 'comedy movies with dragons'","Try 'something funny for date night'","Try 'movies like Deadpool but family-friendly'","Try 'documentaries about space from 2020s'","Try 'movies to watch when feeling sad'"];return(0,o.useEffect)((()=>{const e=setInterval((()=>{u((e=>(e+1)%d.length))}),5e3);return()=>clearInterval(e)}),[d.length]),o.createElement("input",{ref:t,type:"text",value:n,onChange:e=>r(e.target.value),onFocus:i,onBlur:a,onKeyDown:s,className:"w-full px-3 py-3 sm:py-3.5 bg-transparent border-none outline-none text-sm sm:text-base text-gray-100 placeholder-gray-400",placeholder:d[c],"aria-label":"direct"===l?"Direct title search":"Search for content",autoComplete:"off"})})),cu=o.memo((e=>{let{isLoading:t,searchMode:n}=e;const r="direct"===n?"bg-blue-600 hover:bg-blue-500 text-white ring-blue-400/50 hover:ring-blue-400/70":"bg-indigo-600 hover:bg-indigo-500 text-white ring-indigo-400/50 hover:ring-indigo-400/70";return o.createElement("div",{className:"pr-3 sm:pr-3.5"},o.createElement(fo.P.button,{type:"submit",disabled:t,whileHover:{scale:1.05},whileTap:{scale:.9},className:`px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium rounded-lg \n          transition-all duration-300 shadow-lg ring-1 hover:ring-2 \n          disabled:opacity-70 disabled:cursor-not-allowed\n          ${r}`},t?"Searching...":"direct"===n?"Find":"Search"))})),uu=o.memo((e=>{let{suggestions:t,isFocused:n,handleSuggestionClick:r,handleSuggestionHover:i,inputRef:a,searchMode:s}=e;const l=(0,o.useRef)(null);if((0,o.useEffect)((()=>{const e=e=>{if(!n||!l.current)return;const t=l.current.querySelectorAll(".suggestion-item");if(!t.length)return;const r=Array.from(t).findIndex((e=>e===document.activeElement));"ArrowDown"===e.key?(e.preventDefault(),t[r<0?0:(r+1)%t.length].focus()):"ArrowUp"===e.key?(e.preventDefault(),t[r<0?t.length-1:(r-1+t.length)%t.length].focus()):"Enter"===e.key&&document.activeElement.classList.contains("suggestion-item")&&(e.preventDefault(),document.activeElement.click())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[n]),null==t||!t.length||!n)return null;const c="direct"===s?"border-blue-600/40":"border-indigo-700/50";return o.createElement(fo.P.div,{ref:l,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:`absolute top-full left-0 right-0 mt-2 rounded-xl shadow-2xl border ${c} \n        bg-gray-800/95 from-gray-800/90 to-gray-900/95 backdrop-blur-lg overflow-hidden z-50`,style:{maxHeight:"300px",overflowY:"auto",scrollBehavior:"smooth"}},o.createElement("div",{className:"py-1.5"},t.map(((e,t)=>o.createElement(du,{key:t,suggestion:e,handleClick:()=>r(e),handleHover:()=>i(e),searchMode:s})))))})),du=o.memo((e=>{let{suggestion:t,handleClick:n,handleHover:r,searchMode:i}=e;const a="direct"===i?"hover:bg-blue-800/50 group":"hover:bg-indigo-800/50 group";return o.createElement(fo.P.button,{className:`suggestion-item w-full text-left px-4 py-2.5 ${a} flex items-center justify-between transition-colors duration-200`,onClick:n,onMouseEnter:r,whileHover:{backgroundColor:"rgba(79, 70, 229, 0.2)"},tabIndex:0},"      ",o.createElement("div",{className:"flex items-center"},o.createElement(ou,{className:"w-4 h-4 mr-2 text-gray-400 group-hover:text-gray-200"}),o.createElement("span",{className:"text-gray-200 group-hover:text-white font-medium"},t.title||t.text)),t.type&&o.createElement("span",{className:`text-xs font-medium py-0.5 px-2 rounded-full ${(()=>{if("direct"===i)return"movie"===t.type?"bg-blue-700/80 text-blue-200":"bg-blue-600/80 text-blue-200";switch(t.type){case"movie":return"bg-indigo-700/80 text-indigo-100";case"tv":return"bg-purple-700/80 text-purple-100";case"person":return"bg-emerald-700/80 text-emerald-100";case"query":return"bg-amber-700/80 text-amber-100";default:return"bg-gray-700/80 text-gray-100"}})()} ml-2 transition-colors duration-200`},t.type))})),hu=e=>{let{children:t,className:n="",style:r={},maxHeight:i="auto",showShadows:a=!0,onScroll:s=null}=e;const l=(0,o.useRef)(null),[c,u]=o.useState(!1),[d,h]=o.useState(!1);(0,o.useEffect)((()=>{if(!l.current||!a)return;const{scrollHeight:e,clientHeight:t}=l.current;e>t&&h(!0)}),[t,a]);const f=a?[c?"shadow-inner-top":"",d?"shadow-inner-bottom":""].filter(Boolean).join(" "):"";return o.createElement(fo.P.div,{ref:l,className:`custom-scrollbar ${f} ${n}`,style:{maxHeight:i,overflowY:"auto",position:"relative",...r},onScroll:()=>{if(!l.current||!a)return;const{scrollTop:e,scrollHeight:t,clientHeight:n}=l.current;u(e>10),h(e+n<t-10),s&&s(l.current)},initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},t)},fu=o.memo((e=>{let{result:t,currentUser:n,handleResultClick:r}=e;const[i,a]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0px";const[t,n]=(0,o.useState)(!1),r=(0,o.useRef)(null);return(0,o.useEffect)((()=>{const t=r.current;if(!t)return;const i=new IntersectionObserver((e=>{let[t]=e;n(t.isIntersecting)}),{rootMargin:e});return i.observe(t),()=>{t&&i.unobserve(t)}}),[e]),[r,t]}("200px"),[s,l]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{a&&!s&&l(!0)}),[a,s]),o.createElement(fo.P.div,{ref:i,key:`${t.id}-${t.media_type}`,initial:{opacity:0,y:20},animate:a||s?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.3},className:"h-full",layout:!0},(a||s)&&o.createElement(Go.default,{result:t,currentUser:n,onClick:()=>r(t),promptLogin:()=>{}}))})),pu=o.memo((e=>{let{hasSearched:t,isLoading:n,displayedResults:r,handleResultClick:i,currentUser:a}=e;const s=(0,o.useCallback)((()=>{try{return r.map((e=>o.createElement(fu,{key:`${e.id}-${e.media_type}`,result:e,currentUser:a,handleResultClick:i})))}catch(e){return console.error("Error rendering media results:",e),o.createElement("div",{className:"col-span-full p-4 bg-red-100 text-red-800 rounded-lg"},o.createElement("p",null,"Error displaying results. Please try refreshing the page."))}}),[r,a,i]),l=(0,o.useMemo)((()=>t?n?o.createElement(fo.P.div,{className:"flex justify-center items-center py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2}},o.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})):0===r.length?o.createElement(fo.P.div,{className:"text-center py-8 text-gray-400",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},"No results found. Try a different search."):o.createElement(hu,{key:r.map((e=>e.id)).join("-"),className:"overflow-x-hidden"},o.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 py-4 px-2 md:px-0 w-full"},s())):o.createElement(fo.P.div,{className:"text-center py-8 text-gray-400",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},"Search for movies or TV shows to see results")),[t,n,r,s]);return o.createElement("div",{className:"search-results-container w-full"},o.createElement(To,{mode:"wait"},l))})),mu=e=>{let{error:t,isVisible:n}=e;return o.createElement(To,null,n&&t&&o.createElement(fo.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 text-red-500 text-center text-lg bg-red-50 px-4 py-2 rounded-full shadow-sm z-50"},t))};var gu=i(7530);const yu={movie:new Map([[12,"Adventure"],[14,"Fantasy"],[16,"Animation"],[18,"Drama"],[27,"Horror"],[28,"Action"],[35,"Comedy"],[36,"History"],[37,"Western"],[53,"Thriller"],[80,"Crime"],[99,"Documentary"],[878,"Science Fiction"],[9648,"Mystery"],[10402,"Music"],[10749,"Romance"],[10751,"Family"],[10752,"War"]]),tv:new Map([[16,"Animation"],[18,"Drama"],[35,"Comedy"],[37,"Western"],[80,"Crime"],[99,"Documentary"],[9648,"Mystery"],[10751,"Family"],[10759,"Action & Adventure"],[10762,"Kids"],[10763,"News"],[10764,"Reality"],[10765,"Sci-Fi & Fantasy"],[10766,"Soap"],[10767,"Talk"],[10768,"War & Politics"]])};function vu({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const bu=o.forwardRef(vu);function wu({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M3.792 2.938A49.069 49.069 0 0 1 12 2.25c2.797 0 5.54.236 8.209.688a1.857 1.857 0 0 1 1.541 1.836v1.044a3 3 0 0 1-.879 2.121l-6.182 6.182a1.5 1.5 0 0 0-.439 1.061v2.927a3 3 0 0 1-1.658 2.684l-1.757.878A.75.75 0 0 1 9.75 21v-5.818a1.5 1.5 0 0 0-.44-1.06L3.13 7.938a3 3 0 0 1-.879-2.121V4.774c0-.897.64-1.683 1.542-1.836Z",clipRule:"evenodd"}))}const xu=o.forwardRef(wu);function Eu({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{d:"M7.5 3.375c0-1.036.84-1.875 1.875-1.875h.375a3.75 3.75 0 0 1 3.75 3.75v1.875C13.5 8.161 14.34 9 15.375 9h1.875A3.75 3.75 0 0 1 21 12.75v3.375C21 17.16 20.16 18 19.125 18h-9.75A1.875 1.875 0 0 1 7.5 16.125V3.375Z"}),o.createElement("path",{d:"M15 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 17.25 7.5h-1.875A.375.375 0 0 1 15 7.125V5.25ZM4.875 6H6v10.125A3.375 3.375 0 0 0 9.375 19.5H16.5v1.125c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V7.875C3 6.839 3.84 6 4.875 6Z"}))}const Su=o.forwardRef(Eu);function ku({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const Cu=o.forwardRef(ku),_u=(0,o.lazy)((()=>Promise.resolve().then(i.bind(i,9727)))),Tu=e=>{let{currentUser:t,onMediaClick:n}=e;const[r,i]=(0,o.useState)(!1),[a,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)(!1),u=(0,o.useRef)(null),{query:d,setQuery:h,activeFilters:f,setActiveFilters:p,hasSearched:m,isLoading:g,displayedResults:y,filteredResults:v,error:b,isErrorVisible:w,isFocused:x,setIsFocused:E,suggestions:S,handleSearch:k,handleShowMore:C,handleSuggestionClick:_,handleSuggestionHover:T,handleResultClick:A,resultsToShow:N,setResultsToShow:I}=(()=>{const[e,t]=(0,o.useState)(""),[n,r]=(0,o.useState)([]),[i,a]=(0,o.useState)([]),[s,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)(null),[d,h]=(0,o.useState)(!1),[f,p]=(0,o.useState)(!1),[m,g]=(0,o.useState)(!1),[y,v]=(0,o.useState)(3),[b,w]=(0,o.useState)({genre:"diverse",time:"any",type:"all",releaseYear:"any",popularity:"any",contentType:"any",searchMode:"smart"}),x=(0,o.useRef)(new AbortController),E=(0,o.useRef)(null),S=((0,o.useRef)(new Map),(0,o.useCallback)((e=>{var t,n,r,i,o,a;const s=e.toLowerCase().trim(),l=[...yu.movie.values(),...yu.tv.values()],c={funny:"exciting",comedy:"exciting",laugh:"exciting",lighthearted:"exciting",happy:"exciting",upbeat:"exciting",hilarious:"exciting",humorous:"exciting",thoughtful:"thoughtful",deep:"thoughtful",meaningful:"thoughtful",profound:"thoughtful",philosophical:"thoughtful",thinking:"thoughtful",sad:"emotional",emotional:"emotional",moving:"emotional",touching:"emotional",heartwarming:"emotional",cry:"emotional",tearjerker:"emotional",scary:"scary",horror:"scary",terrifying:"scary",frightening:"scary",spooky:"scary",thriller:"scary",suspense:"scary",creepy:"scary",action:"exciting",exciting:"exciting",thrill:"exciting",adventure:"exciting",epic:"exciting","action-packed":"exciting","fast-paced":"exciting"},u={"date night":"date",date:"date","romantic evening":"date",couples:"date",family:"family",kids:"family",children:"family","all ages":"family",alone:"solo","by myself":"solo",solo:"solo",friends:"friends",group:"friends",party:"friends",educational:"learning",learn:"learning",informative:"learning"},d=e.length>2&&e.split(" ").length<=6&&!/(show me|find|looking for|suggest|recommend|watch when|movies like|shows like)/i.test(e),h=null===(t=s.match(/^(show me|find|get|give me)/i))||void 0===t?void 0:t[0],f=null===(n=s.match(/\b(20[0-9]0s|19[0-9]0s|[0-9]0s)\b/))||void 0===n?void 0:n[0],p=null===(r=s.match(/\b(19|20)\d{2}\b/))||void 0===r?void 0:r[0];let m=null;if(f){const e=f.match(/\b(20|19)?([0-9])0s\b/);if(e){const t=e[1]||"19",n=e[2],r=parseInt(`${t}${n}0`);m={start:r,end:r+9}}}const g=l.filter((e=>s.includes(e.toLowerCase()))),y=s.match(/(movies|shows|films|series)\s+like\s+([a-z0-9 ']+)(\s+but\s+([a-z0-9 ]+))?/i);let v=null,b=null;if(y&&(v=y[2].trim(),y[4])){const e=y[4].trim();/more|less|better|worse|darker|lighter/i.test(e)&&(b=/family|kid/i.test(e)?"family-friendly":/dark|serious|gritty/i.test(e)?"darker":/fun|light|happy/i.test(e)?"lighter":/scar(y|ier)|horror|terrifying/i.test(e)?"scarier":/action|exciting|thrill/i.test(e)?"more-action":/drama|emotional|moving/i.test(e)?"more-dramatic":/comedy|funny|humor/i.test(e)?"funnier":"general-modifier")}const w=Object.keys(c).filter((e=>s.includes(e))),x=w.length>0?c[w[0]]:null,E=Object.keys(u).filter((e=>s.includes(e))),S=E.length>0?u[E[0]]:null,k=null===(i=s.match(/when\s+(feeling|i'?m|im|i am)\s+([a-z]+)/i))||void 0===i?void 0:i[2];return{genres:g,year:p,decade:f,timeRange:m,person:null===(o=s.match(/(?:starring|with|directed by|by)\s+([a-z]+\s[a-z]+)/i))||void 0===o?void 0:o[1],explicitType:null===(a=s.match(/(movie|film|show|series)/i))||void 0===a?void 0:a[0],isLikelyTitle:d,imperative:h,subjects:["dragons","space","zombies","vampires","superheroes","magic","time travel","robots","aliens","dinosaurs","war","history","fantasy","future","dystopian","post-apocalyptic","medieval","western","crime","heist","spy","mystery","politics","sports","music","art","food","travel","nature","animals","ocean","adventure","romance","coming of age","high school","college","workplace","family","friendship"].filter((e=>s.includes(e))),similarTo:v,modifierType:b,mood:x,context:S,emotionalState:k}}),[])),k=(0,o.useCallback)(((e,t,n)=>{const r=(e.title||e.name||"").toLowerCase(),i=(e.overview||"").toLowerCase(),o=t.toLowerCase(),a=o.split(" ").filter((e=>e.length>1)),s=r===o?50:0,l=r.startsWith(o)?30:0,c=r.includes(o)?20:0,u=a.filter((e=>r.includes(e))).length,d=15*(a.length>0?u/a.length:0)*a.length,h=a.filter((e=>i.includes(e))).length;let f=0;n.subjects.length>0&&(f=15*n.subjects.filter((e=>i.includes(e.toLowerCase())||r.includes(e.toLowerCase()))).length);let p=0;if(n.timeRange){const t=new Date(e.release_date||e.first_air_date||Date.now()).getFullYear();t>=n.timeRange.start&&t<=n.timeRange.end&&(p=10)}let m=0;if(n.mood){const t={exciting:[28,12,35,10751,10752],thoughtful:[18,99,36,9648],emotional:[10749,18,10751],scary:[27,9648,53]};t[n.mood]&&e.genre_ids.some((e=>t[n.mood].includes(e)))&&(m=20)}let g=0;if(n.context){const t={date:[10749,35,18],family:[10751,16,12,35],friends:[35,28,12],solo:[18,9648,53,878],learning:[99,36]};t[n.context]&&e.genre_ids.some((e=>t[n.context].includes(e)))&&(g=15)}let y=0;if(n.emotionalState){const t={sad:[35,12,10751,16],happy:[35,10749,10751],bored:[28,12,878,53],stressed:[35,10751,14],lonely:[10749,18,35],tired:[35,16,10751],angry:[35,10751,14,16]},r=n.emotionalState.toLowerCase();t[r]&&e.genre_ids.some((e=>t[r].includes(e)))&&(y=25)}let v=0;n.similarTo&&e.similarityScore&&(v=.5*e.similarityScore);const b=Math.log10(e.popularity+1),w=new Date(e.release_date||e.first_air_date||Date.now()).getFullYear(),x=(new Date).getFullYear(),E=n.isLikelyTitle?2:1;return Math.min(s+l+c+d*E+.2*h+f+p+m+g+y+v+.3*b+e.vote_average/10*2+-.1*(x-w)+C(e,n),100)}),[C]),C=(0,o.useCallback)(((e,t)=>{var n;let r=0;const i=e.media_type||"movie";if(t.genres&&t.genres.length>0){const n=t.genres.filter((t=>{var n,r;const o=null===(n=[...yu[i]].find((e=>{let[n,r]=e;return r===t})))||void 0===n?void 0:n[0];return o&&(null===(r=e.genre_ids)||void 0===r?void 0:r.includes(o))})).length;n>0&&(r+=5*n)}if(t.year&&null!==(n=e.release_date||e.first_air_date)&&void 0!==n&&n.includes(t.year)&&(r+=10),t.timeRange){const n=new Date(e.release_date||e.first_air_date||Date.now()).getFullYear();n>=t.timeRange.start&&n<=t.timeRange.end&&(r+=8)}if(t.explicitType){const e=t.explicitType.toLowerCase(),n=e.includes("movie")||e.includes("film"),o=e.includes("show")||e.includes("series")||e.includes("tv");(n&&"movie"===i||o&&"tv"===i)&&(r+=12)}return r}),[]),_=((0,o.useCallback)((e=>"fulfilled"===e.status?e.value:[]),[]),(0,o.useCallback)((e=>e&&(e.title||e.name)&&(e.poster_path||e.backdrop_path)&&e.overview&&e.overview.length>20),[])),T=(0,o.useCallback)((async(e,t,n)=>{try{const n=[M(e),U(e),L(e),F(e),j(t)],r=(await Promise.allSettled(n)).flatMap((e=>{let{value:t=[]}=e;return t})).concat(t).filter((e=>(null==e?void 0:e.id)&&_(e)));return[...new Map(r.map((e=>[e.id,e]))).values()].filter((t=>t.id!==(null==e?void 0:e.id))).slice(0,10)}catch(e){return console.error("Recommendations error:",e),t.slice(0,10)}}),[M,U,L,F,j,_]),A=(0,o.useMemo)((()=>{if(!n.length)return[];const e=(new Date).getFullYear();return n.filter((t=>{if(!t.media_type||!t.title&&!t.name)return!1;const n=t.release_date||t.first_air_date||"";if(!n)return!1;const r=new Date(n).getFullYear();if(isNaN(r))return!1;switch(b.time){case"recent":if(e-r>5)return!1;break;case"classic":if(e-r<=20)return!1;break;case"90s00s":if(r<1990||r>2009)return!1}if("all"!==b.type&&t.media_type!==b.type)return!1;if("any"!==b.releaseYear){const e=parseInt(b.releaseYear,10);if(!isNaN(e)&&r!==e)return!1}if("any"!==b.popularity){const e=t.popularity||0;switch(b.popularity){case"high":if(e<50)return!1;break;case"medium":if(e<20||e>=50)return!1;break;case"low":if(e>=20)return!1}}if("any"!==b.contentType){if("movie"===t.media_type){var i,o;if("documentary"===b.contentType&&(null===(i=t.genre_ids)||void 0===i||!i.includes(99)))return!1;if("animation"===b.contentType&&(null===(o=t.genre_ids)||void 0===o||!o.includes(16)))return!1}if("tv"===t.media_type){var a,s;if("reality"===b.contentType&&(null===(a=t.genre_ids)||void 0===a||!a.includes(10764)))return!1;if("animation"===b.contentType&&(null===(s=t.genre_ids)||void 0===s||!s.includes(16)))return!1}}return!0})).sort(((e,t)=>{if("high"===b.popularity)return t.popularity-e.popularity;if("any"!==b.releaseYear){const n=new Date(e.release_date||e.first_air_date).getFullYear(),r=new Date(t.release_date||t.first_air_date).getFullYear(),i=parseInt(b.releaseYear,10);if(n===i&&r!==i)return-1;if(r===i&&n!==i)return 1}return t.popularity-e.popularity||t.vote_average-e.vote_average}))}),[n,b]),N=(0,o.useMemo)((()=>A.slice(0,y)),[A,y]),I=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;u(e),h(!0),E.current&&clearTimeout(E.current),E.current=setTimeout((()=>h(!1)),t)}),[]),P=(0,o.useCallback)((async(e,t)=>{try{return(await(0,gu.J5)("https://api.themoviedb.org/3/search/multi",{api_key:"b484a8d608caf759d5d575db3ec03bbc",query:e,include_adult:!1,language:"en-US",page:1},{signal:t})).data.results.filter((e=>e.title||e.name)).slice(0,3).map((e=>({id:e.id,title:e.title||e.name,type:e.media_type})))}catch(e){return"AbortError"!==e.name&&(console.error("Error fetching suggestions:",e),I("Error fetching suggestions. Please try again.")),[]}}),[I]);(0,o.useEffect)((()=>{const t=new AbortController;x.current=t;const n=setTimeout((async()=>{if(e.trim().length<2)a([]);else try{const n=await P(e,t.signal);t.signal.aborted||a(n)}catch(e){"AbortError"!==e.name&&(console.error("Error fetching suggestions:",e),I("Error fetching suggestions. Please try again."))}}),300);return()=>{t.abort(),clearTimeout(n)}}),[e,P,I]);const R=(0,o.useCallback)((async t=>{if(null==t||t.preventDefault(),e.trim())try{x.current.abort();const t=new AbortController;if(x.current=t,l(!0),u(null),h(!1),g(!0),r([]),v(3),"direct"===b.searchMode)return void await D(e,t.signal);const i=S(e);if(i.similarTo)return void await O(e,i,t.signal);try{let o,a={api_key:"b484a8d608caf759d5d575db3ec03bbc",query:i.isLikelyTitle?e:e.replace(/^(show me|find|get|give me)\s+/i,""),include_adult:!1,language:"en-US",page:1},s="search/multi";try{o=await(0,gu.J5)(`https://api.themoviedb.org/3/${s}`,a,{signal:t.signal})}catch(e){throw console.error("Error during search API call:",e),new Error(`Search API error: ${e.message}`)}let c=[];try{var n;if(null===(n=o)||void 0===n||null===(n=n.data)||void 0===n||!n.results)throw new Error("Search response missing results array");c=o.data.results.filter((e=>e&&(e.title||e.name)&&"person"!==e.media_type))}catch(e){throw console.error("Error processing search results:",e),new Error(`Results processing error: ${e.message}`)}if(!c.length)return I("No results found for your search."),void l(!1);r(c.map((t=>({...t,matchPercentage:k(t,e,i),queryIntent:i}))))}catch(e){"AbortError"!==e.name&&(console.error("Search process error:",e),I("Search failed. Please check your connection and try again."))}}catch(e){console.error("Outer search handler error:",e),I("An unexpected error occurred. Please try again.")}finally{l(!1)}}),[e,b,I,k,S,T,D,O]),O=(0,o.useCallback)((async(e,t,n)=>{try{var i,o;const e=await(0,gu.J5)("https://api.themoviedb.org/3/search/multi",{api_key:"b484a8d608caf759d5d575db3ec03bbc",query:t.similarTo,include_adult:!1,language:"en-US",page:1},{signal:n});if(!e.data.results||0===e.data.results.length){const e=await(0,gu.J5)("https://api.themoviedb.org/3/search/multi",{api_key:"b484a8d608caf759d5d575db3ec03bbc",query:t.similarTo,include_adult:!0,language:"en-US",page:1},{signal:n});return e.data.results&&0!==e.data.results.length?(r(e.data.results.filter((e=>"movie"===e.media_type||"tv"===e.media_type)).map((e=>({...e,matchPercentage:50,queryIntent:{...t,directSearch:!0}})))),void l(!1)):(I(`Couldn't find anything related to "${t.similarTo}". Try another title.`),void l(!1))}const a=e.data.results.filter((e=>"movie"===e.media_type||"tv"===e.media_type)).sort(((e,t)=>t.popularity-e.popularity))[0];if(!a)return I(`Couldn't find "${t.similarTo}". Try another title.`),void l(!1);const s=(await(0,gu.J5)(`https://api.themoviedb.org/3/${a.media_type}/${a.id}`,{api_key:"b484a8d608caf759d5d575db3ec03bbc",append_to_response:"keywords,credits"},{signal:n})).data,c=["anime","animation","manga","japanese animation"],u=(null===(i=s.genres)||void 0===i?void 0:i.some((e=>"Animation"===e.name)))&&(((null===(o=s.keywords)||void 0===o?void 0:o.keywords)||[]).some((e=>c.includes(e.name.toLowerCase())))||(a.title||a.name||"").toLowerCase().includes("anime"));let d=[];try{if(d=(await(0,gu.J5)(`https://api.themoviedb.org/3/${a.media_type}/${a.id}/similar`,{api_key:"b484a8d608caf759d5d575db3ec03bbc"},{signal:n})).data.results.map((e=>({...e,media_type:a.media_type}))),d.length<5){const e=(await(0,gu.J5)(`https://api.themoviedb.org/3/${a.media_type}/${a.id}/recommendations`,{api_key:"b484a8d608caf759d5d575db3ec03bbc"},{signal:n})).data.results.map((e=>({...e,media_type:a.media_type}))),t=new Set(d.map((e=>e.id)));for(const n of e)t.has(n.id)||(d.push(n),t.add(n.id))}if((u||d.length<3)&&s.genres){const e=s.genres.map((e=>e.id)).join(","),t=(await(0,gu.J5)(`https://api.themoviedb.org/3/discover/${a.media_type}`,{api_key:"b484a8d608caf759d5d575db3ec03bbc",with_genres:u?"16,"+e:e,sort_by:"popularity.desc",page:1,...u?{with_original_language:"ja"}:{}},{signal:n})).data.results.map((e=>({...e,media_type:a.media_type})));if(u&&t.length>0)try{const r=await(0,gu.J5)(`https://api.themoviedb.org/3/discover/${a.media_type}`,{api_key:"b484a8d608caf759d5d575db3ec03bbc",with_genres:"16,"+e,sort_by:"popularity.desc",with_original_language:"ja",page:2},{signal:n});t.push(...r.data.results.map((e=>({...e,media_type:a.media_type}))))}catch(e){console.warn("Error fetching second page:",e)}const r=new Set(d.map((e=>e.id)));for(const e of t)r.has(e.id)||e.id===a.id||(d.push(e),r.add(e.id))}0===d.length&&(d=(await(0,gu.J5)("https://api.themoviedb.org/3/search/multi",{api_key:"b484a8d608caf759d5d575db3ec03bbc",query:u?"anime":"tv"===a.media_type?"tv series":"movie",include_adult:!1,language:"en-US",page:1},{signal:n})).data.results.filter((e=>e.media_type===a.media_type)).map((e=>({...e,media_type:a.media_type}))))}catch(t){console.warn("Error getting similar content, falling back to direct search:",t),d=[{...a},...e.data.results.filter((e=>("movie"===e.media_type||"tv"===e.media_type)&&e.id!==a.id)).slice(0,10)]}t.modifierType&&d.length>0&&"family-friendly"===t.modifierType&&(d=d.filter((e=>{var t,n,r;return!1===e.adult&&((null===(t=e.genre_ids)||void 0===t?void 0:t.includes(10751))||(null===(n=e.genre_ids)||void 0===n?void 0:n.includes(16))||!(null!==(r=e.genre_ids)&&void 0!==r&&r.includes(27)))})));const h=[{...a,matchPercentage:100,queryIntent:{...t,referenceName:a.title||a.name},referenceName:a.title||a.name,isReferenceMedia:!0},...d.filter((e=>e.id!==a.id)).map((e=>{const n=e.genre_ids&&s.genres?e.genre_ids.filter((e=>s.genres.map((e=>e.id)).includes(e))).length/Math.max(e.genre_ids.length,1):.5,r=Math.round(70*n),i=Math.min(Math.round((e.popularity||0)/20),15),o=Math.min(Math.round(1.5*(e.vote_average||0)),15),l=Math.max(50,Math.min(99,r+i+o));return{...e,similarityScore:l,matchPercentage:l,queryIntent:{...t,referenceName:a.title||a.name},referenceName:a.title||a.name}})).sort(((e,t)=>t.similarityScore-e.similarityScore))];r(h)}catch(e){"AbortError"!==e.name&&(console.error("Similarity search error:",e),I("Search failed. Please check your connection and try again."))}finally{l(!1)}}),[I,gu.J5,k]),D=(0,o.useCallback)((async(e,t)=>{try{l(!0);const n=await(0,gu.J5)("https://api.themoviedb.org/3/search/multi",{api_key:"b484a8d608caf759d5d575db3ec03bbc",query:e,include_adult:!1,language:"en-US",page:1},{signal:t}),i=S(e),o=n.data.results.filter((e=>e&&("movie"===e.media_type||"tv"===e.media_type)&&(e.title||e.name))).map((t=>{const n=(t.title||t.name||"").toLowerCase(),r=e.toLowerCase();let o=n===r?100:0,a=n.startsWith(r)?85:0,s=n.includes(r)?70:0;const l=Math.max(o,a,s,Math.min(60+Math.round((t.popularity||0)/10),80));return{...t,matchPercentage:l,directSearch:!0,queryIntent:i}})).sort(((e,t)=>t.matchPercentage-e.matchPercentage));0===o.length?I("No results found. Try a different search term."):(r(o),g(!0))}catch(e){"AbortError"!==e.name&&(console.error("Direct search error:",e),I("Search failed. Please try again later."))}finally{l(!1)}}),[gu.J5,I,S]),M=(0,o.useCallback)((async e=>{try{const t=await(0,gu.J5)(`https://api.themoviedb.org/3/${e.media_type}/${e.id}/credits`,{api_key:"b484a8d608caf759d5d575db3ec03bbc"}),n="tv"===e.media_type?t.data.crew.filter((e=>"Executive Producer"===e.job||"Creator"===e.department)):t.data.crew.filter((e=>"Director"===e.job));return n.length>0?await B(n[0].id):[]}catch(e){return console.error("Director recommendations error:",e),[]}}),[gu.J5,B]),U=(0,o.useCallback)((async e=>{try{var t;const n=await(0,gu.J5)(`https://api.themoviedb.org/3/${e.media_type}/${e.id}/credits`,{api_key:"b484a8d608caf759d5d575db3ec03bbc"});if(null==n||null===(t=n.data)||void 0===t||!t.cast||!Array.isArray(n.data.cast))return[];const r=n.data.cast.slice(0,3);return Promise.all(r.map((e=>e.id?B(e.id):[])))}catch(e){return console.error("Cast recommendations error:",e),[]}}),[gu.J5,B]),L=(0,o.useCallback)((async e=>{const t=(await(0,gu.J5)(`https://api.themoviedb.org/3/${e.media_type}/${e.id}/keywords`,{api_key:"b484a8d608caf759d5d575db3ec03bbc"})).data.keywords.map((e=>e.id)).join(",");return t?(0,gu.J5)(`https://api.themoviedb.org/3/discover/${e.media_type}`,{with_keywords:t,api_key:"b484a8d608caf759d5d575db3ec03bbc"}).then((e=>e.data.results)):[]}),[gu.J5]),F=(0,o.useCallback)((async e=>{try{const t="tv"===e.media_type?`https://api.themoviedb.org/3/tv/${e.id}/recommendations`:`https://api.themoviedb.org/3/movie/${e.id}/similar`;return(await(0,gu.J5)(t,{api_key:"b484a8d608caf759d5d575db3ec03bbc"})).data.results||[]}catch(e){return console.error("Similar content error:",e),[]}}),[gu.J5]),j=(0,o.useCallback)((e=>Promise.all(e.slice(0,3).map((e=>(0,gu.J5)(`https://api.themoviedb.org/3/${e.media_type}/${e.id}`,{api_key:"b484a8d608caf759d5d575db3ec03bbc"}).catch((e=>(console.error("Error fetching item details:",e),null)))))).then((e=>e.filter(Boolean).map((e=>e.data))))),[gu.J5]),B=(0,o.useCallback)((async e=>(0,gu.J5)(`https://api.themoviedb.org/3/person/${e}/combined_credits`,{api_key:"b484a8d608caf759d5d575db3ec03bbc"}).then((e=>e.data.cast))),[gu.J5]),z=(0,o.useCallback)((()=>{v((e=>Math.min(e+3,9)))}),[]),V=(0,o.useCallback)((e=>{t(e.title),a([]),R()}),[R]),H=(0,o.useCallback)((async e=>{try{const{data:t}=await gu.SP.get(`https://api.themoviedb.org/3/${e.type}/${e.id}`,{params:{api_key:"b484a8d608caf759d5d575db3ec03bbc"},signal:x.current.signal});(0,gu.ZL)(t)}catch(e){"AbortError"!==e.name&&(console.error("Prefetch error:",e),I("Error prefetching data."))}}),[I]),q=(0,o.useCallback)((async e=>{if(null!=e&&e.media_type)try{const t=(await(0,gu.J5)(`https://api.themoviedb.org/3/${e.media_type}/${e.id}/external_ids`,{api_key:"b484a8d608caf759d5d575db3ec03bbc"},{signal:x.current.signal})).data.imdb_id;t?window.open(`https://www.imdb.com/title/${t}`,"_blank"):I("IMDb page not available for this title.")}catch(e){"AbortError"!==e.name&&(console.error("Error fetching external IDs:",e),I("Failed to open IMDb page. Please try again."))}else I("Unable to get details for this title.")}),[I]);return(0,o.useEffect)((()=>()=>{x.current.abort(),E.current&&clearTimeout(E.current)}),[]),(0,o.useMemo)((()=>({query:e,setQuery:t,activeFilters:b,setActiveFilters:w,hasSearched:m,isLoading:s,displayedResults:N,filteredResults:A,resultsToShow:y,error:c,isErrorVisible:d,isFocused:f,setIsFocused:p,suggestions:i,handleSearch:R,handleShowMore:z,handleSuggestionClick:V,handleSuggestionHover:H,handleResultClick:q})),[e,b,m,s,N,y,c,d,f,i,R,z,V,H,q])})(),P=(0,o.useRef)(!1);(0,o.useEffect)((()=>{const e=document.body;if(a&&(m||g)){const t=e.style.overflow;return e.style.overflow="hidden",()=>{e.style.overflow=t||""}}e.style.overflow=""}),[a,m,g]);const R=(0,o.useCallback)((e=>{null==e||e.preventDefault(),s(!0),k(e),P.current?P.current=!1:setTimeout((()=>{const e=new URLSearchParams;d&&e.set("q",d),"smart"!==f.searchMode&&e.set("mode",f.searchMode),"diverse"!==f.genre&&e.set("genre",f.genre),"any"!==f.time&&e.set("time",f.time),"all"!==f.type&&e.set("type",f.type),"any"!==f.releaseYear&&e.set("year",f.releaseYear),"any"!==f.popularity&&e.set("pop",f.popularity),"any"!==f.contentType&&e.set("content",f.contentType);const t=`${window.location.pathname}?${e.toString()}`;window.history.pushState({path:t},"",t)}),100)}),[d,f,k]),O=(0,o.useCallback)((e=>{A(e),n&&n(e)}),[A,n]);(0,o.useEffect)((()=>{const e=new URLSearchParams(window.location.search),t=e.get("q");if(t){P.current=!0,s(!0),h(t);const n={...f},r=e.get("mode");"direct"===r&&(n.searchMode=r);const i=e.get("genre");i&&(n.genre=i);const o=e.get("time");o&&(n.time=o);const a=e.get("type");a&&(n.type=a);const l=e.get("year");l&&(n.releaseYear=l);const c=e.get("pop");c&&(n.popularity=c);const u=e.get("content");u&&(n.contentType=u),p(n),setTimeout((()=>k()),100)}}),[]);const[D,M]=(0,o.useState)(1),U=Math.ceil(v.length/9),L=(0,o.useMemo)((()=>{const e=9*(D-1);return v.slice(e,e+9)}),[v,D]),F=(0,o.useCallback)((e=>{M(e);const t=document.querySelector(".search-results-container");t&&t.scrollTo({top:0,behavior:"smooth"})}),[]);(0,o.useEffect)((()=>{const e=Nc()((()=>{c(window.scrollY>500)}),200);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);const j=(0,o.useCallback)((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[]),B=(0,o.useMemo)((()=>y.length?y[0].queryIntent:null),[y]),z=(0,o.useMemo)((()=>(0,gu.o9)(B)),[B]),V="direct"===f.searchMode,H=(0,o.useMemo)((()=>{if(!d||!y.length)return[];const e=d.toLowerCase();return y.filter((t=>t.title&&t.title.toLowerCase()===e||t.name&&t.name.toLowerCase()===e))}),[y,d]),q=(0,o.useMemo)((()=>{if(V)return{main:y};if(!B||!y.length)return{main:y};const e=y.filter((e=>!H.some((t=>t.id===e.id))));return B.referenceName?{similarTo:e}:B.mood?{moodBased:e}:B.context?{contextBased:e}:B.subjects&&B.subjects.length>0?{subjectBased:e}:{main:e}}),[y,B,H,V]),$=o.memo((e=>{let{totalPages:t,currentPage:n,onPageChange:r}=e;return t<=1?null:o.createElement("div",{className:"flex justify-center my-2 sm:my-3"},o.createElement("nav",{className:"inline-flex rounded-lg bg-gray-800 overflow-hidden shadow-lg","aria-label":"Pagination"},o.createElement("button",{onClick:()=>r(n-1),disabled:1===n,className:"px-4 py-2 bg-gray-700 text-gray-300 hover:bg-gray-600 disabled:opacity-50"},"«"),Array.from({length:t},((e,t)=>t+1)).map((e=>o.createElement("button",{key:e,onClick:()=>r(e),className:"px-4 py-2 text-sm "+(e===n?"bg-indigo-600 text-white ring-2 ring-indigo-400":"bg-gray-700 text-gray-300 hover:bg-indigo-500 hover:text-white")},e))),o.createElement("button",{onClick:()=>r(n+1),disabled:n===t,className:"px-4 py-2 bg-gray-700 text-gray-300 hover:bg-gray-600 disabled:opacity-50"},"»")))}));(0,o.useEffect)((()=>{}),[v,b]);const W=()=>o.createElement(fo.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"w-full p-4 bg-red-900/30 border border-red-700/50 backdrop-blur-md rounded-xl my-4 text-center"},o.createElement("h3",{className:"text-red-300 font-medium"},"Something went wrong with the search results"),o.createElement("p",{className:"text-red-200/80 mt-2"},"Please try refreshing the page or try another search term."),o.createElement(fo.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"mt-3 px-4 py-2 bg-red-600/80 hover:bg-red-500 text-white rounded-lg shadow-lg transition-all"},"Refresh Page"));return o.createElement("div",{ref:u,className:"w-full max-w-screen-2xl mx-auto px-3 sm:px-6 flex flex-col items-center justify-start pt-0 sm:pt-1 pb-1"},o.createElement(fo.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-2xl mb-6 z-20"},o.createElement("div",{className:`relative bg-gray-900/50 backdrop-blur-lg rounded-2xl ${a?"p-3 sm:p-4":"p-1.5 sm:p-2.5"} \n          border border-gray-700/50 shadow-xl transition-all duration-300`},o.createElement("div",{className:"w-full"},o.createElement(au,{query:d,setQuery:h,handleSearch:e=>{s(!0),R(e)},isLoading:g,isFocused:x,setIsFocused:e=>{E(e),e&&!a&&s(!0)},suggestions:S,handleSuggestionClick:e=>{s(!0),_(e)},handleSuggestionHover:T,searchMode:f.searchMode})),o.createElement(To,null,a&&o.createElement(fo.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0}},o.createElement("div",{className:"mt-3 flex items-center justify-between px-2"},o.createElement("div",{className:"flex items-center space-x-3"},o.createElement(fo.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!r),className:"flex items-center space-x-1.5 px-3 py-1 rounded-full transition-all "+(r?"bg-indigo-600 text-white shadow-lg":"bg-gray-800/70 text-gray-300 hover:bg-indigo-700/50")},r?o.createElement(xu,{className:"w-3.5 h-3.5"}):o.createElement(bu,{className:"w-3.5 h-3.5"}),o.createElement("span",{className:"font-medium text-xs"},r?"Hide Filters":"Filters")),o.createElement("div",{className:"flex items-center space-x-1.5"},o.createElement(fo.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>p({...f,searchMode:"smart"}),className:"px-3 py-1 rounded-full text-xs font-medium transition-all "+("smart"===f.searchMode?"bg-indigo-600 text-white":"bg-gray-800/70 text-gray-300 hover:bg-indigo-700/50")},"Smart"),o.createElement(fo.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>p({...f,searchMode:"direct"}),className:"px-3 py-1 rounded-full text-xs font-medium transition-all "+("direct"===f.searchMode?"bg-blue-600 text-white":"bg-gray-800/70 text-gray-300 hover:bg-blue-700/50")},"Direct"))),m&&v.length>0&&o.createElement("span",{className:"text-xs text-gray-400"},v.length," result",1!==v.length?"s":"")),o.createElement(To,null,r&&o.createElement(fo.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-3 overflow-hidden"},o.createElement(Xc,{activeFilters:f,setActiveFilters:p}))))))),o.createElement("div",{className:"w-full max-w-4xl mb-4 space-y-3 z-10"},V&&m&&!g&&o.createElement(fo.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"w-full max-w-4xl mb-4 p-2.5 rounded-xl bg-blue-900/30 backdrop-blur-sm border border-blue-800/50 text-blue-200 flex items-center shadow-lg"},o.createElement(Su,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-blue-400 flex-shrink-0"}),o.createElement("p",{className:"text-xs sm:text-sm font-medium truncate"},"Direct Title Search: ",d,v.length>0&&` (${v.length} results found)`)),z&&m&&!g&&!V&&o.createElement(fo.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"w-full max-w-4xl mb-4 p-2.5 rounded-xl bg-indigo-900/30 backdrop-blur-sm border border-indigo-800/50 text-indigo-200 flex items-center shadow-lg"},o.createElement(ru,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-indigo-400 flex-shrink-0"}),o.createElement("p",{className:"text-xs sm:text-sm font-medium truncate"},z))),o.createElement(mu,{error:b,isVisible:w}),a&&(m||g)&&o.createElement("div",{className:"w-full max-w-7xl transition-opacity duration-300 "+(a?"opacity-100":"opacity-0 pointer-events-none")},(()=>{try{var e,r,i;return b?o.createElement(W,null):m||g?g?o.createElement(fo.P.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full max-w-7xl mb-8"},o.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},[...Array(9)].map(((e,t)=>o.createElement("div",{key:t,className:"bg-gray-800 rounded-xl overflow-hidden h-[350px] shadow-lg animate-pulse"},o.createElement("div",{className:"h-[180px] bg-gray-700"}),o.createElement("div",{className:"p-4 space-y-3"},o.createElement("div",{className:"h-5 bg-gray-700 rounded w-3/4"}),o.createElement("div",{className:"h-4 bg-gray-700 rounded w-1/2"}),o.createElement("div",{className:"h-4 bg-gray-700 rounded w-full"}),o.createElement("div",{className:"flex justify-between pt-2"},o.createElement("div",{className:"h-4 bg-gray-700 rounded w-16"}),o.createElement("div",{className:"h-4 bg-gray-700 rounded w-12"})))))))):o.createElement("div",{className:"search-results-container w-full max-h-[calc(100vh-250px)] sm:max-h-[calc(100vh-280px)] overflow-y-auto overscroll-contain custom-scrollbar"},H.length>0&&m&&o.createElement(fo.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-7xl mb-8"},o.createElement("div",{className:"py-2 px-3 bg-indigo-900/30 backdrop-blur-sm rounded-xl border border-indigo-700/50 mb-3 flex items-center"},o.createElement(vc,{className:"h-4 w-4 text-yellow-400 mr-2"}),o.createElement("h3",{className:"text-sm font-medium text-indigo-300"},"Exact Match Found")),o.createElement("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-4"},H.map((e=>o.createElement(fo.P.div,{key:`exact-${e.id}-${e.media_type}`,whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:17}},o.createElement(o.Suspense,{fallback:o.createElement("div",{className:"bg-gray-800 animate-pulse h-[350px] rounded-xl"})},o.createElement(_u,{result:e,currentUser:t,onClick:()=>O(e),highlightMatch:!0}))))))),V&&v.length>0&&o.createElement(fo.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"w-full max-w-7xl mb-8"},o.createElement("div",{className:"py-2 px-3 bg-blue-900/30 backdrop-blur-sm rounded-xl border border-blue-700/50 mb-3 flex items-center"},o.createElement(Su,{className:"h-4 w-4 text-blue-400 mr-2"}),o.createElement("h3",{className:"text-sm font-medium text-blue-300"},"Title Search Results")),o.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},L.map((e=>o.createElement(fo.P.div,{key:`direct-${e.id}-${e.media_type}`,whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:17}},o.createElement(o.Suspense,{fallback:o.createElement("div",{className:"bg-gray-800 animate-pulse h-[350px] rounded-xl"})},o.createElement(_u,{result:e,currentUser:t,onClick:()=>O(e)})))))),o.createElement($,{totalPages:U,currentPage:D,onPageChange:F})),!V&&o.createElement(o.Fragment,null,(null==B?void 0:B.referenceName)&&m&&o.createElement(fo.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"w-full max-w-7xl mb-8"},o.createElement("div",{className:"py-2 px-3 bg-purple-900/30 backdrop-blur-sm rounded-xl border border-purple-700/50 mb-3 flex items-center"},o.createElement(vc,{className:"h-4 w-4 text-purple-400 mr-2"}),o.createElement("h3",{className:"text-sm font-medium text-purple-300"},`Similar to "${B.referenceName}"`,B.modifierType&&o.createElement("span",{className:"ml-2 text-purple-400"},"family-friendly"===B.modifierType&&"but more family-friendly","darker"===B.modifierType&&"but with a darker tone","lighter"===B.modifierType&&"but lighter","scarier"===B.modifierType&&"but scarier","more-action"===B.modifierType&&"but with more action","funnier"===B.modifierType&&"but funnier"))),0===(null===(e=q.similarTo)||void 0===e?void 0:e.length)?o.createElement(fo.P.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-800/30 backdrop-blur-sm rounded-xl p-6 text-center border border-gray-700/50"},o.createElement("h3",{className:"text-lg font-semibold text-gray-200 mb-2"},"No Similar Titles Found"),o.createElement("p",{className:"text-gray-300 mb-4"},"We couldn't find shows similar to \"",B.referenceName,'". This might be because:'),o.createElement("ul",{className:"text-gray-400 list-disc list-inside text-left max-w-xl mx-auto mb-4"},o.createElement("li",null,"The title is new or not yet cataloged with similar shows"),o.createElement("li",null,"It may be a very unique show with few similar titles"),o.createElement("li",null,"The title could be from a niche category")),o.createElement("p",{className:"text-gray-300"},'Try searching for a broader category like "',null===(r=B.referenceName)||void 0===r?void 0:r.split(" ")[0],' anime" or "anime action"')):o.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},q.similarTo.map((e=>o.createElement(fo.P.div,{key:`similar-${e.id}-${e.media_type}`,whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:17}},o.createElement(o.Suspense,{fallback:o.createElement("div",{className:"bg-gray-800 animate-pulse h-[350px] rounded-xl"})},o.createElement(_u,{result:e,currentUser:t,onClick:()=>O(e),highlightMatch:e.isReferenceMedia}))))))),q.main&&q.main.length>0&&!(null!=B&&B.referenceName)&&o.createElement(fo.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},className:"w-full max-w-7xl mb-8"},o.createElement(pu,{hasSearched:m,isLoading:g,displayedResults:L,handleResultClick:O,currentUser:t,onMediaClick:n}),o.createElement($,{totalPages:U,currentPage:D,onPageChange:F})),!g&&m&&v.length>0&&0===(null===(i=q.main)||void 0===i?void 0:i.length)&&!V&&!(null!=B&&B.referenceName)&&0===H.length&&o.createElement(fo.P.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-800/30 backdrop-blur-sm rounded-xl p-6 text-center border border-gray-700/50 mt-6"},o.createElement("h3",{className:"text-lg font-semibold text-gray-200 mb-2"},"No further results"),o.createElement("p",{className:"text-gray-300"},"All relevant results are shown above.")),!g&&m&&0===v.length&&o.createElement(fo.P.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-800/30 backdrop-blur-sm rounded-xl p-6 text-center border border-gray-700/50 mt-6"},o.createElement("h3",{className:"text-lg font-semibold text-gray-200 mb-2"},"No Results Found"),o.createElement("p",{className:"text-gray-300"},"Try adjusting your search query or filters.")))):o.createElement(fo.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"w-full max-w-2xl mx-auto text-center p-8 mt-4"},o.createElement(ou,{className:"w-16 h-16 mx-auto text-indigo-400/50"}),o.createElement("h3",{className:"mt-4 text-xl font-medium text-gray-300"},"Search for movies and shows"),o.createElement("p",{className:"mt-2 text-gray-400"},'Try searching for a title, a mood, or even "movies like [title]"'))}catch(e){return console.error("Error rendering search results:",e),o.createElement(W,null)}})()),o.createElement(To,null,l&&o.createElement(fo.P.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:j,className:"fixed bottom-6 right-6 p-3 rounded-full bg-indigo-600/80 backdrop-blur-sm text-white shadow-lg z-50"},o.createElement(Cu,{className:"w-5 h-5"}))))};function Au({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{d:"M18.75 12.75h1.5a.75.75 0 0 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM12 6a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 6ZM12 18a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 18ZM3.75 6.75h1.5a.75.75 0 1 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM5.25 18.75h-1.5a.75.75 0 0 1 0-1.5h1.5a.75.75 0 0 1 0 1.5ZM3 12a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 3 12ZM9 3.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM12.75 12a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0ZM9 15.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"}))}const Nu=o.forwardRef(Au);function Iu({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),o.createElement("path",{fillRule:"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z",clipRule:"evenodd"}))}const Pu=o.forwardRef(Iu);var Ru=i(6201);function Ou({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{d:"M11.7 2.805a.75.75 0 0 1 .6 0A60.65 60.65 0 0 1 22.83 8.72a.75.75 0 0 1-.231 1.337 49.948 49.948 0 0 0-9.902 3.912l-.003.002c-.114.06-.227.119-.34.18a.75.75 0 0 1-.707 0A50.88 50.88 0 0 0 7.5 12.173v-.224c0-.131.067-.248.172-.311a54.615 54.615 0 0 1 4.653-2.52.75.75 0 0 0-.65-1.352 56.123 56.123 0 0 0-4.78 2.589 1.858 1.858 0 0 0-.859 1.228 49.803 49.803 0 0 0-4.634-1.527.75.75 0 0 1-.231-1.337A60.653 60.653 0 0 1 11.7 2.805Z"}),o.createElement("path",{d:"M13.06 15.473a48.45 48.45 0 0 1 7.666-3.282c.134 1.414.22 2.843.255 4.284a.75.75 0 0 1-.46.711 47.87 47.87 0 0 0-8.105 4.342.75.75 0 0 1-.832 0 47.87 47.87 0 0 0-8.104-4.342.75.75 0 0 1-.461-.71c.035-1.442.121-2.87.255-4.286.921.304 1.83.634 2.726.99v1.27a1.5 1.5 0 0 0-.14 2.508c-.09.38-.222.753-.397 1.11.452.213.901.434 1.346.66a6.727 6.727 0 0 0 .551-1.607 1.5 1.5 0 0 0 .14-2.67v-.645a48.549 48.549 0 0 1 3.44 1.667 2.25 2.25 0 0 0 2.12 0Z"}),o.createElement("path",{d:"M4.462 19.462c.42-.419.753-.89 1-1.395.453.214.902.435 1.347.662a6.742 6.742 0 0 1-1.286 1.794.75.75 0 0 1-1.06-1.06Z"}))}const Du=o.forwardRef(Ou);function Mu({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{d:"M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"}),o.createElement("path",{fillRule:"evenodd",d:"m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const Uu=o.forwardRef(Mu);function Lu({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const Fu=o.forwardRef(Lu);function ju({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M14.615 1.595a.75.75 0 0 1 .359.852L12.982 9.75h7.268a.75.75 0 0 1 .548 1.262l-10.5 11.25a.75.75 0 0 1-1.272-.71l1.992-7.302H3.75a.75.75 0 0 1-.548-1.262l10.5-11.25a.75.75 0 0 1 .913-.143Z",clipRule:"evenodd"}))}const Bu=o.forwardRef(ju);var zu=i(3261);function Vu({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Hu=o.forwardRef(Vu);function qu({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fillRule:"evenodd",d:"M4.125 3C3.089 3 2.25 3.84 2.25 4.875V18a3 3 0 0 0 3 3h15a3 3 0 0 1-3-3V4.875C17.25 3.839 16.41 3 15.375 3H4.125ZM12 9.75a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H12Zm-.75-2.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H12a.75.75 0 0 1-.75-.75ZM6 12.75a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5H6Zm-.75 3.75a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1-.75-.75ZM6 6.75a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75v-3A.75.75 0 0 0 9 6.75H6Z",clipRule:"evenodd"}),o.createElement("path",{d:"M18.75 6.75h1.875c.621 0 1.125.504 1.125 1.125V18a1.5 1.5 0 0 1-3 0V6.75Z"}))}const $u=o.forwardRef(qu),Wu=[{id:1,icon:Nu,title:"Share Your Taste",description:"Tell us a bit about movies you enjoy.",iconColor:"text-indigo-300",bgColor:"bg-gray-700",gradient:"from-indigo-500 to-blue-500"},{id:2,icon:Pu,title:"Explore Visually",description:"Browse genres, moods, and curated picks.",iconColor:"text-purple-300",bgColor:"bg-gray-700",gradient:"from-purple-500 to-pink-500"},{id:3,icon:Ru.A,title:"Get Matched",description:"Receive recommendations you'll actually love.",iconColor:"text-rose-300",bgColor:"bg-gray-700",gradient:"from-rose-500 to-red-500"}],Ku=[{id:1,name:"By Mood",description:"Find films that fit your current vibe.",icon:Du,iconColor:"text-sky-300",cardBg:"bg-gray-800",placeholderBg:"bg-sky-700/30"},{id:2,name:"Popular Genres",description:"Explore top categories and classics.",icon:Uu,iconColor:"text-amber-300",cardBg:"bg-gray-800",placeholderBg:"bg-amber-700/30"},{id:3,name:"Curated For You",description:"Picks based on similar tastes.",icon:ru,iconColor:"text-emerald-300",cardBg:"bg-gray-800",placeholderBg:"bg-emerald-700/30"}],Yu=[{icon:$c,text:"Save Time Searching",iconColor:"text-indigo-300"},{icon:Fu,text:"Truly Personalized Picks",iconColor:"text-purple-300"},{icon:Bu,text:"Easy 30-Second Setup",iconColor:"text-rose-300"}],Gu=[{id:1,title:"Inception",year:"2010",genre:"Sci-Fi, Thriller",posterUrl:"https://www.themoviedb.org/t/p/w342/oYuLEt3zVCKq57qu2F8dT7NIa6f.jpg",description:"A mind-bending thriller about dream invasion that will leave you questioning reality."},{id:2,title:"Parasite",year:"2019",genre:"Thriller, Drama",posterUrl:"https://www.themoviedb.org/t/p/w342/7IiTTgloJzvGI1TAYymCfbfl3vT.jpg",description:"A darkly comic masterpiece about class struggle and deception."},{id:3,title:"Spirited Away",year:"2001",genre:"Animation, Fantasy",posterUrl:"https://www.themoviedb.org/t/p/w342/39wmItIWsg5sZMyRUHLkWBcuVCM.jpg",description:"A breathtaking animated journey into a mysterious world of spirits."}],Ju=[{id:1,title:"Top 5 Sci-Fi Movies of the Last Decade",date:"May 6, 2025",snippet:"The 2015-2024 period saw sci-fi cinema grapple with humanity's evolving relationship with technology, time, and consciousness...",link:"/blog/top-5-sci-fi-movies-last-decade",image:"https://www.themoviedb.org/t/p/w780/xJHokMbljvjADYdit5fK5VQsXEG.jpg"},{id:2,title:"Hidden Gem TV Shows You Might Have Missed",date:"April 28, 2025",snippet:"Beyond the mainstream hits, a treasure trove of unique and compelling TV series awaits discovery...",link:"/blog/hidden-gem-tv-shows",image:"https://www.themoviedb.org/t/p/w780/56v2KjBlU4XaOv9rVYEQypROD7P.jpg"},{id:3,title:"Animated Movies Aren't Just For Kids",date:"May 10, 2025",snippet:"Discover a world of sophisticated storytelling and stunning visuals in animation geared towards adult audiences...",link:"/blog/animated-movies-for-adults",image:"https://www.themoviedb.org/t/p/w780/iiZZdoQBEYBv6id8su7ImL0oCbD.jpg",imagePosition:"object-bottom"}],Zu=e=>{let{onSignInClick:t,onSignUpClick:n}=e;const r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return o.createElement(fo.P.div,{initial:"hidden",animate:"visible",exit:{opacity:0},variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.2}}},className:"w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16 text-white"},o.createElement(fo.P.section,{variants:r,className:"text-center py-16 md:py-24 relative"},o.createElement("div",{className:"absolute -z-10 top-0 left-1/2 -translate-x-1/2 w-full h-full max-w-4xl"},o.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900/50 via-purple-900/40 to-gray-900/30 rounded-full blur-3xl opacity-60 animate-pulse-slow"})),o.createElement("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight"},"Discover Your Next Great Movie, Simply"),o.createElement("p",{className:"text-lg sm:text-xl text-gray-300 mb-10 max-w-2xl mx-auto"},"Visually explore a world of films or let our smart recommendations guide you. Finding a movie you'll enjoy is now effortless."),o.createElement(fo.P.button,{onClick:n,className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-8 py-4 rounded-lg font-semibold text-lg shadow-lg transform transition-all duration-300 hover:scale-105",whileHover:{scale:1.05},whileTap:{scale:.98}},"Get Started Free"),o.createElement("p",{className:"text-sm text-gray-400 mt-4"},"Already have an account?"," ",o.createElement("button",{onClick:t,className:"text-indigo-400 hover:text-indigo-300 underline font-medium"},"Sign In"))),o.createElement(fo.P.section,{variants:r,className:"py-16 md:py-24"},o.createElement("div",{className:"text-center mb-12 md:mb-16"},o.createElement("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3"},"Start Your Movie Journey"),o.createElement("p",{className:"text-gray-300 max-w-xl mx-auto text-base md:text-lg"},"Three simple steps to personalized movie recommendations.")),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-10"},Wu.map((e=>o.createElement(fo.P.div,{key:e.id,variants:r,className:`${e.bgColor} p-6 rounded-xl shadow-xl border border-gray-700/80 text-center hover:border-indigo-500/70 transition-colors duration-300`},o.createElement("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${e.gradient} flex items-center justify-center mx-auto mb-6 shadow-md`},o.createElement(e.icon,{className:"h-8 w-8 text-white"})),o.createElement("h3",{className:"text-xl font-semibold text-white mb-3"},e.title),o.createElement("p",{className:"text-gray-400 text-sm"},e.description)))))),o.createElement(fo.P.section,{variants:r,className:"py-16 md:py-24 text-center"},o.createElement(zu.A,{className:"w-12 h-12 text-rose-400 mx-auto mb-4"}),o.createElement("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4"},"Our Mission"),o.createElement("p",{className:"text-gray-300 max-w-2xl mx-auto text-base md:text-lg leading-relaxed"},"At Movierec, we believe finding your next favorite film shouldn't feel like a chore. Our mission is to cut through the noise of endless streaming libraries and algorithm fatigue. We combine smart technology with a genuine passion for cinema to deliver personalized, insightful recommendations that connect you with movies and shows you'll truly love, making every movie night an adventure.")),o.createElement(fo.P.section,{variants:r,className:"py-16 md:py-24"},o.createElement("div",{className:"text-center mb-12 md:mb-16"},o.createElement("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3"},"Explore Visually"),o.createElement("p",{className:"text-gray-300 max-w-xl mx-auto text-base md:text-lg"},"Browse movies in a way that feels intuitive and fun.")),o.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8"},Ku.map((e=>o.createElement(fo.P.div,{key:e.id,variants:r,className:`${e.cardBg} rounded-xl shadow-xl border border-gray-700/80 overflow-hidden group hover:shadow-indigo-500/40 transition-all duration-300`},o.createElement("div",{className:`w-full h-48 ${e.placeholderBg} flex items-center justify-center`},o.createElement(e.icon,{className:`h-16 w-16 ${e.iconColor} opacity-70`})),o.createElement("div",{className:"p-6"},o.createElement("h3",{className:"text-xl font-semibold text-white mb-2"},e.name),o.createElement("p",{className:"text-gray-400 text-sm mb-4"},e.description),o.createElement("button",{onClick:n,className:"text-indigo-400 hover:text-indigo-300 font-medium text-sm flex items-center group-hover:text-indigo-200"},"Explore Now ",o.createElement(Hu,{className:"w-4 h-4 ml-1 transition-transform group-hover:translate-x-1"})))))))),o.createElement(fo.P.section,{variants:r,className:"py-16 md:py-24"},o.createElement("div",{className:"text-center mb-12 md:mb-16"},o.createElement(hc,{className:"w-10 h-10 text-amber-400 mx-auto mb-3"}),o.createElement("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3"},"Featured Recommendations"),o.createElement("p",{className:"text-gray-300 max-w-xl mx-auto text-base md:text-lg"},"A glimpse into the diverse world of movies we help you discover.")),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-10"},Gu.map((e=>o.createElement(fo.P.div,{key:e.id,variants:r,className:"bg-gray-800 p-5 rounded-xl shadow-xl border border-gray-700/80 group hover:border-purple-500/70 transition-all duration-300 flex flex-col"},o.createElement("img",{src:e.posterUrl,alt:e.title,className:"w-full h-72 object-cover rounded-lg mb-4 shadow-md"}),o.createElement("h3",{className:"text-xl font-semibold text-white mb-2"},e.title," (",e.year,")"),o.createElement("p",{className:"text-purple-300 text-sm mb-2"},e.genre),o.createElement("p",{className:"text-gray-400 text-sm mb-4 flex-grow"},e.description),o.createElement("button",{onClick:n,className:"mt-auto bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-5 py-2.5 rounded-lg font-medium text-sm shadow-md hover:scale-105 transform transition-transform duration-300"},"Learn More")))))),o.createElement(fo.P.section,{variants:r,className:"py-16 md:py-24"},o.createElement("div",{className:"text-center mb-12 md:mb-16"},o.createElement($u,{className:"w-10 h-10 text-teal-400 mx-auto mb-3"}),o.createElement("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3"},"Latest From Our Blog"),o.createElement("p",{className:"text-gray-300 max-w-xl mx-auto text-base md:text-lg"},"Deeper dives, curated lists, and cinematic explorations.")),o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-10"},Ju.map((e=>o.createElement(fo.P.div,{key:e.id,variants:r,className:"bg-gray-800 rounded-xl shadow-xl border border-gray-700/80 group hover:border-teal-500/70 transition-all duration-300 flex flex-col overflow-hidden"},e.image&&o.createElement("img",{src:e.image,alt:e.title,className:`w-full h-48 object-cover ${e.imagePosition||"object-center"}`}),o.createElement("div",{className:"p-5 flex flex-col flex-grow"},o.createElement("h3",{className:"text-xl font-semibold text-white mb-2 group-hover:text-teal-300 transition-colors"},e.title),o.createElement("p",{className:"text-gray-500 text-xs mb-2"},e.date),o.createElement("p",{className:"text-gray-400 text-sm mb-4 flex-grow"},e.snippet),o.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-teal-400 hover:text-teal-300 font-medium text-sm flex items-center group-hover:text-teal-200"},"Read More ",o.createElement(Hu,{className:"w-4 h-4 ml-1 transition-transform group-hover:translate-x-1"})))))))),o.createElement(fo.P.section,{variants:r,className:"py-16 md:py-24 bg-gray-800/70 rounded-xl my-12"},o.createElement("div",{className:"text-center mb-12 md:mb-16 px-6"},o.createElement("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3"},"Why You'll Love It"),o.createElement("p",{className:"text-gray-300 max-w-xl mx-auto text-base md:text-lg"},"We focus on making movie discovery easy and enjoyable.")),o.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 px-6"},Yu.map(((e,t)=>o.createElement(fo.P.div,{key:t,variants:r,className:"text-center"},o.createElement("div",{className:`w-14 h-14 bg-gradient-to-br ${Wu[t%3].gradient} rounded-full flex items-center justify-center mx-auto mb-4 shadow-md`},o.createElement(e.icon,{className:"h-7 w-7 text-white"})),o.createElement("p",{className:"text-gray-200 font-medium"},e.text)))))),o.createElement(fo.P.section,{variants:r,className:"py-20 md:py-28 text-center bg-gradient-to-br from-indigo-800 via-purple-800 to-pink-800 rounded-3xl my-16 shadow-2xl relative overflow-hidden"},o.createElement(ru,{className:"w-16 h-16 text-yellow-300/80 mx-auto mb-4 opacity-75"}),o.createElement("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-5"},"Stop Searching, Start Watching."),o.createElement("p",{className:"text-lg text-indigo-200 mb-10 max-w-xl mx-auto"},"Say goodbye to endless scrolling. Get movie recommendations you'll actually love, in minutes."),o.createElement(fo.P.button,{onClick:n,className:"bg-white text-indigo-700 px-8 sm:px-12 py-3 sm:py-4 rounded-lg font-semibold text-base sm:text-lg hover:bg-indigo-100 transition-all duration-300 ease-in-out shadow-xl transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-300 focus:ring-opacity-50 w-full sm:w-auto max-w-xs sm:max-w-none",whileHover:{scale:1.05,boxShadow:"0px 10px 20px rgba(255, 255, 255, 0.2)"},whileTap:{scale:.98}},"Find Your Next Favorite Movie")))},Qu=e=>{let{className:t="",style:n={},contentBefore:r="",contentAfter:i=""}=e;const a=(0,o.useRef)(null),[s,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)(!1),[d,h]=(0,o.useState)(!1),[f,p]=(0,o.useState)(!1),m=(0,o.useRef)(null);return(0,o.useEffect)((()=>{const e=()=>{const e=document.querySelectorAll("p"),t=document.querySelectorAll("h1, h2, h3, h4, h5"),n=document.querySelectorAll("article, section, .content-container"),r=document.querySelectorAll('img[src]:not([src=""]), video'),i=e.length>=3&&t.length+n.length>=2,o=document.querySelector("#root")||document.body,a=(o?o.innerText:"").trim().length>1200,s=document.body.scrollHeight>1.5*window.innerHeight;r.length,i&&a||s&&a&&e.length>=2?d||(h(!0),m.current&&clearTimeout(m.current),m.current=setTimeout((()=>{p(!0)}),2e3)):d&&(h(!1),p(!1),m.current&&(clearTimeout(m.current),m.current=null))};e();const t=setInterval(e,2e3);return()=>{clearInterval(t),m.current&&clearTimeout(m.current)}}),[d]),(0,o.useEffect)((()=>{if(d&&f&&"undefined"!=typeof window&&a.current&&window.adsbygoogle&&!s)try{(window.adsbygoogle=window.adsbygoogle||[]).push({}),l(!0)}catch(e){u(!0)}}),[d,f,s]),d&&f?c?null:o.createElement("div",{className:`ad-container mx-auto ${s?"":"min-h-0"} ${t}`,style:n},r&&o.createElement("div",{className:"ad-content-before mb-4"},r),o.createElement("ins",{className:"adsbygoogle",style:{display:"block",overflow:"hidden",borderRadius:"0.5rem",margin:"0 auto",minHeight:"90px",backgroundColor:"transparent",transition:"opacity 0.3s ease",opacity:s?1:.4},"data-ad-client":"ca-pub-5077058434275861","data-ad-slot":"1623198112","data-ad-format":"auto","data-full-width-responsive":"true",ref:a}),i&&o.createElement("div",{className:"ad-content-after mt-4"},i)):null},Xu=()=>{const[e,t]=(0,o.useState)(!1),[n,r]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const e=()=>{const e=document.querySelectorAll("p"),t=document.querySelectorAll("h1, h2, h3, h4, h5"),n=document.querySelectorAll("article, section, .content-container"),r=document.querySelectorAll('img[src]:not([src=""]), video'),i=e.length>=3&&t.length+n.length>=2,o=document.querySelector("#root")||document.body,a=o?o.innerText:"",s=a.trim().length>1500,l=document.body.scrollHeight>1.5*window.innerHeight,c=r.length>0;return i&&s||l&&s||i&&c&&a.length>1e3},n=setTimeout((()=>{if(e()){t(!0);const e=setTimeout((()=>{r(!0)}),2500);return()=>clearTimeout(e)}{const n=setTimeout((()=>{if(e()){t(!0);const e=setTimeout((()=>{r(!0)}),2500);return()=>clearTimeout(e)}}),3e3);return()=>clearTimeout(n)}}),1500);return()=>clearTimeout(n)}),[]),(0,o.useEffect)((()=>{if(e&&n&&"undefined"!=typeof window){const e=setTimeout((()=>{const e=document.createElement("script");e.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",e.async=!0,e.crossOrigin="anonymous",e.dataset.adClient="ca-pub-5077058434275861",document.querySelector('script[src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"]')||document.head.appendChild(e)}),1e3);return()=>clearTimeout(e)}}),[e,n]),null};var ed=i(2075);const td=e=>{let{mediaId:t,currentUser:n,onReviewsLoaded:r}=e;const[i,a]=(0,o.useState)([]),[s,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)(null),[d,h]=(0,o.useState)(0),[f,p]=(0,o.useState)(""),[m,g]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{t&&(async()=>{l(!0),u(null);try{const e=await(async e=>(console.log(`Fetching reviews for media ID: ${e}`),await new Promise((e=>setTimeout(e,500))),[{id:1,author:"User123",rating:4,comment:"Great movie, really enjoyed the plot!",createdAt:(new Date).toISOString()},{id:2,author:"Cinephile_Max",rating:5,comment:"A masterpiece! Must watch.",createdAt:(new Date).toISOString()}]))(t);a(e),r&&r(e.length>0)}catch(e){console.error("Error fetching reviews:",e),u("Failed to load reviews.")}finally{l(!1)}})()}),[t,r]),o.createElement("div",{className:"mt-6 p-4 bg-gray-800 bg-opacity-50 rounded-lg shadow-md"},o.createElement("h3",{className:"text-xl font-semibold text-white mb-4"},"User Reviews"),n&&o.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),d&&f.trim()&&n){g(!0),u(null);try{const e=await(async(e,t)=>(console.log(`Submitting review for media ID: ${e}`,t),await new Promise((e=>setTimeout(e,500))),{success:!0,newReview:{...t,id:Date.now(),createdAt:(new Date).toISOString()}}))(t,{author:n.attributes.email,rating:d,comment:f.trim()});if(!e.success||!e.newReview)throw new Error("Submission failed");a((t=>[e.newReview,...t])),h(0),p("")}catch(e){console.error("Error submitting review:",e),u("Failed to submit review. Please try again.")}finally{g(!1)}}},className:"mb-6 p-4 border border-gray-700 rounded-md"},o.createElement("h4",{className:"text-lg font-medium text-gray-200 mb-3"},"Add Your Review"),c&&o.createElement("p",{className:"text-red-400 text-sm mb-3"},c),o.createElement("div",{className:"mb-3"},o.createElement("label",{className:"block text-sm font-medium text-gray-300 mb-1"},"Rating"),o.createElement("div",{className:"flex space-x-1"},[1,2,3,4,5].map((e=>o.createElement("button",{key:e,type:"button",onClick:()=>{h(e)},className:`text-2xl ${d>=e?"text-yellow-400":"text-gray-500"} hover:text-yellow-300 transition-colors`,"aria-label":`Rate ${e} out of 5 stars`},"★"))))),o.createElement("div",{className:"mb-3"},o.createElement("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-300 mb-1"},"Comment"),o.createElement("textarea",{id:"comment",value:f,onChange:e=>{p(e.target.value)},rows:"3",className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Share your thoughts...",required:!0})),o.createElement("button",{type:"submit",disabled:m||!d||!f.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},m?"Submitting...":"Submit Review")),!n&&o.createElement("p",{className:"text-gray-400 text-sm mb-4"},"Please ",o.createElement("a",{href:"/signin",className:"text-indigo-400 hover:underline"},"sign in")," to add a review."),s&&o.createElement("div",{className:"space-y-4 animate-pulse"},[...Array(2)].map(((e,t)=>o.createElement("div",{key:t,className:"p-3 bg-gray-700 bg-opacity-50 rounded-md border border-gray-600"},o.createElement("div",{className:"flex items-center justify-between mb-2"},o.createElement("div",{className:"h-4 bg-gray-600 rounded w-1/4"})," ",o.createElement("div",{className:"h-3 bg-gray-600 rounded w-1/6"})," "),o.createElement("div",{className:"flex items-center mb-3"},o.createElement("div",{className:"h-5 bg-gray-600 rounded w-1/3"})," "),o.createElement("div",{className:"space-y-2"},o.createElement("div",{className:"h-3 bg-gray-600 rounded w-full"})," ",o.createElement("div",{className:"h-3 bg-gray-600 rounded w-5/6"})," "))))),!s&&0===i.length&&o.createElement("div",{className:"text-center py-6 px-4 bg-gray-700/30 rounded-lg border border-dashed border-gray-600"},o.createElement("svg",{className:"mx-auto h-10 w-10 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},o.createElement("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 18.657A8 8 0 016.343 7.343m11.314 11.314a8 8 0 00-11.314-11.314m11.314 11.314L6.343 7.343m11.314 11.314V12m-4.657 6.657H12"})," "),o.createElement("h4",{className:"mt-2 text-sm font-medium text-gray-300"},"No reviews yet"),o.createElement("p",{className:"mt-1 text-sm text-gray-400"},n?"Be the first to share your thoughts!":"Sign in to add the first review."),n&&o.createElement("button",{onClick:()=>{var e;return null===(e=document.getElementById("comment"))||void 0===e?void 0:e.focus()},className:"mt-4 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-indigo-500"},"Add Review")),!s&&i.length>0&&o.createElement("ul",{className:"space-y-5"}," ",i.map((e=>o.createElement("li",{key:e.id,className:"p-4 bg-gradient-to-br from-gray-700/60 to-gray-800/40 rounded-lg border border-gray-600/80 shadow-sm transition-shadow duration-200 hover:shadow-md"},o.createElement("div",{className:"flex items-center justify-between mb-2"}," ",o.createElement("span",{className:"font-semibold text-indigo-300 text-sm"},e.author)," ",o.createElement("span",{className:"text-xs text-gray-500"},new Date(e.createdAt).toLocaleDateString())," "),o.createElement("div",{className:"flex items-center mb-2.5"}," ",[1,2,3,4,5].map((t=>o.createElement("span",{key:t,className:"text-xl "+(e.rating>=t?"text-yellow-400":"text-gray-600")},"★")))),o.createElement("p",{className:"text-gray-300 text-sm leading-relaxed"},e.comment)," ")))))},nd=e=>{let{item:t,isOpen:n,onClose:r,currentUser:i}=e;const[a,s]=(0,o.useState)(!1),l=(0,o.useCallback)((e=>{s(e)}),[]);if((0,o.useEffect)((()=>{n&&t||s(!1)}),[n,t]),!t)return null;const{id:c,title:u,name:d,poster_path:h,backdrop_path:f,overview:p,vote_average:m,release_date:g,first_air_date:y,media_type:v,curator_notes:b}=t,w=u||d||"Untitled",x=(e=>{if(!e)return"N/A";const t=new Date(e);return isNaN(t.getFullYear())?"N/A":t.getFullYear().toString()})(g||y),E=m?Math.round(10*m)/10:"N/A",S=h?`https://image.tmdb.org/t/p/w500${h}`:"/placeholder.png",k=f?`https://image.tmdb.org/t/p/w1280${f}`:null,C=null==c?void 0:c.toString();return o.createElement(To,null,n&&o.createElement(fo.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4",onMouseDown:r},o.createElement(fo.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:30,duration:.3},className:"bg-gray-900 rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col overflow-hidden relative border border-gray-700",onMouseDown:e=>e.stopPropagation()},o.createElement("div",{className:"relative h-48 sm:h-64 flex-shrink-0"},k?o.createElement("img",{src:k,alt:"",className:"absolute inset-0 w-full h-full object-cover opacity-30"}):o.createElement("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-800 to-gray-700 opacity-50"}),o.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"}),o.createElement("button",{onClick:r,className:"absolute top-3 right-3 z-10 p-1.5 rounded-full bg-black/50 text-gray-300 hover:bg-black/70 hover:text-white transition-colors","aria-label":"Close details"},o.createElement(ca,{className:"h-6 w-6"}))),o.createElement("div",{className:"flex-grow overflow-y-auto custom-scrollbar p-4 sm:p-6 pt-0 -mt-20 sm:-mt-24 relative z-10"},o.createElement("div",{className:"flex flex-col sm:flex-row sm:items-end gap-4 sm:gap-6 mb-6"},o.createElement("div",{className:"flex-shrink-0 w-32 sm:w-40 h-auto rounded-lg overflow-hidden shadow-lg border-2 border-gray-700"},o.createElement("img",{src:S,alt:`Poster for ${w}`,className:"w-full h-full object-cover"})),o.createElement("div",{className:"flex-grow min-w-0"},o.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-1 sm:mb-2 line-clamp-2",title:w},w),o.createElement("div",{className:"flex items-center space-x-4 text-gray-400 text-sm"},o.createElement("span",{className:"flex items-center"},o.createElement(ed.A,{className:"w-4 h-4 text-yellow-400 mr-1"})," ",E),o.createElement("span",{className:"flex items-center"},o.createElement(Yc.A,{className:"w-4 h-4 mr-1"})," ",x),o.createElement("span",{className:"capitalize bg-gray-700 px-2 py-0.5 rounded text-xs text-gray-300"},v||"N/A")))),p&&o.createElement("div",{className:"mb-6"},o.createElement("h3",{className:"text-lg font-semibold text-white mb-2"},"Overview"),o.createElement("p",{className:"text-gray-300 text-sm leading-relaxed"},p)),b&&o.createElement("div",{className:"my-6 p-4 bg-gray-800/50 rounded-lg border border-gray-700/70"},o.createElement("h3",{className:"text-lg font-semibold text-indigo-300 mb-2"},"Curator's Notes"),o.createElement("p",{className:"text-gray-300 text-sm leading-relaxed whitespace-pre-line"},b)),n&&a&&o.createElement("div",{className:"my-6"}," ",o.createElement(Qu,{className:"w-full rounded-lg overflow-hidden"})),C&&o.createElement(td,{mediaId:C,currentUser:i,onReviewsLoaded:l})))))};function rd({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const id=o.forwardRef(rd);function od({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const ad=o.forwardRef(od),sd=[{slug:"mind-bending-movies-question-reality",title:"Mind-Benders: 7 Movies That Will Make You Question Reality Long After the Credits Roll",date:"May 19, 2025",excerpt:"Some films don't just entertain; they burrow into your mind, twisting your perception of reality and leaving you pondering their mysteries for days.",readTime:"5 min read",category:"Psychological Thrillers",imageUrl:"backdrop_tmdbid:157336",altText:"Abstract Reality Concept"},{slug:"scene-stealing-character-actors",title:"Beyond the Lead: 7 Scene-Stealing Character Actors Who Deserve the Spotlight",date:"May 19, 2025",excerpt:"Highlighting versatile performers who consistently deliver unforgettable performances and elevate every film they are in, even without top billing.",readTime:"6 min read",category:"Actor Spotlight",imageUrl:"backdrop_tmdbid:13",altText:"Collage of Character Actors"},{slug:"practical-effects-comeback",title:"The Tactile Touch: How Practical Effects Are Making a Stunning Comeback in Modern Blockbusters",date:"May 19, 2025",excerpt:"Exploring the resurgence of practical effects in an era of CGI, and how they create a unique sense of realism and immersion in film.",readTime:"6 min read",category:"Film Techniques",imageUrl:"backdrop_tmdbid:76341",altText:"Mad Max Fury Road Practical Effects"},{slug:"cinematic-comfort-feel-good-flicks",title:"Cinematic Comfort: 10 Feel-Good Flicks for a Perfect Cozy Night In",date:"May 19, 2025",excerpt:"A list of heartwarming, funny, and uplifting movies perfect for unwinding and lifting your spirits on a cozy night in.",readTime:"7 min read",category:"Feel-Good",imageUrl:"backdrop_tmdbid:10195",altText:"Person cozy on couch watching movie"},{slug:"tv-masterpieces-cancelled-too-soon",title:"Gone Too Soon: 6 TV Masterpieces That Were Cancelled Before Their Time",date:"May 19, 2025",excerpt:"A look at brilliant TV series that were cut short, leaving storylines unresolved and fans heartbroken, exploring what made them special.",readTime:"6 min read",category:"Retrospectives",imageUrl:"backdrop_tmdbtvid:1396",altText:"Cancelled TV Show Concept"},{slug:"indie-sci-fi-gems-2020s",title:"Beyond the Blockbusters: Indie Sci-Fi Gems You Missed in the 2020s",date:"May 11, 2025",excerpt:"The 2020s have already offered a fascinating landscape for science fiction, and it's not all about the big-budget spectacles. Independent filmmakers are consistently delivering thought-provoking, unique, and often mind-bending sci-fi stories that deserve your attention.",readTime:"6 min read",category:"Indie Films",imageUrl:"backdrop_tmdbid:893030",altText:"Something in the Dirt Still"},{slug:"new-wave-international-horror",title:"The New Wave of International Horror: 5 Must-See Foreign Films Redefining Scary",date:"May 11, 2025",excerpt:"Horror knows no borders, and some of the most innovative, terrifying, and thought-provoking scary movies are coming from outside the English-speaking world. International filmmakers are pushing the genre in bold new directions...",readTime:"7 min read",category:"Horror",imageUrl:"backdrop_tmdbid:866529",altText:"Incantation Still"},{slug:"video-game-adaptations-got-good",title:"From Pixels to Prestige: How Video Game Adaptations Finally Got Good",date:"May 11, 2025",excerpt:"For decades, 'video game movie' was almost a punchline... A new era of video game adaptations is upon us, with creators finally cracking the code to translate beloved interactive experiences into compelling television and film.",readTime:"6 min read",category:"Adaptations",imageUrl:"backdrop_tmdbid:100088",altText:"The Last of Us Still"},{slug:"tv-anti-heroes-we-love",title:"The Rise of the Anti-Hero: Why We Love TV's Most Complicated Characters",date:"May 11, 2025",excerpt:"Gone are the days when television protagonists were purely virtuous. Today, some of the most compelling and popular characters on TV are anti-heroes: flawed individuals who often operate in morally grey areas...",readTime:"7 min read",category:"TV Shows",imageUrl:"backdrop_tmdbid:1398",altText:"The Sopranos Still"},{slug:"anthology-series-comeback",title:"Short & Sweet: Anthology Series Making a Big Comeback",date:"May 11, 2025",excerpt:"In an age of sprawling cinematic universes and multi-season character arcs, there's a refreshing appeal to the anthology series. Offering self-contained stories within each episode or season...",readTime:"6 min read",category:"TV Shows",imageUrl:"backdrop_tmdbid:42009",altText:"Black Mirror Still"},{slug:"highest-grossing-movies",title:"Box Office Kings: Unveiling the Highest-Grossing Movies Ever Made",date:"May 6, 2025",excerpt:"Dive into the list of the highest-grossing films of all time, exploring the magic behind their monumental success...",readTime:"5 min read",category:"Analysis",imageUrl:"backdrop_tmdbid:19995",altText:"Avatar movie poster"},{slug:"top-5-sci-fi-movies-last-decade",title:"Top 5 Sci-Fi Movies of the Last Decade (2015-2024)",date:"May 6, 2025",excerpt:"Explore the best science fiction films from 2015-2024, featuring mind-bending concepts and stunning visuals.",readTime:"6 min read",category:"Top Lists",imageUrl:"backdrop_tmdbid:438631",altText:"Sci-Fi Collage"},{slug:"animated-movies-for-adults",title:"Beyond Cartoons: Animated Movies That Adults Will Love",date:"May 6, 2025",excerpt:"Discover animated films with complex themes and sophisticated storytelling that captivate adult audiences.",readTime:"7 min read",category:"Recommendations",imageUrl:"backdrop_tmdbid:129",altText:"Spirited Away Scene"},{slug:"hidden-gem-tv-shows",title:"Binge-Worthy Finds: Hidden Gem TV Shows You Might Have Missed",date:"May 6, 2025",excerpt:"Explore brilliant but underrated TV series that slipped under the radar, offering fresh and unique viewing experiences.",readTime:"8 min read",category:"Recommendations",imageUrl:"backdrop_tmdbtvid:63174",altText:"Person watching TV in a cozy room"}],ld="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",cd=e=>{let{src:t,alt:n,className:r,imageClassName:i}=e;const[a,s]=(0,o.useState)(ld),[l,c]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{c(!1),(async()=>{if(!t)return s(ld),void c(!0);let e=null,n=null,r=!1;if(t.startsWith("backdrop_tmdbid:")?(e=t.substring(16),n=!0,r=!0):t.startsWith("backdrop_tmdbtvid:")?(e=t.substring(18),n=!1,r=!0):t.startsWith("tmdbid:")?(e=t.substring(7),n=!0):t.startsWith("tmdbtvid:")&&(e=t.substring(9),n=!1),e)try{const t="b484a8d608caf759d5d575db3ec03bbc";if(!t)return console.warn("[BlogCardImage] TMDB API Key is not configured."),s(ld),void c(!0);const i=`https://api.themoviedb.org/3/${n?"movie":"tv"}/${e}?api_key=${t}`,o=await fetch(i);if(o.ok){const e=await o.json(),t=r?e.backdrop_path:e.poster_path;if(t)return void s(`https://image.tmdb.org/t/p/w780${t}`)}}catch(e){console.warn(`[BlogCardImage] Error fetching TMDB image for ${t}:`,e)}t&&(t.startsWith("http:")||t.startsWith("https:"))?s(t):(s(ld),c(!0))})()}),[t]),o.createElement("div",{className:`relative ${r||""}`},!l&&o.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-700/50"},o.createElement(id,{className:"w-12 h-12 text-slate-500 animate-pulse"})),o.createElement("img",{src:a,alt:n,className:`transition-opacity duration-500 ${l?"opacity-100":"opacity-0"} ${i||""}`,loading:"lazy",onLoad:()=>c(!0),onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src=ld,c(!0)}}))},ud=function(){const[e,t]=(0,o.useState)(sd),[n,r]=(0,o.useState)(null),i=e.length>0?e[0]:null,a=e.length>0?e.slice(1):[],s={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return o.createElement(fo.P.div,{className:"min-h-screen text-gray-100 py-16 md:py-24 px-4 sm:px-6 lg:px-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},o.createElement("div",{className:"max-w-7xl mx-auto"},i&&o.createElement(fo.P.section,{className:"mb-16 md:mb-24",variants:s,initial:"hidden",animate:"visible",transition:{delay:.2,duration:.5,ease:"easeOut"}},o.createElement("h2",{className:"text-3xl font-semibold text-gray-100 mb-8 text-center sm:text-left"},"Featured Article"),o.createElement(vt,{to:`/blog/${i.slug}`,className:"block group",onMouseEnter:()=>r(i.slug),onMouseLeave:()=>r(null)},o.createElement(fo.P.div,{className:"bg-gray-800/80 rounded-xl border border-gray-700/70 shadow-xl hover:shadow-indigo-500/40 transition-all duration-300 ease-out overflow-hidden flex flex-col lg:flex-row group",whileHover:{y:-5,borderColor:"rgba(129, 140, 248, 0.6)"}},o.createElement(cd,{src:i.imageUrl,alt:i.altText||i.title,className:"lg:w-3/5 h-64 md:h-72 lg:h-auto relative rounded-t-xl lg:rounded-l-xl lg:rounded-tr-none overflow-hidden",imageClassName:"w-full h-full object-cover transition-transform duration-300 ease-out group-hover:scale-105"},!i.imageUrl&&o.createElement(id,{className:"w-24 h-24 text-gray-500"}),o.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-black/10 lg:bg-gradient-to-r lg:from-black/50 lg:via-transparent"})),o.createElement("div",{className:"p-6 md:p-8 flex flex-col justify-center lg:w-2/5 relative z-10"},o.createElement("div",null,o.createElement("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1.5 mb-3"},o.createElement("span",{className:"px-3 py-1 text-xs font-medium bg-indigo-600 text-indigo-100 rounded-full shadow-sm"},i.category),o.createElement("div",{className:"flex items-center text-gray-400 text-sm"},o.createElement(Mc,{className:"h-4 w-4 mr-1.5 text-indigo-400"}),o.createElement("span",null,i.date))),o.createElement("h3",{className:"text-2xl lg:text-3xl font-bold text-white mb-3 line-clamp-3 group-hover:text-indigo-300 transition-colors duration-300"},i.title),o.createElement("p",{className:"text-gray-300 mb-5 line-clamp-3 leading-relaxed"},i.excerpt)),o.createElement("div",{className:"flex items-center justify-between mt-auto pt-3 border-t border-gray-700/50"},o.createElement("span",{className:"text-sm text-gray-400"},i.readTime),o.createElement("div",{className:"inline-flex items-center text-md text-indigo-400 group-hover:text-indigo-300 font-semibold transition-colors duration-300"},"Read More",o.createElement(fo.P.span,{animate:{x:n===i.slug?5:0},transition:{type:"spring",stiffness:300,damping:20}},o.createElement(ad,{className:"h-4.5 w-4.5 ml-2"})))))))),a.length>0&&o.createElement("section",null,o.createElement("h2",{className:"text-3xl font-semibold text-gray-100 mb-8 text-center sm:text-left"},i?"More Articles":"All Articles"),o.createElement(fo.P.div,{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",transition:{delay:i?.3:.2,staggerChildren:.07}},a.map((e=>o.createElement(fo.P.div,{key:e.slug,variants:s,className:"flex flex-col group",onMouseEnter:()=>r(e.slug),onMouseLeave:()=>r(null)},o.createElement(vt,{to:`/blog/${e.slug}`,className:"block h-full"},o.createElement(fo.P.div,{className:"bg-gray-800/70 rounded-xl border border-gray-700/60 shadow-lg hover:shadow-indigo-500/30 transition-all duration-300 ease-out flex flex-col h-full overflow-hidden",whileHover:{y:-5,borderColor:"rgba(165, 180, 252, 0.7)"}},o.createElement(cd,{src:e.imageUrl,alt:e.altText||e.title,className:"h-48 relative overflow-hidden rounded-t-xl",imageClassName:"w-full h-full object-cover transition-transform duration-300 ease-out group-hover:scale-105"},!e.imageUrl&&o.createElement(id,{className:"w-16 h-16 text-gray-500"}),o.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-black/5"})),o.createElement("div",{className:"p-5 md:p-6 flex flex-col flex-grow"},o.createElement("div",{className:"flex flex-wrap items-center gap-x-2.5 gap-y-1 mb-2.5"},o.createElement("span",{className:"px-2.5 py-1 text-xs font-medium bg-indigo-700 text-indigo-200 rounded-full shadow-sm"},e.category),o.createElement("div",{className:"flex items-center text-gray-400 text-xs"},o.createElement(Mc,{className:"h-3.5 w-3.5 mr-1 text-indigo-400"}),o.createElement("span",null,e.date))),o.createElement("h3",{className:"text-lg lg:text-xl font-semibold text-white mb-2.5 line-clamp-2 group-hover:text-indigo-300 transition-colors duration-300"},e.title),o.createElement("p",{className:"text-gray-300/90 text-sm mb-4 line-clamp-3 flex-grow leading-relaxed"},e.excerpt),o.createElement("div",{className:"flex items-center justify-between mt-auto pt-2.5 border-t border-gray-700/40"},o.createElement("span",{className:"text-xs text-gray-400"},e.readTime),o.createElement("div",{className:"inline-flex items-center text-sm text-indigo-400 group-hover:text-indigo-300 font-medium transition-colors duration-300"},"Read More",o.createElement(fo.P.span,{animate:{x:n===e.slug?4:0},transition:{type:"spring",stiffness:300,damping:20}},o.createElement(ad,{className:"h-4 w-4 ml-1.5"})))))))))))),0===e.length&&o.createElement(fo.P.div,{className:"mt-16 bg-gray-800/70 backdrop-blur-sm rounded-xl border border-gray-700/60 p-8 md:p-12 text-center shadow-xl shadow-indigo-500/20",initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:.2,duration:.5,ease:"easeOut"}},o.createElement("div",{className:"inline-flex items-center justify-center w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 text-white shadow-lg shadow-indigo-500/30"},o.createElement(Po,{className:"h-10 w-10"})),o.createElement("h3",{className:"text-2xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-indigo-300 to-purple-300 mb-3"},"Content Coming Soon"),o.createElement("p",{className:"text-gray-400 text-md max-w-md mx-auto leading-relaxed"},"We're busy crafting insightful articles and news. Please check back later for exciting updates!"))))},dd=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,hd=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fd={};function pd(e,t){return((t||fd).jsx?hd:dd).test(e)}const md=/[ \t\n\f\r]/g;function gd(e){return""===e.replace(md,"")}class yd{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function vd(e,t){const n={},r={};for(const t of e)Object.assign(n,t.property),Object.assign(r,t.normal);return new yd(n,r,t)}function bd(e){return e.toLowerCase()}yd.prototype.normal={},yd.prototype.property={},yd.prototype.space=void 0;class wd{constructor(e,t){this.attribute=t,this.property=e}}wd.prototype.attribute="",wd.prototype.booleanish=!1,wd.prototype.boolean=!1,wd.prototype.commaOrSpaceSeparated=!1,wd.prototype.commaSeparated=!1,wd.prototype.defined=!1,wd.prototype.mustUseProperty=!1,wd.prototype.number=!1,wd.prototype.overloadedBoolean=!1,wd.prototype.property="",wd.prototype.spaceSeparated=!1,wd.prototype.space=void 0;let xd=0;const Ed=Nd(),Sd=Nd(),kd=Nd(),Cd=Nd(),_d=Nd(),Td=Nd(),Ad=Nd();function Nd(){return 2**++xd}const Id=Object.keys(e);class Pd extends wd{constructor(t,n,r,i){let o=-1;if(super(t,n),Rd(this,"space",i),"number"==typeof r)for(;++o<Id.length;){const t=Id[o];Rd(this,Id[o],(r&e[t])===e[t])}}}function Rd(e,t,n){n&&(e[t]=n)}function Od(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new Pd(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[bd(r)]=r,n[bd(o.attribute)]=r}return new yd(t,n,e.space)}Pd.prototype.defined=!0;const Dd=Od({properties:{ariaActiveDescendant:null,ariaAtomic:Sd,ariaAutoComplete:null,ariaBusy:Sd,ariaChecked:Sd,ariaColCount:Cd,ariaColIndex:Cd,ariaColSpan:Cd,ariaControls:_d,ariaCurrent:null,ariaDescribedBy:_d,ariaDetails:null,ariaDisabled:Sd,ariaDropEffect:_d,ariaErrorMessage:null,ariaExpanded:Sd,ariaFlowTo:_d,ariaGrabbed:Sd,ariaHasPopup:null,ariaHidden:Sd,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:_d,ariaLevel:Cd,ariaLive:null,ariaModal:Sd,ariaMultiLine:Sd,ariaMultiSelectable:Sd,ariaOrientation:null,ariaOwns:_d,ariaPlaceholder:null,ariaPosInSet:Cd,ariaPressed:Sd,ariaReadOnly:Sd,ariaRelevant:null,ariaRequired:Sd,ariaRoleDescription:_d,ariaRowCount:Cd,ariaRowIndex:Cd,ariaRowSpan:Cd,ariaSelected:Sd,ariaSetSize:Cd,ariaSort:null,ariaValueMax:Cd,ariaValueMin:Cd,ariaValueNow:Cd,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function Md(e,t){return t in e?e[t]:t}function Ud(e,t){return Md(e,t.toLowerCase())}const Ld=Od({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Td,acceptCharset:_d,accessKey:_d,action:null,allow:null,allowFullScreen:Ed,allowPaymentRequest:Ed,allowUserMedia:Ed,alt:null,as:null,async:Ed,autoCapitalize:null,autoComplete:_d,autoFocus:Ed,autoPlay:Ed,blocking:_d,capture:null,charSet:null,checked:Ed,cite:null,className:_d,cols:Cd,colSpan:null,content:null,contentEditable:Sd,controls:Ed,controlsList:_d,coords:Cd|Td,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ed,defer:Ed,dir:null,dirName:null,disabled:Ed,download:kd,draggable:Sd,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ed,formTarget:null,headers:_d,height:Cd,hidden:Ed,high:Cd,href:null,hrefLang:null,htmlFor:_d,httpEquiv:_d,id:null,imageSizes:null,imageSrcSet:null,inert:Ed,inputMode:null,integrity:null,is:null,isMap:Ed,itemId:null,itemProp:_d,itemRef:_d,itemScope:Ed,itemType:_d,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ed,low:Cd,manifest:null,max:null,maxLength:Cd,media:null,method:null,min:null,minLength:Cd,multiple:Ed,muted:Ed,name:null,nonce:null,noModule:Ed,noValidate:Ed,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ed,optimum:Cd,pattern:null,ping:_d,placeholder:null,playsInline:Ed,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ed,referrerPolicy:null,rel:_d,required:Ed,reversed:Ed,rows:Cd,rowSpan:Cd,sandbox:_d,scope:null,scoped:Ed,seamless:Ed,selected:Ed,shadowRootClonable:Ed,shadowRootDelegatesFocus:Ed,shadowRootMode:null,shape:null,size:Cd,sizes:null,slot:null,span:Cd,spellCheck:Sd,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Cd,step:null,style:null,tabIndex:Cd,target:null,title:null,translate:null,type:null,typeMustMatch:Ed,useMap:null,value:Sd,width:Cd,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:_d,axis:null,background:null,bgColor:null,border:Cd,borderColor:null,bottomMargin:Cd,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ed,declare:Ed,event:null,face:null,frame:null,frameBorder:null,hSpace:Cd,leftMargin:Cd,link:null,longDesc:null,lowSrc:null,marginHeight:Cd,marginWidth:Cd,noResize:Ed,noHref:Ed,noShade:Ed,noWrap:Ed,object:null,profile:null,prompt:null,rev:null,rightMargin:Cd,rules:null,scheme:null,scrolling:Sd,standby:null,summary:null,text:null,topMargin:Cd,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Cd,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ed,disableRemotePlayback:Ed,prefix:null,property:null,results:Cd,security:null,unselectable:null},space:"html",transform:Ud}),Fd=Od({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ad,accentHeight:Cd,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Cd,amplitude:Cd,arabicForm:null,ascent:Cd,attributeName:null,attributeType:null,azimuth:Cd,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Cd,by:null,calcMode:null,capHeight:Cd,className:_d,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Cd,diffuseConstant:Cd,direction:null,display:null,dur:null,divisor:Cd,dominantBaseline:null,download:Ed,dx:null,dy:null,edgeMode:null,editable:null,elevation:Cd,enableBackground:null,end:null,event:null,exponent:Cd,externalResourcesRequired:null,fill:null,fillOpacity:Cd,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Td,g2:Td,glyphName:Td,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Cd,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Cd,horizOriginX:Cd,horizOriginY:Cd,id:null,ideographic:Cd,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Cd,k:Cd,k1:Cd,k2:Cd,k3:Cd,k4:Cd,kernelMatrix:Ad,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Cd,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Cd,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Cd,overlineThickness:Cd,paintOrder:null,panose1:null,path:null,pathLength:Cd,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:_d,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Cd,pointsAtY:Cd,pointsAtZ:Cd,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ad,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ad,rev:Ad,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ad,requiredFeatures:Ad,requiredFonts:Ad,requiredFormats:Ad,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Cd,specularExponent:Cd,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Cd,strikethroughThickness:Cd,string:null,stroke:null,strokeDashArray:Ad,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Cd,strokeOpacity:Cd,strokeWidth:null,style:null,surfaceScale:Cd,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ad,tabIndex:Cd,tableValues:null,target:null,targetX:Cd,targetY:Cd,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ad,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Cd,underlineThickness:Cd,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Cd,values:null,vAlphabetic:Cd,vMathematical:Cd,vectorEffect:null,vHanging:Cd,vIdeographic:Cd,version:null,vertAdvY:Cd,vertOriginX:Cd,vertOriginY:Cd,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Cd,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Md}),jd=Od({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),Bd=Od({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Ud}),zd=Od({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),Vd=vd([Dd,Ld,jd,Bd,zd],"html"),Hd=vd([Dd,Fd,jd,Bd,zd],"svg"),qd=/[A-Z]/g,$d=/-[a-z]/g,Wd=/^data[-\w.:]+$/i;function Kd(e){return"-"+e.toLowerCase()}function Yd(e){return e.charAt(1).toUpperCase()}const Gd={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var Jd=i(9002);const Zd=Xd("end"),Qd=Xd("start");function Xd(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function eh(e){return e&&"object"==typeof e?"position"in e||"type"in e?nh(e.position):"start"in e||"end"in e?nh(e):"line"in e||"column"in e?th(e):"":""}function th(e){return rh(e&&e.line)+":"+rh(e&&e.column)}function nh(e){return th(e&&e.start)+"-"+th(e&&e.end)}function rh(e){return e&&"number"==typeof e?e:1}class ih extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let r="",i={},o=!1;if(t&&(i="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?r=e:!i.cause&&e&&(o=!0,r=e.message,i.cause=e),!i.ruleId&&!i.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?i.ruleId=n:(i.source=n.slice(0,e),i.ruleId=n.slice(e+1))}if(!i.place&&i.ancestors&&i.ancestors){const e=i.ancestors[i.ancestors.length-1];e&&(i.place=e.position)}const a=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=a?a.line:void 0,this.name=eh(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&"string"==typeof i.cause.stack?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}ih.prototype.file="",ih.prototype.name="",ih.prototype.reason="",ih.prototype.message="",ih.prototype.stack="",ih.prototype.column=void 0,ih.prototype.line=void 0,ih.prototype.ancestors=void 0,ih.prototype.cause=void 0,ih.prototype.fatal=void 0,ih.prototype.place=void 0,ih.prototype.ruleId=void 0,ih.prototype.source=void 0;const oh={}.hasOwnProperty,ah=new Map,sh=/[A-Z]/g,lh=new Set(["table","tbody","thead","tfoot","tr"]),ch=new Set(["td","th"]),uh="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function dh(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(i=Hd,e.schema=i),e.ancestors.push(t);const o=gh(e,t.tagName,!1),a=function(e,t){const n={};let r,i;for(i in t.properties)if("children"!==i&&oh.call(t.properties,i)){const o=mh(e,i,t.properties[i]);if(o){const[i,a]=o;e.tableCellAlignToStyle&&"align"===i&&"string"==typeof a&&ch.has(t.tagName)?r=a:n[i]=a}}return r&&((n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r),n}(e,t);let s=ph(e,t);return lh.has(t.tagName)&&(s=s.filter((function(e){return"string"!=typeof e||!("object"==typeof(t=e)?"text"===t.type&&gd(t.value):gd(t));var t}))),hh(e,a,o,t),fh(a,s),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}yh(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.name&&"html"===r.space&&(i=Hd,e.schema=i),e.ancestors.push(t);const o=null===t.name?e.Fragment:gh(e,t.name,!0),a=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];t.type;const i=t.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else yh(e,t.position);else{const i=r.name;let o;if(r.value&&"object"==typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];t.type,o=e.evaluater.evaluateExpression(t.expression)}else yh(e,t.position);else o=null===r.value||r.value;n[i]=o}return n}(e,t),s=ph(e,t);return hh(e,a,o,t),fh(a,s),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);yh(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return fh(r,ph(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function hh(e,t,n,r){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function fh(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function ph(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:ah;for(;++r<t.children.length;){const o=t.children[r];let a;if(e.passKeys){const e="element"===o.type?o.tagName:"mdxJsxFlowElement"===o.type||"mdxJsxTextElement"===o.type?o.name:void 0;if(e){const t=i.get(e)||0;a=e+"-"+t,i.set(e,t+1)}}const s=dh(e,o,a);void 0!==s&&n.push(s)}return n}function mh(e,t,n){const r=function(e,t){const n=bd(t);let r=t,i=wd;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&Wd.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace($d,Yd);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!$d.test(e)){let n=e.replace(qd,Kd);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}i=Pd}return new i(r,t)}(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e){const t={};return(""===e[e.length-1]?[...e,""]:e).join((t.padRight?" ":"")+","+(!1===t.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"==typeof n?n:function(e,t){try{return Jd(t,{reactCompat:!0})}catch(t){if(e.ignoreInvalidStyle)return{};const n=t,r=new ih("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=uh+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)oh.call(e,n)&&(t[vh(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?Gd[r.property]||r.property:r.attribute,n]}}function gh(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,i=-1;for(;++i<e.length;){const t=pd(e[i])?{type:"Identifier",name:e[i]}:{type:"Literal",value:e[i]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(i&&"Literal"===t.type),optional:!1}:t}r=n}else r=pd(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return oh.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);yh(e)}function yh(e,t){const n=new ih("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=uh+"#cannot-handle-mdx-estrees-without-createevaluater",n}function vh(e){let t=e.replace(sh,bh);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function bh(e){return"-"+e.toLowerCase()}const wh={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xh={};function Eh(e,t){const n=t||xh;return Sh(e,"boolean"!=typeof n.includeImageAlt||n.includeImageAlt,"boolean"!=typeof n.includeHtml||n.includeHtml)}function Sh(e,t,n){if(function(e){return Boolean(e&&"object"==typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return kh(e.children,t,n)}return Array.isArray(e)?kh(e,t,n):""}function kh(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Sh(e[i],t,n);return r.join("")}function Ch(e,t,n,r){const i=e.length;let o,a=0;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function _h(e,t){return e.length>0?(Ch(e,e.length,0,t),e):t}class Th{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null==t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&Ah(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ah(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ah(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Ah(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ah(this.left,t.reverse())}}}function Ah(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Nh(e){const t={};let n,r,i,o,a,s,l,c=-1;const u=new Th(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===u.get(c-1)[1].type&&(s=n[1]._tokenizer.events,i=0,i<s.length&&"lineEndingBlank"===s[i][1].type&&(i+=2),i<s.length&&"content"===s[i][1].type))for(;++i<s.length&&"content"!==s[i][1].type;)"chunkText"===s[i][1].type&&(s[i][1]._isInFirstContentOfListItem=!0,i++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,Ih(u,c)),c=t[c],l=!0);else if(n[1]._container){for(i=c,r=void 0;i--;)if(o=u.get(i),"lineEnding"===o[1].type||"lineEndingBlank"===o[1].type)"enter"===o[0]&&(r&&(u.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=i);else if("linePrefix"!==o[1].type&&"listItemIndent"!==o[1].type)break;r&&(n[1].end={...u.get(r)[1].start},a=u.slice(r,c),a.unshift(n),u.splice(r,c-r+1,a))}}return Ch(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function Ih(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],c={};let u,d,h=-1,f=n,p=0,m=0;const g=[m];for(;f;){for(;e.get(++i)[1]!==f;);o.push(i),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),d&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++h<s.length;)"exit"===s[h][0]&&"enter"===s[h-1][0]&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(m=h+1,g.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):g.pop(),h=g.length;h--;){const t=s.slice(g[h],g[h+1]),n=o.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const Ph={}.hasOwnProperty;function Rh(e){const t={};let n=-1;for(;++n<e.length;)Oh(t,e[n]);return t}function Oh(e,t){let n;for(n in t){const r=(Ph.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){Ph.call(r,o)||(r[o]=[]);const e=i[o];Dh(r[o],Array.isArray(e)?e:e?[e]:[])}}}function Dh(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);Ch(e,0,0,r)}const Mh=Kh(/[A-Za-z]/),Uh=Kh(/[\dA-Za-z]/),Lh=Kh(/[#-'*+\--9=?A-Z^-~]/);function Fh(e){return null!==e&&(e<32||127===e)}const jh=Kh(/\d/),Bh=Kh(/[\dA-Fa-f]/),zh=Kh(/[!-/:-@[-`{-~]/);function Vh(e){return null!==e&&e<-2}function Hh(e){return null!==e&&(e<0||32===e)}function qh(e){return-2===e||-1===e||32===e}const $h=Kh(/\p{P}|\p{S}/u),Wh=Kh(/\s/);function Kh(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function Yh(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return function(r){return qh(r)?(e.enter(n),a(r)):t(r)};function a(r){return qh(r)&&o++<i?(e.consume(r),a):(e.exit(n),t(r))}}const Gh={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null!==n)return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Yh(e,t,"linePrefix");e.consume(n)}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,i(t)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):Vh(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),i)}}},Jh={tokenize:function(e){const t=this,n=[];let r,i,o,a=0;return s;function s(r){if(a<n.length){const i=n[a];return t.containerState=i[1],e.attempt(i[0].continuation,l,c)(r)}return c(r)}function l(e){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&v();const n=t.events.length;let i,o=n;for(;o--;)if("exit"===t.events[o][0]&&"chunkFlow"===t.events[o][1].type){i=t.events[o][1].end;break}y(a);let s=n;for(;s<t.events.length;)t.events[s][1].end={...i},s++;return Ch(t.events,o+1,0,t.events.slice(n)),t.events.length=s,c(e)}return s(e)}function c(i){if(a===n.length){if(!r)return h(i);if(r.currentConstruct&&r.currentConstruct.concrete)return p(i);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Zh,u,d)(i)}function u(e){return r&&v(),y(a),h(e)}function d(e){return t.parser.lazy[t.now().line]=a!==n.length,o=t.now().offset,p(e)}function h(n){return t.containerState={},e.attempt(Zh,f,p)(n)}function f(e){return a++,n.push([t.currentConstruct,t.containerState]),h(e)}function p(n){return null===n?(r&&v(),y(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:i}),m(n))}function m(n){return null===n?(g(e.exit("chunkFlow"),!0),y(0),void e.consume(n)):Vh(n)?(e.consume(n),g(e.exit("chunkFlow")),a=0,t.interrupt=void 0,s):(e.consume(n),m)}function g(e,n){const s=t.sliceStream(e);if(n&&s.push(null),e.previous=i,i&&(i.next=e),i=e,r.defineSkip(e.start),r.write(s),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<o&&(!r.events[e][1].end||r.events[e][1].end.offset>o))return;const n=t.events.length;let i,s,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(i){s=t.events[l][1].end;break}i=!0}for(y(a),e=n;e<t.events.length;)t.events[e][1].end={...s},e++;Ch(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function y(r){let i=n.length;for(;i-- >r;){const r=n[i];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function v(){r.write([null]),i=void 0,r=void 0,t.containerState._closeFlow=void 0}}},Zh={tokenize:function(e,t,n){return Yh(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},Qh={partial:!0,tokenize:function(e,t,n){return function(t){return qh(t)?Yh(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||Vh(e)?t(e):n(e)}}},Xh={resolve:function(e){return Nh(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):Vh(t)?e.check(ef,o,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function o(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},ef={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Yh(e,i,"linePrefix")};function i(i){if(null===i||Vh(i))return n(i);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}},tf={tokenize:function(e){const t=this,n=e.attempt(Qh,(function(r){if(null!==r)return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n;e.consume(r)}),e.attempt(this.parser.constructs.flowInitial,r,Yh(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Xh,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}},nf={resolveAll:sf()},rf=af("string"),of=af("text");function af(e){return{resolveAll:sf("text"===e?lf:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],i=t.attempt(r,o,a);return o;function o(e){return l(e)?i(e):a(e)}function a(e){if(null!==e)return t.enter("data"),t.consume(e),s;t.consume(e)}function s(e){return l(e)?(t.exit("data"),i(e)):(t.consume(e),s)}function l(e){if(null===e)return!0;const t=r[e];let i=-1;if(t)for(;++i<t.length;){const e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function sf(e){return function(t,n){let r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function lf(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],i=t.sliceStream(r);let o,a=i.length,s=-1,l=0;for(;a--;){const e=i[a];if("string"==typeof e){for(s=e.length;32===e.charCodeAt(s-1);)l++,s--;if(s)break;s=-1}else if(-2===e)o=!0,l++;else if(-1!==e){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const i={type:n===e.length||o||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...i.start},r.start.offset===r.end.offset?Object.assign(r,i):(e.splice(n,0,["enter",i,t],["exit",i,t]),n+=2)}n++}return e}const cf={name:"thematicBreak",tokenize:function(e,t,n){let r,i=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,o(e)}(t)};function o(o){return o===r?(e.enter("thematicBreakSequence"),a(o)):i>=3&&(null===o||Vh(o))?(e.exit("thematicBreak"),t(o)):n(o)}function a(t){return t===r?(e.consume(t),i++,a):(e.exit("thematicBreakSequence"),qh(t)?Yh(e,o,"whitespace")(t):o(t))}}},uf={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Qh,(function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Yh(e,t,"listItemIndent",r.containerState.size+1)(n)}),(function(n){return r.containerState.furtherBlankLines||!qh(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(hf,t,i)(n))}));function i(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,Yh(e,e.attempt(uf,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,a=0;return function(t){const i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:jh(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(cf,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(t)}return n(t)};function s(t){return jh(t)&&++a<10?(e.consume(t),s):(!r.interrupt||a<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(Qh,r.interrupt?n:c,e.attempt(df,d,u))}function c(e){return r.containerState.initialBlankLine=!0,o++,d(e)}function u(t){return qh(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},df={partial:!0,tokenize:function(e,t,n){const r=this;return Yh(e,(function(e){const i=r.events[r.events.length-1];return!qh(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},hf={partial:!0,tokenize:function(e,t,n){const r=this;return Yh(e,(function(e){const i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)}},ff={continuation:{tokenize:function(e,t,n){const r=this;return function(t){return qh(t)?Yh(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):i(t)};function i(r){return e.attempt(ff,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return qh(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};function pf(e,t,n,r,i,o,a,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){return 60===t?(e.enter(r),e.enter(i),e.enter(o),e.consume(t),e.exit(o),d):null===t||32===t||41===t||Fh(t)?n(t):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),p(t))};function d(n){return 62===n?(e.enter(o),e.consume(n),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(s),d(t)):null===t||60===t||Vh(t)?n(t):(e.consume(t),92===t?f:h)}function f(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function p(i){return u||null!==i&&41!==i&&!Hh(i)?u<c&&40===i?(e.consume(i),u++,p):41===i?(e.consume(i),u--,p):null===i||32===i||40===i||Fh(i)?n(i):(e.consume(i),92===i?m:p):(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(i))}function m(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function mf(e,t,n,r,i,o){const a=this;let s,l=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(o),c};function c(d){return l>999||null===d||91===d||93===d&&!s||94===d&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(d):93===d?(e.exit(o),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):Vh(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(t){return null===t||91===t||93===t||Vh(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),s||(s=!qh(t)),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function gf(e,t,n,r,i,o){let a;return function(t){return 34===t||39===t||40===t?(e.enter(r),e.enter(i),e.consume(t),e.exit(i),a=40===t?41:t,s):n(t)};function s(n){return n===a?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(o),l(n))}function l(t){return t===a?(e.exit(o),s(a)):null===t?n(t):Vh(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Yh(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===a||null===t||Vh(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===a||92===t?(e.consume(t),c):c(t)}}function yf(e,t){let n;return function r(i){return Vh(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):qh(i)?Yh(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function vf(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const bf={name:"definition",tokenize:function(e,t,n){const r=this;let i;return function(t){return e.enter("definition"),function(t){return mf.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function o(t){return i=vf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),a):n(t)}function a(t){return Hh(t)?yf(e,s)(t):s(t)}function s(t){return pf(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(wf,c,c)(t)}function c(t){return qh(t)?Yh(e,u,"whitespace")(t):u(t)}function u(o){return null===o||Vh(o)?(e.exit("definition"),r.parser.defined.push(i),t(o)):n(o)}}},wf={partial:!0,tokenize:function(e,t,n){return function(t){return Hh(t)?yf(e,r)(t):n(t)};function r(t){return gf(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function i(t){return qh(t)?Yh(e,o,"whitespace")(t):o(t)}function o(e){return null===e||Vh(e)?t(e):n(e)}}},xf={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),Yh(e,i,"linePrefix",5)(t)};function i(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?o(e):n(e)}function o(t){return null===t?s(t):Vh(t)?e.attempt(Ef,o,s)(t):(e.enter("codeFlowValue"),a(t))}function a(t){return null===t||Vh(t)?(e.exit("codeFlowValue"),o(t)):(e.consume(t),a)}function s(n){return e.exit("codeIndented"),t(n)}}},Ef={partial:!0,tokenize:function(e,t,n){const r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):Vh(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):Yh(e,o,"linePrefix",5)(t)}function o(e){const o=r.events[r.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(e):Vh(e)?i(e):n(e)}}},Sf={name:"headingAtx",resolve:function(e,t){let n,r,i=e.length-2,o=3;return"whitespace"===e[o][1].type&&(o+=2),i-2>o&&"whitespace"===e[i][1].type&&(i-=2),"atxHeadingSequence"===e[i][1].type&&(o===i-1||i-4>o&&"whitespace"===e[i-2][1].type)&&(i-=o+1===i?2:4),i>o&&(n={type:"atxHeadingText",start:e[o][1].start,end:e[i][1].end},r={type:"chunkText",start:e[o][1].start,end:e[i][1].end,contentType:"text"},Ch(e,o,i-o+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]])),e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),i(t)}(t)};function i(t){return 35===t&&r++<6?(e.consume(t),i):null===t||Hh(t)?(e.exit("atxHeadingSequence"),o(t)):n(t)}function o(n){return 35===n?(e.enter("atxHeadingSequence"),a(n)):null===n||Vh(n)?(e.exit("atxHeading"),t(n)):qh(n)?Yh(e,o,"whitespace")(n):(e.enter("atxHeadingText"),s(n))}function a(t){return 35===t?(e.consume(t),a):(e.exit("atxHeadingSequence"),o(t))}function s(t){return null===t||35===t||Hh(t)?(e.exit("atxHeadingText"),o(t)):(e.consume(t),s)}}},kf={name:"setextUnderline",resolveTo:function(e,t){let n,r,i,o=e.length;for(;o--;)if("enter"===e[o][0]){if("content"===e[o][1].type){n=o;break}"paragraph"===e[o][1].type&&(r=o)}else"content"===e[o][1].type&&e.splice(o,1),i||"definition"!==e[o][1].type||(i=o);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",a,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=a,e.push(["exit",a,t]),e},tokenize:function(e,t,n){const r=this;let i;return function(t){let a,s=r.events.length;for(;s--;)if("lineEnding"!==r.events[s][1].type&&"linePrefix"!==r.events[s][1].type&&"content"!==r.events[s][1].type){a="paragraph"===r.events[s][1].type;break}return r.parser.lazy[r.now().line]||!r.interrupt&&!a?n(t):(e.enter("setextHeadingLine"),i=t,function(t){return e.enter("setextHeadingLineSequence"),o(t)}(t))};function o(t){return t===i?(e.consume(t),o):(e.exit("setextHeadingLineSequence"),qh(t)?Yh(e,a,"lineSuffix")(t):a(t))}function a(r){return null===r||Vh(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}},Cf=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],_f=["pre","script","style","textarea"],Tf={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););return t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},tokenize:function(e,t,n){const r=this;let i,o,a,s,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(s){return 33===s?(e.consume(s),u):47===s?(e.consume(s),o=!0,f):63===s?(e.consume(s),i=3,r.interrupt?t:D):Mh(s)?(e.consume(s),a=String.fromCharCode(s),p):n(s)}function u(o){return 45===o?(e.consume(o),i=2,d):91===o?(e.consume(o),i=5,s=0,h):Mh(o)?(e.consume(o),i=4,r.interrupt?t:D):n(o)}function d(i){return 45===i?(e.consume(i),r.interrupt?t:D):n(i)}function h(i){return i==="CDATA[".charCodeAt(s++)?(e.consume(i),6===s?r.interrupt?t:_:h):n(i)}function f(t){return Mh(t)?(e.consume(t),a=String.fromCharCode(t),p):n(t)}function p(s){if(null===s||47===s||62===s||Hh(s)){const l=47===s,c=a.toLowerCase();return l||o||!_f.includes(c)?Cf.includes(a.toLowerCase())?(i=6,l?(e.consume(s),m):r.interrupt?t(s):_(s)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(s):o?g(s):y(s)):(i=1,r.interrupt?t(s):_(s))}return 45===s||Uh(s)?(e.consume(s),a+=String.fromCharCode(s),p):n(s)}function m(i){return 62===i?(e.consume(i),r.interrupt?t:_):n(i)}function g(t){return qh(t)?(e.consume(t),g):k(t)}function y(t){return 47===t?(e.consume(t),k):58===t||95===t||Mh(t)?(e.consume(t),v):qh(t)?(e.consume(t),y):k(t)}function v(t){return 45===t||46===t||58===t||95===t||Uh(t)?(e.consume(t),v):b(t)}function b(t){return 61===t?(e.consume(t),w):qh(t)?(e.consume(t),b):y(t)}function w(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,x):qh(t)?(e.consume(t),w):E(t)}function x(t){return t===l?(e.consume(t),l=null,S):null===t||Vh(t)?n(t):(e.consume(t),x)}function E(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||Hh(t)?b(t):(e.consume(t),E)}function S(e){return 47===e||62===e||qh(e)?y(e):n(e)}function k(t){return 62===t?(e.consume(t),C):n(t)}function C(t){return null===t||Vh(t)?_(t):qh(t)?(e.consume(t),C):n(t)}function _(t){return 45===t&&2===i?(e.consume(t),I):60===t&&1===i?(e.consume(t),P):62===t&&4===i?(e.consume(t),M):63===t&&3===i?(e.consume(t),D):93===t&&5===i?(e.consume(t),O):!Vh(t)||6!==i&&7!==i?null===t||Vh(t)?(e.exit("htmlFlowData"),T(t)):(e.consume(t),_):(e.exit("htmlFlowData"),e.check(Af,U,T)(t))}function T(t){return e.check(Nf,A,U)(t)}function A(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),N}function N(t){return null===t||Vh(t)?T(t):(e.enter("htmlFlowData"),_(t))}function I(t){return 45===t?(e.consume(t),D):_(t)}function P(t){return 47===t?(e.consume(t),a="",R):_(t)}function R(t){if(62===t){const n=a.toLowerCase();return _f.includes(n)?(e.consume(t),M):_(t)}return Mh(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),R):_(t)}function O(t){return 93===t?(e.consume(t),D):_(t)}function D(t){return 62===t?(e.consume(t),M):45===t&&2===i?(e.consume(t),D):_(t)}function M(t){return null===t||Vh(t)?(e.exit("htmlFlowData"),U(t)):(e.consume(t),M)}function U(n){return e.exit("htmlFlow"),t(n)}}},Af={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Qh,t,n)}}},Nf={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return Vh(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):n(t)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},If={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return null===t?n(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},Pf={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,i={partial:!0,tokenize:function(e,t,n){let i=0;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a};function a(t){return e.enter("codeFencedFence"),qh(t)?Yh(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):l(t)}function l(t){return t===o?(e.enter("codeFencedFenceSequence"),c(t)):n(t)}function c(t){return t===o?(i++,e.consume(t),c):i>=s?(e.exit("codeFencedFenceSequence"),qh(t)?Yh(e,u,"whitespace")(t):u(t)):n(t)}function u(r){return null===r||Vh(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let o,a=0,s=0;return function(t){return function(t){const n=r.events[r.events.length-1];return a=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,o=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===o?(s++,e.consume(t),l):s<3?n(t):(e.exit("codeFencedFenceSequence"),qh(t)?Yh(e,c,"whitespace")(t):c(t))}function c(n){return null===n||Vh(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(If,f,v)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(n))}function u(t){return null===t||Vh(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):qh(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Yh(e,d,"whitespace")(t)):96===t&&t===o?n(t):(e.consume(t),u)}function d(t){return null===t||Vh(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||Vh(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===o?n(t):(e.consume(t),h)}function f(t){return e.attempt(i,v,p)(t)}function p(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return a>0&&qh(t)?Yh(e,g,"linePrefix",a+1)(t):g(t)}function g(t){return null===t||Vh(t)?e.check(If,f,v)(t):(e.enter("codeFlowValue"),y(t))}function y(t){return null===t||Vh(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),y)}function v(n){return e.exit("codeFenced"),t(n)}}},Rf=document.createElement("i");function Of(e){const t="&"+e+";";Rf.innerHTML=t;const n=Rf.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&n!==t&&n}const Df={name:"characterReference",tokenize:function(e,t,n){const r=this;let i,o,a=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),s};function s(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),i=31,o=Uh,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=Bh,c):(e.enter("characterReferenceValue"),i=7,o=jh,c(t))}function c(s){if(59===s&&a){const i=e.exit("characterReferenceValue");return o!==Uh||Of(r.sliceSerialize(i))?(e.enter("characterReferenceMarker"),e.consume(s),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(s)}return o(s)&&a++<i?(e.consume(s),c):n(s)}}},Mf={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return zh(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}},Uf={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Yh(e,t,"linePrefix")}}};function Lf(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Ff={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}return e.length!==n.length&&Ch(e,0,e.length,n),e},resolveTo:function(e,t){let n,r,i,o,a=e.length,s=0;for(;a--;)if(n=e[a][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=a,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(i=a);const l={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[r][1].start},end:{...e[i][1].end}},u={type:"labelText",start:{...e[r+s+2][1].end},end:{...e[i-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=_h(o,e.slice(r+1,r+s+3)),o=_h(o,[["enter",u,t]]),o=_h(o,Lf(t.parser.constructs.insideSpan.null,e.slice(r+s+4,i-3),t)),o=_h(o,[["exit",u,t],e[i-2],e[i-1],["exit",c,t]]),o=_h(o,e.slice(i+1)),o=_h(o,[["exit",l,t]]),Ch(e,r,e.length,o),e},tokenize:function(e,t,n){const r=this;let i,o,a=r.events.length;for(;a--;)if(("labelImage"===r.events[a][1].type||"labelLink"===r.events[a][1].type)&&!r.events[a][1]._balanced){i=r.events[a][1];break}return function(t){return i?i._inactive?u(t):(o=r.parser.defined.includes(vf(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),s):n(t)};function s(t){return 40===t?e.attempt(jf,c,o?c:u)(t):91===t?e.attempt(Bf,c,o?l:u)(t):o?c(t):u(t)}function l(t){return e.attempt(zf,c,u)(t)}function c(e){return t(e)}function u(e){return i._balanced=!0,n(e)}}},jf={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return Hh(t)?yf(e,i)(t):i(t)}function i(t){return 41===t?c(t):pf(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function o(t){return Hh(t)?yf(e,s)(t):c(t)}function a(e){return n(e)}function s(t){return 34===t||39===t||40===t?gf(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return Hh(t)?yf(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},Bf={tokenize:function(e,t,n){const r=this;return function(t){return mf.call(r,e,i,o,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(vf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function o(e){return n(e)}}},zf={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}},Vf={name:"labelStartImage",resolveAll:Ff.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),o):n(t)}function o(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};function Hf(e){return null===e||Hh(e)||Wh(e)?1:$h(e)?2:void 0}const qf={name:"attention",resolveAll:function(e,t){let n,r,i,o,a,s,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d={...e[n][1].end},h={...e[u][1].start};$f(d,-s),$f(h,s),o={type:s>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},a={type:s>1?"strongSequence":"emphasisSequence",start:{...e[u][1].start},end:h},i={type:s>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[u][1].start}},r={type:s>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[n][1].end={...o.start},e[u][1].start={...a.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=_h(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=_h(l,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",i,t]]),l=_h(l,Lf(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=_h(l,[["exit",i,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=_h(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,Ch(e,n-1,u-n+3,l),u=n+l.length-c-2;break}for(u=-1;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Hf(r);let o;return function(t){return o=t,e.enter("attentionSequence"),a(t)};function a(s){if(s===o)return e.consume(s),a;const l=e.exit("attentionSequence"),c=Hf(s),u=!c||2===c&&i||n.includes(s),d=!i||2===i&&c||n.includes(r);return l._open=Boolean(42===o?u:u&&(i||!d)),l._close=Boolean(42===o?d:d&&(c||!u)),t(s)}}};function $f(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Wf={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return Mh(t)?(e.consume(t),o):64===t?n(t):l(t)}function o(e){return 43===e||45===e||46===e||Uh(e)?(r=1,a(e)):l(e)}function a(t){return 58===t?(e.consume(t),r=0,s):(43===t||45===t||46===t||Uh(t))&&r++<32?(e.consume(t),a):(r=0,l(t))}function s(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||Fh(r)?n(r):(e.consume(r),s)}function l(t){return 64===t?(e.consume(t),c):Lh(t)?(e.consume(t),l):n(t)}function c(e){return Uh(e)?u(e):n(e)}function u(n){return 46===n?(e.consume(n),r=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||Uh(t))&&r++<63){const n=45===t?d:u;return e.consume(t),n}return n(t)}}},Kf={name:"htmlText",tokenize:function(e,t,n){const r=this;let i,o,a;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),s};function s(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),w):63===t?(e.consume(t),v):Mh(t)?(e.consume(t),S):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),o=0,f):Mh(t)?(e.consume(t),y):n(t)}function c(t){return 45===t?(e.consume(t),h):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),d):Vh(t)?(a=u,R(t)):(e.consume(t),u)}function d(t){return 45===t?(e.consume(t),h):u(t)}function h(e){return 62===e?P(e):45===e?d(e):u(e)}function f(t){return t==="CDATA[".charCodeAt(o++)?(e.consume(t),6===o?p:f):n(t)}function p(t){return null===t?n(t):93===t?(e.consume(t),m):Vh(t)?(a=p,R(t)):(e.consume(t),p)}function m(t){return 93===t?(e.consume(t),g):p(t)}function g(t){return 62===t?P(t):93===t?(e.consume(t),g):p(t)}function y(t){return null===t||62===t?P(t):Vh(t)?(a=y,R(t)):(e.consume(t),y)}function v(t){return null===t?n(t):63===t?(e.consume(t),b):Vh(t)?(a=v,R(t)):(e.consume(t),v)}function b(e){return 62===e?P(e):v(e)}function w(t){return Mh(t)?(e.consume(t),x):n(t)}function x(t){return 45===t||Uh(t)?(e.consume(t),x):E(t)}function E(t){return Vh(t)?(a=E,R(t)):qh(t)?(e.consume(t),E):P(t)}function S(t){return 45===t||Uh(t)?(e.consume(t),S):47===t||62===t||Hh(t)?k(t):n(t)}function k(t){return 47===t?(e.consume(t),P):58===t||95===t||Mh(t)?(e.consume(t),C):Vh(t)?(a=k,R(t)):qh(t)?(e.consume(t),k):P(t)}function C(t){return 45===t||46===t||58===t||95===t||Uh(t)?(e.consume(t),C):_(t)}function _(t){return 61===t?(e.consume(t),T):Vh(t)?(a=_,R(t)):qh(t)?(e.consume(t),_):k(t)}function T(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),i=t,A):Vh(t)?(a=T,R(t)):qh(t)?(e.consume(t),T):(e.consume(t),N)}function A(t){return t===i?(e.consume(t),i=void 0,I):null===t?n(t):Vh(t)?(a=A,R(t)):(e.consume(t),A)}function N(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||Hh(t)?k(t):(e.consume(t),N)}function I(e){return 47===e||62===e||Hh(e)?k(e):n(e)}function P(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function R(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),O}function O(t){return qh(t)?Yh(e,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):D(t)}function D(t){return e.enter("htmlTextData"),a(t)}}},Yf={name:"labelStartLink",resolveAll:Ff.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}},Gf={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return Vh(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}},Jf={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,i=3;if(!("lineEnding"!==e[i][1].type&&"space"!==e[i][1].type||"lineEnding"!==e[r][1].type&&"space"!==e[r][1].type))for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}for(t=i-1,r++;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,i,o=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),a(t)};function a(t){return 96===t?(e.consume(t),o++,a):(e.exit("codeTextSequence"),s(t))}function s(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),s):96===t?(i=e.enter("codeTextSequence"),r=0,c(t)):Vh(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||Vh(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),r++,c):r===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",l(n))}}},Zf={42:uf,43:uf,45:uf,48:uf,49:uf,50:uf,51:uf,52:uf,53:uf,54:uf,55:uf,56:uf,57:uf,62:ff},Qf={91:bf},Xf={[-2]:xf,[-1]:xf,32:xf},ep={35:Sf,42:cf,45:[kf,cf],60:Tf,61:kf,95:cf,96:Pf,126:Pf},tp={38:Df,92:Mf},np={[-5]:Uf,[-4]:Uf,[-3]:Uf,33:Vf,38:Df,42:qf,60:[Wf,Kf],91:Yf,92:[Gf,Mf],93:Ff,95:qf,96:Jf},rp={null:[qf,nf]},ip={null:[42,95]},op={null:[]};function ap(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],s=[],l=!0;const c={attempt:y((function(e,t){v(e,t.from)})),check:y(g),consume:function(e){Vh(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,b()):-1!==e&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=p(),u.events.push(["enter",n,u]),s.push(n),n},exit:function(e){const t=s.pop();return t.end=p(),u.events.push(["exit",t,u]),t},interrupt:y(g,{interrupt:!0})},u={code:null,containerState:{},defineSkip:function(e){i[e.line]=e.column,b()},events:[],now:p,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let a;if("string"==typeof o)a=o;else switch(o){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=t?" ":"\t";break;case-1:if(!t&&i)continue;a=" ";break;default:a=String.fromCharCode(o)}i=-2===o,r.push(a)}return r.join("")}(f(e),t)},sliceStream:f,write:function(e){return a=_h(a,e),function(){let e;for(;r._index<a.length;){const t=a[r._index];if("string"==typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)m(t.charCodeAt(r._bufferIndex));else m(t)}}(),null!==a[a.length-1]?[]:(v(t,0),u.events=Lf(o,u.events,u),u.events)}};let d,h=t.tokenize.call(u,c);return t.resolveAll&&o.push(t),u;function f(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,o)];else{if(a=e.slice(n,i),r>-1){const e=a[0];"string"==typeof e?a[0]=e.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}(a,e)}function p(){const{_bufferIndex:e,_index:t,line:n,column:i,offset:o}=r;return{_bufferIndex:e,_index:t,line:n,column:i,offset:o}}function m(e){l=void 0,d=e,h=h(e)}function g(e,t){t.restore()}function y(e,t){return function(n,i,o){let a,d,h,f;return Array.isArray(n)?g(n):"tokenize"in n?g([n]):(m=n,function(e){const t=null!==e&&m[e],n=null!==e&&m.null;return g([...Array.isArray(t)?t:t?[t]:[],...Array.isArray(n)?n:n?[n]:[]])(e)});var m;function g(e){return a=e,d=0,0===e.length?o:y(e[d])}function y(e){return function(n){return f=function(){const e=p(),t=u.previous,n=u.currentConstruct,i=u.events.length,o=Array.from(s);return{from:i,restore:function(){r=e,u.previous=t,u.currentConstruct=n,u.events.length=i,s=o,b()}}}(),h=e,e.partial||(u.currentConstruct=e),e.name&&u.parser.constructs.disable.null.includes(e.name)?w():e.tokenize.call(t?Object.assign(Object.create(u),t):u,c,v,w)(n)}}function v(t){return l=!0,e(h,f),i}function w(e){return l=!0,f.restore(),++d<a.length?y(a[d]):o}}}function v(e,t){e.resolveAll&&!o.includes(e)&&o.push(e),e.resolve&&Ch(u.events,t,u.events.length-t,e.resolve(u.events.slice(t),u)),e.resolveTo&&(u.events=e.resolveTo(u.events,u))}function b(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}const sp=/[\0\t\n\r]/g;function lp(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"�":String.fromCodePoint(n)}const cp=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function up(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return lp(n.slice(t?2:1),t?16:10)}return Of(n)||e}const dp={}.hasOwnProperty;function hp(e,n,r){return"string"!=typeof n&&(r=n,n=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(v),autolinkProtocol:u,autolinkEmail:u,atxHeading:i(m),blockQuote:i((function(){return{type:"blockquote",children:[]}})),characterEscape:u,characterReference:u,codeFenced:i(p),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(p,o),codeText:i((function(){return{type:"inlineCode",value:""}}),o),codeTextData:u,data:u,codeFlowValue:u,definition:i((function(){return{type:"definition",identifier:"",label:null,title:null,url:""}})),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i((function(){return{type:"emphasis",children:[]}})),hardBreakEscape:i(g),hardBreakTrailing:i(g),htmlFlow:i(y,o),htmlFlowData:u,htmlText:i(y,o),htmlTextData:u,image:i((function(){return{type:"image",title:null,url:"",alt:null}})),label:o,link:i(v),listItem:i((function(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}})),listItemValue:function(e){this.data.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0)},listOrdered:i(b,(function(){this.data.expectingFirstListItemValue=!0})),listUnordered:i(b),paragraph:i((function(){return{type:"paragraph",children:[]}})),reference:function(){this.data.referenceType="collapsed"},referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(m),strong:i((function(){return{type:"strong",children:[]}})),thematicBreak:i((function(){return{type:"thematicBreak"}}))},exit:{atxHeading:s(),atxHeadingSequence:function(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}},autolink:s(),autolinkEmail:function(e){d.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)},autolinkProtocol:function(e){d.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)},blockQuote:s(),characterEscapeValue:d,characterReferenceMarkerHexadecimal:f,characterReferenceMarkerNumeric:f,characterReferenceValue:function(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;n?(r=lp(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0):r=Of(t);this.stack[this.stack.length-1].value+=r},characterReference:function(e){this.stack.pop().position.end=fp(e.end)},codeFenced:s((function(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0})),codeFencedFence:function(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)},codeFencedFenceInfo:function(){const e=this.resume();this.stack[this.stack.length-1].lang=e},codeFencedFenceMeta:function(){const e=this.resume();this.stack[this.stack.length-1].meta=e},codeFlowValue:d,codeIndented:s((function(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")})),codeText:s((function(){const e=this.resume();this.stack[this.stack.length-1].value=e})),codeTextData:d,data:d,definition:s(),definitionDestinationString:function(){const e=this.resume();this.stack[this.stack.length-1].url=e},definitionLabelString:function(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=vf(this.sliceSerialize(e)).toLowerCase()},definitionTitleString:function(){const e=this.resume();this.stack[this.stack.length-1].title=e},emphasis:s(),hardBreakEscape:s(h),hardBreakTrailing:s(h),htmlFlow:s((function(){const e=this.resume();this.stack[this.stack.length-1].value=e})),htmlFlowData:d,htmlText:s((function(){const e=this.resume();this.stack[this.stack.length-1].value=e})),htmlTextData:d,image:s((function(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0})),label:function(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t},labelText:function(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(cp,up)}(t),n.identifier=vf(t).toLowerCase()},lineEnding:function(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak)return n.children[n.children.length-1].position.end=fp(e.end),void(this.data.atHardBreak=void 0);!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(u.call(this,e),d.call(this,e))},link:s((function(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0})),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:function(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=vf(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString:function(){const e=this.resume();this.stack[this.stack.length-1].url=e},resourceTitleString:function(){const e=this.resume();this.stack[this.stack.length-1].title=e},resource:function(){this.data.inReference=void 0},setextHeading:s((function(){this.data.setextHeadingSlurpLineEnding=void 0})),setextHeadingLineSequence:function(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2},setextHeadingText:function(){this.data.setextHeadingSlurpLineEnding=!0},strong:s(),thematicBreak:s()}};pp(t,(e||{}).mdastExtensions||[]);const n={};return function(e){let i={type:"root",children:[]};const s={stack:[i],tokenStack:[],config:t,enter:a,exit:l,buffer:o,resume:c,data:n},u=[];let d=-1;for(;++d<e.length;)"listOrdered"!==e[d][1].type&&"listUnordered"!==e[d][1].type||("enter"===e[d][0]?u.push(d):d=r(e,u.pop(),d));for(d=-1;++d<e.length;){const n=t[e[d][0]];dp.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},s),e[d][1])}if(s.tokenStack.length>0){const e=s.tokenStack[s.tokenStack.length-1];(e[1]||gp).call(s,void 0,e[0])}for(i.position={start:fp(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:fp(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)i=t.transforms[d](i)||i;return i};function r(e,t,n){let r,i,o,a,s=t-1,l=-1,c=!1;for(;++s<=n;){const t=e[s];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,a=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||a||l||o||(o=s),a=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:a=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let a=s;for(i=void 0;a--;){const t=e[a];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;i&&(e[i][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",i=a}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}o&&(!i||o<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:t[1].end),e.splice(i||s,0,["exit",r,t[2]]),s++,n++}if("listItemPrefix"===t[1].type){const i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=i,e.splice(s,0,["enter",i,t[2]]),s++,n++,o=void 0,a=!0}}}return e[t][1]._spread=c,n}function i(e,t){return function(n){a.call(this,e(n),n),t&&t.call(this,n)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:fp(t.start),end:void 0}}function s(e){return function(t){e&&e.call(this,t),l.call(this,t)}}function l(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+eh({start:e.start,end:e.end})+"): it’s not open");r[0].type!==e.type&&(t?t.call(this,e,r[0]):(r[1]||gp).call(this,e,r[0])),n.position.end=fp(e.end)}function c(){return Eh(this.stack.pop())}function u(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n={type:"text",value:""},n.position={start:fp(e.start),end:void 0},t.push(n)),this.stack.push(n)}function d(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=fp(e.end)}function h(){this.data.atHardBreak=!0}function f(e){this.data.characterReferenceType=e.type}function p(){return{type:"code",lang:null,meta:null,value:""}}function m(){return{type:"heading",depth:0,children:[]}}function g(){return{type:"break"}}function y(){return{type:"html",value:""}}function v(){return{type:"link",title:null,url:"",children:[]}}function b(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}}(r)(function(e){for(;!Nh(e););return e}(function(e){const n={constructs:Rh([t,...(e||{}).extensions||[]]),content:r(Gh),defined:[],document:r(Jh),flow:r(tf),lazy:{},string:r(rf),text:r(of)};return n;function r(e){return function(t){return ap(n,e,t)}}}(r).document().write(function(){let e,t=1,n="",r=!0;return function(i,o,a){const s=[];let l,c,u,d,h;for(i=n+("string"==typeof i?i.toString():new TextDecoder(o||void 0).decode(i)),u=0,n="",r&&(65279===i.charCodeAt(0)&&u++,r=void 0);u<i.length;){if(sp.lastIndex=u,l=sp.exec(i),d=l&&void 0!==l.index?l.index:i.length,h=i.charCodeAt(d),!l){n=i.slice(u);break}if(10===h&&u===d&&e)s.push(-3),e=void 0;else switch(e&&(s.push(-5),e=void 0),u<d&&(s.push(i.slice(u,d)),t+=d-u),h){case 0:s.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),s.push(-2);t++<c;)s.push(-1);break;case 10:s.push(-4),t=1;break;default:e=!0,t=1}u=d+1}return a&&(e&&s.push(-5),n&&s.push(n),s.push(null)),s}}()(e,n,!0))))}function fp(e){return{line:e.line,column:e.column,offset:e.offset}}function pp(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?pp(e,r):mp(e,r)}}function mp(e,t){let n;for(n in t)if(dp.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function gp(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+eh({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+eh({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+eh({start:t.start,end:t.end})+") is still open")}function yp(e){const t=this;t.parser=function(n){return hp(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const vp="object"==typeof self?self:globalThis,bp=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=i=>{if(e.has(i))return e.get(i);const[o,a]=t[i];switch(o){case 0:case-1:return n(a,i);case 1:{const e=n([],i);for(const t of a)e.push(r(t));return e}case 2:{const e=n({},i);for(const[t,n]of a)e[r(t)]=r(n);return e}case 3:return n(new Date(a),i);case 4:{const{source:e,flags:t}=a;return n(new RegExp(e,t),i)}case 5:{const e=n(new Map,i);for(const[t,n]of a)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,i);for(const t of a)e.add(r(t));return e}case 7:{const{name:e,message:t}=a;return n(new vp[e](t),i)}case 8:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:e}=new Uint8Array(a);return n(new DataView(e),a)}}return n(new vp[o](a),i)};return r})(new Map,e)(0),wp="",{toString:xp}={},{keys:Ep}=Object,Sp=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=xp.call(e).slice(8,-1);switch(n){case"Array":return[1,wp];case"Object":return[2,wp];case"Date":return[3,wp];case"RegExp":return[4,wp];case"Map":return[5,wp];case"Set":return[6,wp];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},kp=([e,t])=>0===e&&("function"===t||"symbol"===t),Cp=(e,{json:t,lossy:n}={})=>{const r=[];return((e,t,n,r)=>{const i=(e,t)=>{const i=r.push(e)-1;return n.set(t,i),i},o=r=>{if(n.has(r))return n.get(r);let[a,s]=Sp(r);switch(a){case 0:{let t=r;switch(s){case"bigint":a=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+s);t=null;break;case"undefined":return i([-1],r)}return i([a,t],r)}case 1:{if(s){let e=r;return"DataView"===s?e=new Uint8Array(r.buffer):"ArrayBuffer"===s&&(e=new Uint8Array(r)),i([s,[...e]],r)}const e=[],t=i([a,e],r);for(const t of r)e.push(o(t));return t}case 2:{if(s)switch(s){case"BigInt":return i([s,r.toString()],r);case"Boolean":case"Number":case"String":return i([s,r.valueOf()],r)}if(t&&"toJSON"in r)return o(r.toJSON());const n=[],l=i([a,n],r);for(const t of Ep(r))!e&&kp(Sp(r[t]))||n.push([o(t),o(r[t])]);return l}case 3:return i([a,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return i([a,{source:e,flags:t}],r)}case 5:{const t=[],n=i([a,t],r);for(const[n,i]of r)(e||!kp(Sp(n))&&!kp(Sp(i)))&&t.push([o(n),o(i)]);return n}case 6:{const t=[],n=i([a,t],r);for(const n of r)!e&&kp(Sp(n))||t.push(o(n));return n}}const{message:l}=r;return i([a,{name:s,message:l}],r)};return o})(!(t||n),!!t,new Map,r)(e),r},_p="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?bp(Cp(e,t)):structuredClone(e):(e,t)=>bp(Cp(e,t));function Tp(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(37===o&&Uh(e.charCodeAt(n+1))&&Uh(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const t=e.charCodeAt(n+1);o<56320&&t>56319&&t<57344?(a=String.fromCharCode(o,t),i=1):a="�"}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ap(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Np(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const Ip=function(e){if(null==e)return Rp;if("function"==typeof e)return Pp(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ip(e[n]);return Pp((function(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}))}(e):function(e){const t=e;return Pp((function(n){const r=n;let i;for(i in e)if(r[i]!==t[i])return!1;return!0}))}(e);if("string"==typeof e)return t=e,Pp((function(e){return e&&e.type===t}));var t;throw new Error("Expected function, string, or object as test")};function Pp(e){return function(t,n,r){return Boolean(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function Rp(){return!0}const Op=[],Dp=!1;function Mp(e,t,n,r){let i;"function"==typeof t&&"function"!=typeof n?(r=n,n=t):i=t;const o=Ip(i),a=r?-1:1;!function e(i,s,l){const c=i&&"object"==typeof i?i:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+i.type+(e?"<"+e+">":"")+")"})}return u;function u(){let c,u,d,h=Op;if((!t||o(i,s,l[l.length-1]||void 0))&&(h=function(e){return Array.isArray(e)?e:"number"==typeof e?[true,e]:null==e?Op:[e]}(n(i,l)),h[0]===Dp))return h;if("children"in i&&i.children){const t=i;if(t.children&&"skip"!==h[0])for(u=(r?t.children.length:-1)+a,d=l.concat(t);u>-1&&u<t.children.length;){const n=t.children[u];if(c=e(n,u,d)(),c[0]===Dp)return c;u="number"==typeof c[1]?c[1]:u+a}}return h}}(e,void 0,[])()}function Up(e,t,n,r){let i,o,a;"function"==typeof t&&"function"!=typeof n?(o=void 0,a=t,i=n):(o=t,a=n,i=r),Mp(e,o,(function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return a(e,r,n)}),i)}function Lp(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&"text"===o.type?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&"text"===a.type?a.value+=r:i.push({type:"text",value:r}),i}function Fp(e){const t=e.spread;return null==t?e.children.length>1:t}function jp(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(Bp(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(Bp(t.slice(i),i>0,!1)),o.join("")}function Bp(e,t,n){let r=0,i=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(i-1);for(;9===t||32===t;)i--,t=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}const zp={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Tp(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,s=e.footnoteCounts.get(r);void 0===s?(s=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Lp(e,t);const i={src:Tp(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)},image:function(e,t){const n={src:Tp(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Lp(e,t);const i={href:Tp(r.url||"")};null!==r.title&&void 0!==r.title&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)},link:function(e,t){const n={href:Tp(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),i=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Fp(n[r])}return t}(n):Fp(t),o={},a=[];if("boolean"==typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const e=r[s];(i||0!==s||"element"!==e.type||"p"!==e.tagName)&&a.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||i?a.push(e):a.push(...e.children)}const l=r[r.length-1];l&&(i||"element"!==l.type||"p"!==l.tagName)&&a.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let i=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++i<r.length;){const e=r[i];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),i.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Qd(t.children[1]),a=Zd(t.children[t.children.length-1]);o&&a&&(r.position={start:o,end:a}),i.push(r)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,i=0===(r?r.indexOf(t):1)?"th":"td",o=n&&"table"===n.type?n.align:void 0,a=o?o.length:t.children.length;let s=-1;const l=[];for(;++s<a;){const n=t.children[s],r={},a=o?o[s]:void 0;a&&(r.align=a);let c={type:"element",tagName:i,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:jp(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:Vp,yaml:Vp,definition:Vp,footnoteDefinition:Vp};function Vp(){}const Hp={}.hasOwnProperty,qp={};function $p(e,t){e.position&&(t.position=function(e){const t=Qd(e),n=Zd(e);if(t&&n)return{start:t,end:n}}(e))}function Wp(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,i=e.data.hProperties;"string"==typeof t&&("element"===n.type?n.tagName=t:n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}),"element"===n.type&&i&&Object.assign(n.properties,_p(i)),"children"in n&&n.children&&null!=r&&(n.children=r)}return n}function Kp(e,t){const n=t.data||{},r=!("value"in t)||Hp.call(n,"hProperties")||Hp.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function Yp(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function Gp(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function Jp(e,t){const n=function(e,t){const n=t||qp,r=new Map,i=new Map,o=new Map,a={...zp,...n.handlers},s={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const i=s.one(n[r],e);if(i){if(r&&"break"===n[r-1].type&&(Array.isArray(i)||"text"!==i.type||(i.value=Gp(i.value)),!Array.isArray(i)&&"element"===i.type)){const e=i.children[0];e&&"text"===e.type&&(e.value=Gp(e.value))}Array.isArray(i)?t.push(...i):t.push(i)}}}return t},applyData:Wp,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:function(e,t){const n=e.type,r=s.handlers[n];if(Hp.call(s.handlers,n)&&r)return r(s,e,t);if(s.options.passThrough&&s.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=_p(n);return r.children=s.all(e),r}return _p(e)}return(s.options.unknownHandler||Kp)(s,e,t)},options:n,patch:$p,wrap:Yp};return Up(e,(function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:i,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}})),s}(e,t),r=n.one(e,void 0),i=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ap,r=e.options.footnoteBackLabel||Np,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const i=e.footnoteById.get(e.footnoteOrder[l]);if(!i)continue;const o=e.all(i),a=String(i.identifier).toUpperCase(),c=Tp(a.toLowerCase());let u=0;const d=[],h=e.footnoteCounts.get(a);for(;void 0!==h&&++u<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,u);"string"==typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof r?r:r(l,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const f=o[o.length-1];if(f&&"element"===f.type&&"p"===f.tagName){const e=f.children[f.children.length-1];e&&"text"===e.type?e.value+=" ":f.children.push({type:"text",value:" "}),f.children.push(...d)}else o.push(...d);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(o,!0)};e.patch(i,p),s.push(p)}if(0!==s.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{..._p(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:"\n"}]}}(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:"\n"},i),o}function Zp(e,t){return e&&"run"in e?async function(n,r){const i=Jp(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Jp(n,{file:r,...e||t})}}function Qp(e){if(e)throw e}var Xp=i(6852);function em(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}const tm=function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');am(e);let n,r=0,i=-1,o=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;o--;)if(47===e.codePointAt(o)){if(n){r=o+1;break}}else i<0&&(n=!0,i=o+1);return i<0?"":e.slice(r,i)}if(t===e)return"";let a=-1,s=t.length-1;for(;o--;)if(47===e.codePointAt(o)){if(n){r=o+1;break}}else a<0&&(n=!0,a=o+1),s>-1&&(e.codePointAt(o)===t.codePointAt(s--)?s<0&&(i=o):(s=-1,i=a));return r===i?i=a:i<0&&(i=e.length),e.slice(r,i)},nm=function(e){if(am(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},rm=function(e){am(e);let t,n=e.length,r=-1,i=0,o=-1,a=0;for(;n--;){const s=e.codePointAt(n);if(47!==s)r<0&&(t=!0,r=n+1),46===s?o<0?o=n:1!==a&&(a=1):o>-1&&(a=-1);else if(t){i=n+1;break}}return o<0||r<0||0===a||1===a&&o===r-1&&o===i+1?"":e.slice(o,r)},im=function(...e){let t,n=-1;for(;++n<e.length;)am(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){am(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,i="",o=0,a=-1,s=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(a===l-1||1===s);else if(a!==l-1&&2===s){if(i.length<2||2!==o||46!==i.codePointAt(i.length-1)||46!==i.codePointAt(i.length-2))if(i.length>2){if(r=i.lastIndexOf("/"),r!==i.length-1){r<0?(i="",o=0):(i=i.slice(0,r),o=i.length-1-i.lastIndexOf("/")),a=l,s=0;continue}}else if(i.length>0){i="",o=0,a=l,s=0;continue}t&&(i=i.length>0?i+"/..":"..",o=2)}else i.length>0?i+="/"+e.slice(a+1,l):i=e.slice(a+1,l),o=l-a-1;a=l,s=0}else 46===n&&s>-1?s++:s=-1}return i}(e,!t);return 0!==n.length||t||(n="."),n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/"),t?"/"+n:n}(t)},om="/";function am(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const sm=function(){return"/"};function lm(e){return Boolean(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}const cm=["history","path","basename","stem","extname","dirname"];class um{constructor(e){let t;t=e?lm(e)?{path:e}:"string"==typeof e||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":sm(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<cm.length;){const e=cm[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)cm.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?tm(this.path):void 0}set basename(e){hm(e,"basename"),dm(e,"basename"),this.path=im(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?nm(this.path):void 0}set dirname(e){fm(this.basename,"dirname"),this.path=im(e||"",this.basename)}get extname(){return"string"==typeof this.path?rm(this.path):void 0}set extname(e){if(dm(e,"extname"),fm(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=im(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){lm(e)&&(e=function(e){if("string"==typeof e)e=new URL(e);else if(!lm(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}(e)),hm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?tm(this.path,this.extname):void 0}set stem(e){hm(e,"stem"),dm(e,"stem"),this.path=im(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new ih(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return void 0===this.value?"":"string"==typeof this.value?this.value:new TextDecoder(e||void 0).decode(this.value)}}function dm(e,t){if(e&&e.includes(om))throw new Error("`"+t+"` cannot be a path: did not expect `"+om+"`")}function hm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function fm(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const pm=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},mm={}.hasOwnProperty;class gm extends pm{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=function(){const e=[],t={run:function(...t){let n=-1;const r=t.pop();if("function"!=typeof r)throw new TypeError("Expected function as last argument, not "+r);!function i(o,...a){const s=e[++n];let l=-1;if(o)r(o);else{for(;++l<t.length;)null!==a[l]&&void 0!==a[l]||(a[l]=t[l]);t=a,s?function(e,t){let n;return function(...t){const o=e.length>t.length;let a;o&&t.push(r);try{a=e.apply(this,t)}catch(e){if(o&&n)throw e;return r(e)}o||(a&&a.then&&"function"==typeof a.then?a.then(i,r):a instanceof Error?r(a):i(a))};function r(e,...r){n||(n=!0,t(e,...r))}function i(e){r(null,e)}}(s,i)(...a):r(null,...a)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}()}copy(){const e=new gm;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(Xp(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(wm("data",this.frozen),this.namespace[e]=t,this):mm.call(this.namespace,e)&&this.namespace[e]||void 0:e?(wm("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"==typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Sm(e),n=this.parser||this.Parser;return vm("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),vm("process",this.parser||this.Parser),bm("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,i){const o=Sm(e),a=n.parse(o);function s(e,n){e||!n?i(e):r?r(n):t(void 0,n)}n.run(a,o,(function(e,t,r){if(e||!t||!r)return s(e);const i=t,o=n.stringify(i,r);var a;"string"==typeof(a=o)||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(a)?r.value=o:r.result=o,s(e,r)}))}}processSync(e){let t,n=!1;return this.freeze(),vm("processSync",this.parser||this.Parser),bm("processSync",this.compiler||this.Compiler),this.process(e,(function(e,r){n=!0,Qp(e),t=r})),Em("processSync","process",n),t}run(e,t,n){xm(e),this.freeze();const r=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?i(void 0,n):new Promise(i);function i(i,o){const a=Sm(t);r.run(e,a,(function(t,r,a){const s=r||e;t?o(t):i?i(s):n(void 0,s,a)}))}}runSync(e,t){let n,r=!1;return this.run(e,t,(function(e,t){Qp(e),n=t,r=!0})),Em("runSync","run",r),n}stringify(e,t){this.freeze();const n=Sm(t),r=this.compiler||this.Compiler;return bm("stringify",r),xm(e),r(e,n)}use(e,...t){const n=this.attachers,r=this.namespace;if(wm("use",this.frozen),null==e);else if("function"==typeof e)s(e,t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?a(e):o(e)}return this;function i(e){if("function"==typeof e)s(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;s(t,n)}else o(e)}}function o(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(e.plugins),e.settings&&(r.settings=Xp(!0,r.settings,e.settings))}function a(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;)i(e[t])}}function s(e,t){let r=-1,i=-1;for(;++r<n.length;)if(n[r][0]===e){i=r;break}if(-1===i)n.push([e,...t]);else if(t.length>0){let[r,...o]=t;const a=n[i][1];em(a)&&em(r)&&(r=Xp(!0,a,r)),n[i]=[e,r,...o]}}}}const ym=(new gm).freeze();function vm(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function bm(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function wm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function xm(e){if(!em(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function Em(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Sm(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new um(e)}const km=[],Cm={allowDangerousHtml:!0},_m=/^(https?|ircs?|mailto|xmpp)$/i,Tm=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Am(e){const t=function(e){const t=e.rehypePlugins||km,n=e.remarkPlugins||km,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Cm}:Cm;return ym().use(yp).use(n).use(Zp,r).use(t)}(e),n=function(e){const t=e.children||"",n=new um;return"string"==typeof t&&(n.value=t),n}(e);return function(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,a=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||Nm;for(const e of Tm)Object.hasOwn(t,e.from)&&(e.from,e.to&&e.to,e.id);return Up(e,(function(e,t,i){if("raw"===e.type&&i&&"number"==typeof t)return a?i.children.splice(t,1):i.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in wh)if(Object.hasOwn(wh,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=wh[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let a=n?!n.includes(e.tagName):!!o&&o.includes(e.tagName);if(!a&&r&&"number"==typeof t&&(a=!r(e,t,i)),a&&i&&"number"==typeof t)return s&&e.children?i.children.splice(t,1,...e.children):i.children.splice(t,1),t}})),function(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return function(n,r,i,o){const a=Array.isArray(i.children),s=Qd(n);return t(r,i,o,a,{columnNumber:s?s.column-1:void 0,fileName:e,lineNumber:s?s.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");i=t.jsx,o=t.jsxs,r=function(e,t,n,r){const a=Array.isArray(n.children)?o:i;return r?a(t,n,r):a(t,n)}}var i,o;const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?Hd:Vd,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},s=dh(a,e,void 0);return s&&"string"!=typeof s?s:a.create(e,a.Fragment,{children:s||void 0},void 0)}(e,{Fragment:po.Fragment,components:i,ignoreInvalidStyle:!0,jsx:po.jsx,jsxs:po.jsxs,passKeys:!0,passNode:!0})}(t.runSync(t.parse(n),n),e)}function Nm(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return-1===t||-1!==i&&t>i||-1!==n&&t>n||-1!==r&&t>r||_m.test(e.slice(0,t))?e:""}function Im(e,t){const n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;-1!==i;)r++,i=n.indexOf(t,i+t.length);return r}function Pm(e){return"function"==typeof e?e:function(){return e}}const Rm="phrasing",Om=["autolink","link","image","label"];function Dm(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Mm(e){this.config.enter.autolinkProtocol.call(this,e)}function Um(e){this.config.exit.autolinkProtocol.call(this,e)}function Lm(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Fm(e){this.config.exit.autolinkEmail.call(this,e)}function jm(e){this.exit(e)}function Bm(e){!function(e,t,n){const r=Ip((n||{}).ignore||[]),i=function(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const e=n[r];t.push([(i=e[0],"string"==typeof i?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(i),"g"):i),Pm(e[1])])}var i;return t}(t);let o=-1;for(;++o<i.length;)Mp(e,"text",a);function a(e,t){let n,a=-1;for(;++a<t.length;){const e=t[a],i=n?n.children:void 0;if(r(e,i?i.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],r=i[o][0],a=i[o][1];let s=0;const l=n.children.indexOf(e);let c=!1,u=[];r.lastIndex=0;let d=r.exec(e.value);for(;d;){const n=d.index,i={index:d.index,input:d.input,stack:[...t,e]};let o=a(...d,i);if("string"==typeof o&&(o=o.length>0?{type:"text",value:o}:void 0),!1===o?r.lastIndex=n+1:(s!==n&&u.push({type:"text",value:e.value.slice(s,n)}),Array.isArray(o)?u.push(...o):o&&u.push(o),s=n+d[0].length,c=!0),!r.global)break;d=r.exec(e.value)}return c?(s<e.value.length&&u.push({type:"text",value:e.value.slice(s)}),n.children.splice(l,1,...u)):u=[e],l+u.length}(e,t)}}(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,zm],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,Vm]],{ignore:["link","linkReference"]})}function zm(e,t,n,r,i){let o="";if(!Hm(i))return!1;if(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!function(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}(n))return!1;const a=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Im(e,"(");let o=Im(e,")");for(;-1!==r&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}(n+r);if(!a[0])return!1;const s={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function Vm(e,t,n,r){return!(!Hm(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Hm(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||Wh(n)||$h(n))&&(!t||47!==n)}function qm(){this.buffer()}function $m(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Wm(){this.buffer()}function Km(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Ym(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=vf(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Gm(e){this.exit(e)}function Jm(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=vf(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Zm(e){this.exit(e)}function Qm(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),s(),a(),o+=i.move("]"),o}function Xm(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:function(e,n,r,i){const o=r.createTracker(i);let a=o.move("[^");const s=r.enter("footnoteDefinition"),l=r.enter("label");return a+=o.move(r.safe(r.associationId(e),{before:a,after:"]"})),l(),a+=o.move("]:"),e.children&&e.children.length>0&&(o.shift(4),a+=o.move((t?"\n":" ")+r.indentLines(r.containerFlow(e,o.current()),t?tg:eg))),s(),a},footnoteReference:Qm},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}}function eg(e,t,n){return 0===t?e:tg(e,0,n)}function tg(e,t,n){return(n?"":"    ")+e}Qm.peek=function(){return"["};const ng=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function rg(e){this.enter({type:"delete",children:[]},e)}function ig(e){this.exit(e)}function og(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function ag(e){return e.length}function sg(e){const t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function lg(e,t,n){return">"+(n?"":" ")+e}function cg(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function ug(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if("\n"===n.unsafe[i].character&&(cg(o=n.stack,(a=n.unsafe[i]).inConstruct,!0)&&!cg(o,a.notInConstruct,!1)))return/[ \t]/.test(r.before)?"":" ";var o,a;return"\\\n"}function dg(e,t,n){return(n?"":"    ")+e}function hg(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function fg(e){return"&#x"+e.toString(16).toUpperCase()+";"}function pg(e,t,n){const r=Hf(e),i=Hf(t);return void 0===r?void 0===i?"_"===n?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===i?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===r?void 0===i?{inside:!1,outside:!1}:1===i?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===i?{inside:!1,outside:!1}:1===i?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function mg(e,t,n,r){const i=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),o=n.enter("emphasis"),a=n.createTracker(r),s=a.move(i);let l=a.move(n.containerPhrasing(e,{after:i,before:s,...a.current()}));const c=l.charCodeAt(0),u=pg(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=fg(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=pg(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+fg(d));const f=a.move(i);return o(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},s+l+f}function gg(e){return e.value||""}function yg(e,t,n,r){const i=hg(n),o='"'===i?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),a(),c}function vg(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),"full"!==i&&c&&c===d?"shortcut"===i?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(d+"]"),l}function bg(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const e=n.unsafe[o],t=n.compilePattern(e);let i;if(e.atBreak)for(;i=t.exec(r);){let e=i.index;10===r.charCodeAt(e)&&13===r.charCodeAt(e-1)&&e--,r=r.slice(0,e)+" "+r.slice(i.index+1)}}return i+r+i}function wg(e,t){const n=Eh(e);return Boolean(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function xg(e,t,n,r){const i=hg(n),o='"'===i?"Quote":"Apostrophe",a=n.createTracker(r);let s,l;if(wg(e,n)){const t=n.stack;n.stack=[],s=n.enter("autolink");let r=a.move("<");return r+=a.move(n.containerPhrasing(e,{before:r,after:">",...a.current()})),r+=a.move(">"),s(),n.stack=t,r}s=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=n.enter(`title${o}`),c+=a.move(" "+i),c+=a.move(n.safe(e.title,{before:c,after:i,...a.current()})),c+=a.move(i),l()),c+=a.move(")"),s(),c}function Eg(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),"full"!==i&&c&&c===d?"shortcut"===i?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(d+"]"),l}function Sg(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function kg(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}og.peek=function(){return"~"},mg.peek=function(e,t,n){return n.options.emphasis||"*"},gg.peek=function(){return"<"},yg.peek=function(){return"!"},vg.peek=function(){return"!"},bg.peek=function(){return"`"},xg.peek=function(e,t,n){return wg(e,n)?"<":"["},Eg.peek=function(){return"["};const Cg=Ip(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function _g(e,t,n,r){const i=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),o=n.enter("strong"),a=n.createTracker(r),s=a.move(i+i);let l=a.move(n.containerPhrasing(e,{after:i,before:s,...a.current()}));const c=l.charCodeAt(0),u=pg(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=fg(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=pg(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+fg(d));const f=a.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},s+l+f}_g.peek=function(e,t,n){return n.options.strong||"*"};const Tg={blockquote:function(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(e,o.current()),lg);return i(),a},break:ug,code:function(e,t,n,r){const i=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),o=e.value||"",a="`"===i?"GraveAccent":"Tilde";if(function(e,t){return Boolean(!1===t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(o,dg);return e(),t}const s=n.createTracker(r),l=i.repeat(Math.max(function(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,a=0;if("string"!=typeof t)throw new TypeError("Expected substring");for(;-1!==r;)r===i?++o>a&&(a=o):o=1,i=r+t.length,r=n.indexOf(t,i);return a}(o,i)+1,3)),c=n.enter("codeFenced");let u=s.move(l);if(e.lang){const t=n.enter(`codeFencedLang${a}`);u+=s.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...s.current()})),t()}if(e.lang&&e.meta){const t=n.enter(`codeFencedMeta${a}`);u+=s.move(" "),u+=s.move(n.safe(e.meta,{before:u,after:"\n",encode:["`"],...s.current()})),t()}return u+=s.move("\n"),o&&(u+=s.move(o+"\n")),u+=s.move(l),c(),u},definition:function(e,t,n,r){const i=hg(n),o='"'===i?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":"\n",...l.current()}))),s(),e.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),a(),c},emphasis:mg,hardBreak:ug,heading:function(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(function(e,t){let n=!1;return Up(e,(function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,Dp})),Boolean((!e.depth||e.depth<3)&&Eh(e)&&(t.options.setext||n))}(e,n)){const t=n.enter("headingSetext"),r=n.enter("phrasing"),a=n.containerPhrasing(e,{...o.current(),before:"\n",after:"\n"});return r(),t(),a+"\n"+(1===i?"=":"-").repeat(a.length-(Math.max(a.lastIndexOf("\r"),a.lastIndexOf("\n"))+1))}const a="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");o.move(a+" ");let c=n.containerPhrasing(e,{before:"# ",after:"\n",...o.current()});return/^[\t ]/.test(c)&&(c=fg(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),s(),c},html:gg,image:yg,imageReference:vg,inlineCode:bg,link:xg,linkReference:Eg,list:function(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=e.ordered?function(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(n):Sg(n);const s=e.ordered?"."===a?")":".":function(e){const t=Sg(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n);let l=!(!t||!n.bulletLastUsed)&&a===n.bulletLastUsed;if(!e.ordered){const t=e.children?e.children[0]:void 0;if("*"!==a&&"-"!==a||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(l=!0),kg(n)===a&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){l=!0;break}}}}l&&(a=s),n.bulletCurrent=a;const c=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),c},listItem:function(e,t,n,r){const i=function(e){const t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let o=n.bulletCurrent||Sg(n);t&&"list"===t.type&&t.ordered&&(o=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+o);let a=o.length+1;("tab"===i||"mixed"===i&&(t&&"list"===t.type&&t.spread||e.spread))&&(a=4*Math.ceil(a/4));const s=n.createTracker(r);s.move(o+" ".repeat(a-o.length)),s.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),(function(e,t,n){return t?(n?"":" ".repeat(a))+e:(n?o:o+" ".repeat(a-o.length))+e}));return l(),c},paragraph:function(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(e,r);return o(),i(),a},root:function(e,t,n,r){return(e.children.some((function(e){return Cg(e)}))?n.containerPhrasing:n.containerFlow).call(n,e,r)},strong:_g,text:function(e,t,n,r){return n.safe(e.value,r)},thematicBreak:function(e,t,n){const r=(kg(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?r.slice(0,-1):r}};function Ag(e){const t=e._align;this.enter({type:"table",align:t.map((function(e){return"none"===e?null:e})),children:[]},e),this.data.inTable=!0}function Ng(e){this.exit(e),this.data.inTable=void 0}function Ig(e){this.enter({type:"tableRow",children:[]},e)}function Pg(e){this.exit(e)}function Rg(e){this.enter({type:"tableCell",children:[]},e)}function Og(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Dg));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Dg(e,t){return"|"===t?t:e}function Mg(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){let r=Tg.inlineCode(e,t,n);return n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&")),r},table:function(e,t,n,r){return s(function(e,t,n){const r=e.children;let i=-1;const o=[],a=t.enter("table");for(;++i<r.length;)o[i]=l(r[i],t,n);return a(),o}(e,n,r),e.align)},tableCell:a,tableRow:function(e,t,n,r){const i=s([l(e,n,r)]);return i.slice(0,i.indexOf("\n"))}}};function a(e,t,n,r){const i=n.enter("tableCell"),a=n.enter("phrasing"),s=n.containerPhrasing(e,{...r,before:o,after:o});return a(),i(),s}function s(e,t){return function(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||ag,o=[],a=[],s=[],l=[];let c=0,u=-1;for(;++u<e.length;){const t=[],r=[];let o=-1;for(e[u].length>c&&(c=e[u].length);++o<e[u].length;){const a=null==(d=e[u][o])?"":String(d);if(!1!==n.alignDelimiters){const e=i(a);r[o]=e,(void 0===l[o]||e>l[o])&&(l[o]=e)}t.push(a)}a[u]=t,s[u]=r}var d;let h=-1;if("object"==typeof r&&"length"in r)for(;++h<c;)o[h]=sg(r[h]);else{const e=sg(r);for(;++h<c;)o[h]=e}h=-1;const f=[],p=[];for(;++h<c;){const e=o[h];let t="",r="";99===e?(t=":",r=":"):108===e?t=":":114===e&&(r=":");let i=!1===n.alignDelimiters?1:Math.max(1,l[h]-t.length-r.length);const a=t+"-".repeat(i)+r;!1!==n.alignDelimiters&&(i=t.length+i+r.length,i>l[h]&&(l[h]=i),p[h]=i),f[h]=a}a.splice(1,0,f),s.splice(1,0,p),u=-1;const m=[];for(;++u<a.length;){const e=a[u],t=s[u];h=-1;const r=[];for(;++h<c;){const i=e[h]||"";let a="",s="";if(!1!==n.alignDelimiters){const e=l[h]-(t[h]||0),n=o[h];114===n?a=" ".repeat(e):99===n?e%2?(a=" ".repeat(e/2+.5),s=" ".repeat(e/2-.5)):(a=" ".repeat(e/2),s=a):s=" ".repeat(e)}!1===n.delimiterStart||h||r.push("|"),!1===n.padding||!1===n.alignDelimiters&&""===i||!1===n.delimiterStart&&!h||r.push(" "),!1!==n.alignDelimiters&&r.push(a),r.push(i),!1!==n.alignDelimiters&&r.push(s),!1!==n.padding&&r.push(" "),!1===n.delimiterEnd&&h===c-1||r.push("|")}m.push(!1===n.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return m.join("\n")}(e,{align:t,alignDelimiters:r,padding:n,stringLength:i})}function l(e,t,n){const r=e.children;let i=-1;const o=[],s=t.enter("tableRow");for(;++i<r.length;)o[i]=a(r[i],0,t,n);return s(),o}}function Ug(e){const t=this.stack[this.stack.length-2];t.type,t.checked="taskListCheckValueChecked"===e.type}function Lg(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){const e=this.stack[this.stack.length-1];e.type;const n=e.children[0];if(n&&"text"===n.type){const r=t.children;let i,o=-1;for(;++o<r.length;){const e=r[o];if("paragraph"===e.type){i=e;break}}i===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function Fg(e,t,n,r){const i=e.children[0],o="boolean"==typeof e.checked&&i&&"paragraph"===i.type,a="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);o&&s.move(a);let l=Tg.listItem(e,t,n,{...r,...s.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,(function(e){return e+a}))),l}const jg={tokenize:function(e,t,n){let r=0;return function t(o){return(87===o||119===o)&&r<3?(r++,e.consume(o),t):46===o&&3===r?(e.consume(o),i):n(o)};function i(e){return null===e?n(e):t(e)}},partial:!0},Bg={tokenize:function(e,t,n){let r,i,o;return a;function a(t){return 46===t||95===t?e.check(Vg,l,s)(t):null===t||Hh(t)||Wh(t)||45!==t&&$h(t)?l(t):(o=!0,e.consume(t),a)}function s(t){return 95===t?r=!0:(i=r,r=void 0),e.consume(t),a}function l(e){return i||r||!o?n(e):t(e)}},partial:!0},zg={tokenize:function(e,t){let n=0,r=0;return i;function i(a){return 40===a?(n++,e.consume(a),i):41===a&&r<n?o(a):33===a||34===a||38===a||39===a||41===a||42===a||44===a||46===a||58===a||59===a||60===a||63===a||93===a||95===a||126===a?e.check(Vg,t,o)(a):null===a||Hh(a)||Wh(a)?t(a):(e.consume(a),i)}function o(t){return 41===t&&r++,e.consume(t),i}},partial:!0},Vg={tokenize:function(e,t,n){return r;function r(a){return 33===a||34===a||39===a||41===a||42===a||44===a||46===a||58===a||59===a||63===a||95===a||126===a?(e.consume(a),r):38===a?(e.consume(a),o):93===a?(e.consume(a),i):60===a||null===a||Hh(a)||Wh(a)?t(a):n(a)}function i(e){return null===e||40===e||91===e||Hh(e)||Wh(e)?t(e):r(e)}function o(e){return Mh(e)?a(e):n(e)}function a(t){return 59===t?(e.consume(t),r):Mh(t)?(e.consume(t),a):n(t)}},partial:!0},Hg={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(e){return Uh(e)?n(e):t(e)}},partial:!0},qg={name:"wwwAutolink",tokenize:function(e,t,n){const r=this;return function(t){return 87!==t&&119!==t||!Gg.call(r,r.previous)||Xg(r.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(jg,e.attempt(Bg,e.attempt(zg,i),n),n)(t))};function i(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:Gg},$g={name:"protocolAutolink",tokenize:function(e,t,n){const r=this;let i="",o=!1;return function(t){return 72!==t&&104!==t||!Jg.call(r,r.previous)||Xg(r.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(t),e.consume(t),a)};function a(t){if(Mh(t)&&i.length<5)return i+=String.fromCodePoint(t),e.consume(t),a;if(58===t){const n=i.toLowerCase();if("http"===n||"https"===n)return e.consume(t),s}return n(t)}function s(t){return 47===t?(e.consume(t),o?l:(o=!0,s)):n(t)}function l(t){return null===t||Fh(t)||Hh(t)||Wh(t)||$h(t)?n(t):e.attempt(Bg,e.attempt(zg,c),n)(t)}function c(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:Jg},Wg={name:"emailAutolink",tokenize:function(e,t,n){const r=this;let i,o;return function(t){return Qg(t)&&Zg.call(r,r.previous)&&!Xg(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(t)):n(t)};function a(t){return Qg(t)?(e.consume(t),a):64===t?(e.consume(t),s):n(t)}function s(t){return 46===t?e.check(Hg,c,l)(t):45===t||95===t||Uh(t)?(o=!0,e.consume(t),s):c(t)}function l(t){return e.consume(t),i=!0,s}function c(a){return o&&i&&Mh(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(a)):n(a)}},previous:Zg},Kg={};let Yg=48;for(;Yg<123;)Kg[Yg]=Wg,Yg++,58===Yg?Yg=65:91===Yg&&(Yg=97);function Gg(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||Hh(e)}function Jg(e){return!Mh(e)}function Zg(e){return!(47===e||Qg(e))}function Qg(e){return 43===e||45===e||46===e||95===e||Uh(e)}function Xg(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}Kg[43]=Wg,Kg[45]=Wg,Kg[46]=Wg,Kg[95]=Wg,Kg[72]=[Wg,$g],Kg[104]=[Wg,$g],Kg[87]=[Wg,qg],Kg[119]=[Wg,qg];const ey={tokenize:function(e,t,n){const r=this;return Yh(e,(function(e){const i=r.events[r.events.length-1];return i&&"gfmFootnoteDefinitionIndent"===i[1].type&&4===i[2].sliceSerialize(i[1],!0).length?t(e):n(e)}),"gfmFootnoteDefinitionIndent",5)},partial:!0};function ty(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const e=r.events[i][1];if("labelImage"===e.type){a=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(i){if(!a||!a._balanced)return n(i);const s=vf(r.sliceSerialize({start:a.end,end:r.now()}));return 94===s.codePointAt(0)&&o.includes(s.slice(1))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(i),e.exit("gfmFootnoteCallLabelMarker"),t(i)):n(i)}}function ny(e,t){let n,r=e.length;for(;r--;)if("labelImage"===e[r][1].type&&"enter"===e[r][0]){n=e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[e[r+1],e[r+2],["enter",i,t],e[r+3],e[r+4],["enter",o,t],["exit",o,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice(r,e.length-r+1,...l),e}function ry(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),s};function s(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(s){if(a>999||93===s&&!o||null===s||91===s||Hh(s))return n(s);if(93===s){e.exit("chunkString");const o=e.exit("gfmFootnoteCallString");return i.includes(vf(r.sliceSerialize(o)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(s),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(s)}return Hh(s)||(o=!0),a++,e.consume(s),92===s?c:l}function c(t){return 91===t||92===t||93===t?(e.consume(t),a++,l):l(t)}}function iy(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a,s=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(t)}function c(t){if(s>999||93===t&&!a||null===t||91===t||Hh(t))return n(t);if(93===t){e.exit("chunkString");const n=e.exit("gfmFootnoteDefinitionLabelString");return o=vf(r.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return Hh(t)||(a=!0),s++,e.consume(t),92===t?u:c}function u(t){return 91===t||92===t||93===t?(e.consume(t),s++,c):c(t)}function d(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),i.includes(o)||i.push(o),Yh(e,h,"gfmFootnoteDefinitionWhitespace")):n(t)}function h(e){return t(e)}}function oy(e,t,n){return e.check(Qh,t,e.attempt(ey,t,n))}function ay(e){e.exit("gfmFootnoteDefinition")}function sy(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:function(e,n,r){const i=this.previous,o=this.events;let a=0;return function(t){return 126===i&&"characterEscape"!==o[o.length-1][1].type?r(t):(e.enter("strikethroughSequenceTemporary"),s(t))};function s(o){const l=Hf(i);if(126===o)return a>1?r(o):(e.consume(o),a++,s);if(a<2&&!t)return r(o);const c=e.exit("strikethroughSequenceTemporary"),u=Hf(o);return c._open=!u||2===u&&Boolean(l),c._close=!l||2===l&&Boolean(u),n(o)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let r=n;for(;r--;)if("exit"===e[r][0]&&"strikethroughSequenceTemporary"===e[r][1].type&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset==e[r][1].end.offset-e[r][1].start.offset){e[n][1].type="strikethroughSequence",e[r][1].type="strikethroughSequence";const i={type:"strikethrough",start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},o={type:"strikethroughText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},a=[["enter",i,t],["enter",e[r][1],t],["exit",e[r][1],t],["enter",o,t]],s=t.parser.constructs.insideSpan.null;s&&Ch(a,a.length,0,Lf(s,e.slice(r+1,n),t)),Ch(a,a.length,0,[["exit",o,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",i,t]]),Ch(e,r-1,n-r+3,a),n=r+a.length-2;break}}for(n=-1;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class ly{constructor(){this.map=[]}add(e,t,n){!function(e,t,n,r){let i=0;if(0!==n||0!==r.length){for(;i<e.map.length;){if(e.map[i][0]===t)return e.map[i][1]+=n,void e.map[i][2].push(...r);i+=1}e.map.push([t,n,r])}}(this,e,t,n)}consume(e){if(this.map.sort((function(e,t){return e[0]-t[0]})),0===this.map.length)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let r=n.pop();for(;r;){for(const t of r)e.push(t);r=n.pop()}this.map.length=0}}function cy(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if("enter"===i[0])"tableContent"===i[1].type&&r.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===i[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=r.length-1;r[e]="left"===r[e]?"center":"right"}}else if("tableDelimiterRow"===i[1].type)break}else"enter"===i[0]&&"tableDelimiterRow"===i[1].type&&(n=!0);t+=1}return r}function uy(e,t,n){const r=this;let i,o=0,a=0;return function(e){let t=r.events.length-1;for(;t>-1;){const e=r.events[t][1].type;if("lineEnding"!==e&&"linePrefix"!==e)break;t--}const i=t>-1?r.events[t][1].type:null,o="tableHead"===i||"tableRow"===i?w:s;return o===w&&r.parser.lazy[r.now().line]?n(e):o(e)};function s(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){return 124===e||(i=!0,a+=1),l(e)}(t)}function l(t){return null===t?n(t):Vh(t)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),d):n(t):qh(t)?Yh(e,l,"whitespace")(t):(a+=1,i&&(i=!1,o+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),i=!0,l):(e.enter("data"),c(t)))}function c(t){return null===t||124===t||Hh(t)?(e.exit("data"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return 92===t||124===t?(e.consume(t),c):c(t)}function d(t){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(t):(e.enter("tableDelimiterRow"),i=!1,qh(t)?Yh(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):h(t))}function h(t){return 45===t||58===t?p(t):124===t?(i=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),f):b(t)}function f(t){return qh(t)?Yh(e,p,"whitespace")(t):p(t)}function p(t){return 58===t?(a+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),m):45===t?(a+=1,m(t)):null===t||Vh(t)?v(t):b(t)}function m(t){return 45===t?(e.enter("tableDelimiterFiller"),g(t)):b(t)}function g(t){return 45===t?(e.consume(t),g):58===t?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(t))}function y(t){return qh(t)?Yh(e,v,"whitespace")(t):v(t)}function v(n){return 124===n?h(n):(null===n||Vh(n))&&i&&o===a?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(n)):b(n)}function b(e){return n(e)}function w(t){return e.enter("tableRow"),x(t)}function x(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),x):null===n||Vh(n)?(e.exit("tableRow"),t(n)):qh(n)?Yh(e,x,"whitespace")(n):(e.enter("data"),E(n))}function E(t){return null===t||124===t||Hh(t)?(e.exit("data"),x(t)):(e.consume(t),92===t?S:E)}function S(t){return 92===t||124===t?(e.consume(t),E):E(t)}}function dy(e,t){let n,r,i,o=-1,a=!0,s=0,l=[0,0,0,0],c=[0,0,0,0],u=!1,d=0;const h=new ly;for(;++o<e.length;){const f=e[o],p=f[1];"enter"===f[0]?"tableHead"===p.type?(u=!1,0!==d&&(fy(h,t,d,n,r),r=void 0,d=0),n={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(o,0,[["enter",n,t]])):"tableRow"===p.type||"tableDelimiterRow"===p.type?(a=!0,i=void 0,l=[0,0,0,0],c=[0,o+1,0,0],u&&(u=!1,r={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(o,0,[["enter",r,t]])),s="tableDelimiterRow"===p.type?2:r?3:1):!s||"data"!==p.type&&"tableDelimiterMarker"!==p.type&&"tableDelimiterFiller"!==p.type?"tableCellDivider"===p.type&&(a?a=!1:(0!==l[1]&&(c[0]=c[1],i=hy(h,t,l,s,void 0,i)),l=c,c=[l[1],o,0,0])):(a=!1,0===c[2]&&(0!==l[1]&&(c[0]=c[1],i=hy(h,t,l,s,void 0,i),l=[0,0,0,0]),c[2]=o)):"tableHead"===p.type?(u=!0,d=o):"tableRow"===p.type||"tableDelimiterRow"===p.type?(d=o,0!==l[1]?(c[0]=c[1],i=hy(h,t,l,s,o,i)):0!==c[1]&&(i=hy(h,t,c,s,o,i)),s=0):!s||"data"!==p.type&&"tableDelimiterMarker"!==p.type&&"tableDelimiterFiller"!==p.type||(c[3]=o)}for(0!==d&&fy(h,t,d,n,r),h.consume(t.events),o=-1;++o<t.events.length;){const e=t.events[o];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=cy(t.events,o))}return e}function hy(e,t,n,r,i,o){const a=1===r?"tableHeader":2===r?"tableDelimiter":"tableData";0!==n[0]&&(o.end=Object.assign({},py(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const s=py(t.events,n[1]);if(o={type:a,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",o,t]]),0!==n[2]){const i=py(t.events,n[2]),o=py(t.events,n[3]),a={type:"tableContent",start:Object.assign({},i),end:Object.assign({},o)};if(e.add(n[2],0,[["enter",a,t]]),2!==r){const r=t.events[n[2]],i=t.events[n[3]];if(r[1].end=Object.assign({},i[1].end),r[1].type="chunkText",r[1].contentType="text",n[3]>n[2]+1){const t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[["exit",a,t]])}return void 0!==i&&(o.end=Object.assign({},py(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function fy(e,t,n,r,i){const o=[],a=py(t.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,t])),r.end=Object.assign({},a),o.push(["exit",r,t]),e.add(n+1,0,o)}function py(e,t){const n=e[t],r="enter"===n[0]?"start":"end";return n[1][r]}const my={name:"tasklistCheck",tokenize:function(e,t,n){const r=this;return function(t){return null===r.previous&&r._gfmTasklistFirstContentOfListItem?(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),i):n(t)};function i(t){return Hh(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),o):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),o):n(t)}function o(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(t)}function a(r){return Vh(r)?t(r):qh(r)?e.check({tokenize:gy},t,n)(r):n(r)}}};function gy(e,t,n){return Yh(e,(function(e){return null===e?n(e):t(e)}),"whitespace")}const yy={};function vy(e){const t=e||yy,n=this.data(),r=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);r.push(function(e){return Rh([{text:Kg},{document:{91:{name:"gfmFootnoteDefinition",tokenize:iy,continuation:{tokenize:oy},exit:ay}},text:{91:{name:"gfmFootnoteCall",tokenize:ry},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:ty,resolveTo:ny}}},sy(e),{flow:{null:{name:"table",tokenize:uy,resolveAll:dy}}},{text:{91:my}}])}(t)),i.push([{transforms:[Bm],enter:{literalAutolink:Dm,literalAutolinkEmail:Mm,literalAutolinkHttp:Mm,literalAutolinkWww:Mm},exit:{literalAutolink:jm,literalAutolinkEmail:Fm,literalAutolinkHttp:Um,literalAutolinkWww:Lm}},{enter:{gfmFootnoteCallString:qm,gfmFootnoteCall:$m,gfmFootnoteDefinitionLabelString:Wm,gfmFootnoteDefinition:Km},exit:{gfmFootnoteCallString:Ym,gfmFootnoteCall:Gm,gfmFootnoteDefinitionLabelString:Jm,gfmFootnoteDefinition:Zm}},{canContainEols:["delete"],enter:{strikethrough:rg},exit:{strikethrough:ig}},{enter:{table:Ag,tableData:Rg,tableHeader:Rg,tableRow:Ig},exit:{codeText:Og,table:Ng,tableData:Pg,tableHeader:Pg,tableRow:Pg}},{exit:{taskListCheckValueChecked:Ug,taskListCheckValueUnchecked:Ug,paragraph:Lg}}]),o.push(function(e){return{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Rm,notInConstruct:Om},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Rm,notInConstruct:Om},{character:":",before:"[ps]",after:"\\/",inConstruct:Rm,notInConstruct:Om}]},Xm(e),{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:ng}],handlers:{delete:og}},Mg(e),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Fg}}]}}(t))}function by({title:e,titleId:t,...n},r){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const wy=o.forwardRef(by);class xy extends o.Component{state={mounted:!1};componentDidMount(){this.setState({mounted:!0})}render(){return this.state.mounted?o.createElement(G,this.props,this.props.children):null}}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ey.apply(null,arguments)}const Sy="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",ky=e=>{let{src:t,alt:n,title:r,className:i,...a}=e;console.log("[CustomImage Props Received]",{src:t,alt:n,title:r,className:i});const[s,l]=(0,o.useState)(Sy);return(0,o.useEffect)((()=>{(async()=>{let e=null,i=null,o=!1;if(t&&(t.startsWith("backdrop_tmdbid:")?(e=t.substring(16),i=!0,o=!0):t.startsWith("backdrop_tmdbtvid:")?(e=t.substring(18),i=!1,o=!0):t.startsWith("tmdbid:")?(e=t.substring(7),i=!0):t.startsWith("tmdbtvid:")&&(e=t.substring(9),i=!1)),e){console.log(`[CustomImage] Attempting fetch for explicit ID: ${e}, Type: ${i?"Movie":"TV"}, Backdrop: ${o}, Alt: ${n}`);try{const t=`https://webservice.fanart.tv/v3/${i?"movies":"tv"}/${e}?api_key=13d32ba2dfea8c56157d611604861db5`;console.log(`[CustomImage] Fetching Fanart: ${t}`);const n=await fetch(t);if(n.ok){const t=await n.json();console.log(`[CustomImage] Fanart response OK for ID ${e}. Data:`,t);let r=null;var a,s,c,u,d,h;if(o?(r=i?null===(a=t.moviebackground)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.url:(null===(s=t.showbackground)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.url)||(null===(c=t.tvbackground)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.url),console.log(`[CustomImage] Fanart backdrop check: ${r||"not found"}`)):(r=i?null===(u=t.movieposter)||void 0===u||null===(u=u[0])||void 0===u?void 0:u.url:(null===(d=t.tvposter)||void 0===d||null===(d=d[0])||void 0===d?void 0:d.url)||(null===(h=t.tvthumb)||void 0===h||null===(h=h[0])||void 0===h?void 0:h.url),console.log(`[CustomImage] Fanart poster check: ${r||"not found"}`)),r)return console.log(`[CustomImage] Using Fanart image: ${r}`),void l(r);console.log(`[CustomImage] No suitable image from Fanart for ID ${e}, backdrop: ${o}.`)}else console.warn(`[CustomImage] Fanart.tv (ID: ${e}, type: ${i?"movie":"tv"}, backdrop: ${o}) failed: ${n.status} - ${n.statusText}. URL: ${t}`);const r=`https://api.themoviedb.org/3/${i?"movie":"tv"}/${e}?api_key=b484a8d608caf759d5d575db3ec03bbc`;console.log(`[CustomImage] Fetching TMDB: ${r}`);const f=await fetch(r);if(f.ok){const t=await f.json();console.log(`[CustomImage] TMDB response OK for ID ${e}. Data:`,t);const n=o?t.backdrop_path:t.poster_path;if(n){const e=`https://image.tmdb.org/t/p/original${n}`;return console.log(`[CustomImage] Using TMDB image: ${e}`),void l(e)}console.log(`[CustomImage] No suitable image path from TMDB for ID ${e} (backdrop: ${o}, path was: ${null===n?"null":void 0===n?"undefined":n}).`)}else console.warn(`[CustomImage] TMDB API (ID: ${e}, type: ${i?"movie":"tv"}, backdrop: ${o}) failed: ${f.status} - ${f.statusText}. URL: ${r}`)}catch(t){console.warn(`[CustomImage] Error fetching with explicit ID ${e} (type: ${i?"movie":"tv"}, backdrop: ${o}):`,t)}return console.log(`[CustomImage] Explicit ID path for ${e} (backdrop: ${o}) exhausted. Setting placeholder.`),void l(Sy)}let f=null,p=!0,m=null;try{const e=(n||r||"").replace(/\b(Scene|Poster|Movie Poster|TV Show Poster|thumbnail)\b/gi,"").trim();if(!e)return void(t&&(t.startsWith("http:")||t.startsWith("https:")||t.startsWith("data:"))?l(t):(console.log("[CustomImage] No rawText for text search, no explicit ID. Setting placeholder."),l(Sy)));const i=encodeURIComponent(e),o=`https://api.themoviedb.org/3/search/movie?api_key=b484a8d608caf759d5d575db3ec03bbc&query=${i}`,a=await fetch(o);if(a.ok){var g;const e=await a.json();null!==(g=e.results)&&void 0!==g&&g[0]&&(f=e.results[0].id,p=!0,e.results[0].poster_path&&(m=`https://image.tmdb.org/t/p/original${e.results[0].poster_path}`))}else console.warn(`TMDB movie search (query: "${e}") failed: ${a.status}`);if(!f){const t=`https://api.themoviedb.org/3/search/tv?api_key=b484a8d608caf759d5d575db3ec03bbc&query=${i}`,n=await fetch(t);if(n.ok){var y;const e=await n.json();null!==(y=e.results)&&void 0!==y&&y[0]&&(f=e.results[0].id,p=!1,e.results[0].poster_path&&(m=`https://image.tmdb.org/t/p/original${e.results[0].poster_path}`))}else console.warn(`TMDB TV search (query: "${e}") failed: ${n.status}`)}if(f){const e=`https://webservice.fanart.tv/v3/${p?"movies":"tv"}/${f}?api_key=13d32ba2dfea8c56157d611604861db5`,t=await fetch(e);if(t.ok){var v,b,w,x;const e=await t.json(),n=p?(null===(v=e.movieposter)||void 0===v||null===(v=v[0])||void 0===v?void 0:v.url)||(null===(b=e.moviebackground)||void 0===b||null===(b=b[0])||void 0===b?void 0:b.url):(null===(w=e.tvposter)||void 0===w||null===(w=w[0])||void 0===w?void 0:w.url)||(null===(x=e.tvthumb)||void 0===x||null===(x=x[0])||void 0===x?void 0:x.url);if(n)return void l(n)}else console.warn(`Fanart.tv (derived ID: ${f}, type: ${p?"movie":"tv"}) failed: ${t.status}`)}}catch(e){console.warn("Error during text-based image search:",e)}m?l(m):t&&(t.startsWith("http:")||t.startsWith("https:")||t.startsWith("data:"))?l(t):(console.log(`[CustomImage] All fallbacks exhausted for text-search path (alt: ${n}). Setting placeholder.`),l(Sy))})()}),[t,n,r]),o.createElement("img",Ey({src:s,alt:n,title:r,className:i,loading:"lazy",onError:e=>{e.currentTarget.onerror=null,l(Sy)}},a))},Cy=()=>e=>{Up(e,"element",(e=>{"img"===e.tagName&&console.log("[rehypeImageSrcLogger] Found <img> HAST node, properties:",e.properties)}))},_y=function(){const{slug:e}=function(){let{matches:e}=o.useContext(He),t=e[e.length-1];return t?t.params:{}}(),[t,n]=(0,o.useState)(""),r=(0,o.useRef)(!1),[i,a]=(0,o.useState)(!0),[s,l]=(0,o.useState)(null),[c,u]=(0,o.useState)({title:"",date:"",readTime:"",description:"",isoDate:""}),[d,h]=(0,o.useState)(null);return(0,o.useEffect)((()=>{r.current=!1}),[e]),(0,o.useEffect)((()=>{if(!e)return l("Blog post slug is missing."),void a(!1);a(!0),fetch(`/blog/${e}.md`).then((e=>{if(!e.ok)throw new Error("Post not found");return e.text()})).then((e=>{n(e);const t=e.match(/^#\s+(.*)/m),r=e.match(/^(\*\*Date:\*\*|Date:)\s*(.*)/m),i=e.match(/^(\*\*Description:\*\*|Description:)\s*(.*)/m);let o="";if(i&&i[2])o=i[2].trim();else{const n=e.substring(e.indexOf("## ")>0?e.indexOf("## "):t?t[0].length:0).replace(/!\[.*?\]\(.*?\)/g,"").replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/<\/?[^>]+(>|$)/g,"").replace(/#+\s*/g,"").replace(/[*_`~]/g,"").replace(/\s\s+/g," ").trim();o=n.substring(0,155),n.length>155&&(o+="...")}const s=o||`Read more about ${t?t[1]:"this topic"}.`,l=r?r[2]:"Recent";let c="";if(r&&r[2]&&"Recent"!==r[2])try{const e=new Date(r[2]);isNaN(e)||(c=e.toISOString().split("T")[0])}catch(e){console.warn("Could not parse date for ISO conversion:",r[2])}const d=e.split(/\s+/).length,h=Math.max(1,Math.ceil(d/200));u({title:t?t[1]:"Blog Post",date:l,readTime:`${h} min read`,description:s,isoDate:c}),a(!1)})).catch((e=>{l(e.message),a(!1)}))}),[e]),(0,o.useEffect)((()=>{if(c.title&&c.description&&c.isoDate){const e={"@context":"https://schema.org","@type":"Article",headline:c.title,description:c.description,datePublished:c.isoDate,dateModified:c.isoDate,author:{"@type":"Organization",name:"MovieRec"},publisher:{"@type":"Organization",name:"MovieRec",logo:{"@type":"ImageObject",url:"https://www.movierec.net/logo.png"}},mainEntityOfPage:{"@type":"WebPage","@id":window.location.href}};h(e)}}),[c]),i?o.createElement("div",{className:"min-h-screen flex items-center justify-center"},o.createElement("div",{className:"text-center"},o.createElement("div",{className:"inline-block w-12 h-12 border-4 border-t-indigo-500 border-gray-700 rounded-full animate-spin mb-4"}),o.createElement("p",{className:"text-lg text-indigo-300"},"Loading post..."))):s?o.createElement(fo.P.div,{className:"min-h-screen flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},o.createElement("div",{className:"bg-gray-800 p-8 rounded-xl shadow-lg text-red-400 text-center"},o.createElement("p",{className:"mb-4"},s),o.createElement(vt,{to:"/blog",className:"inline-flex items-center text-indigo-400 hover:underline"},o.createElement(wy,{className:"w-4 h-4 mr-1"}),"Back to Blog"))):o.createElement(o.Fragment,null,o.createElement(xy,null,o.createElement("title",null,c.title),o.createElement("meta",{name:"description",content:c.description}),o.createElement("meta",{property:"og:title",content:c.title}),o.createElement("meta",{property:"og:description",content:c.description}),o.createElement("meta",{property:"og:type",content:"article"}),c.isoDate&&o.createElement("meta",{property:"article:published_time",content:c.isoDate}),d&&o.createElement("script",{type:"application/ld+json"},JSON.stringify(d))),o.createElement(fo.P.div,{className:"min-h-screen py-12 px-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},o.createElement("div",{className:"max-w-3xl mx-auto"},o.createElement(vt,{to:"/blog",className:"inline-flex items-center text-indigo-400 hover:underline mb-6"},o.createElement(wy,{className:"w-4 h-4 mr-1"}),"Back to all posts"),o.createElement(fo.P.article,{className:"bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700",initial:{y:20},animate:{y:0},transition:{delay:.2,duration:.4}},o.createElement("header",{className:"p-6 bg-gradient-to-r from-indigo-900 to-purple-900 text-white"},o.createElement("h1",{className:"text-3xl font-bold"},c.title),o.createElement("div",{className:"flex space-x-4 mt-2 text-gray-300"},o.createElement("span",{className:"flex items-center"},o.createElement(Mc,{className:"w-4 h-4 mr-1"}),c.date),o.createElement("span",{className:"flex items-center"},o.createElement(Uo,{className:"w-4 h-4 mr-1"}),c.readTime))),o.createElement("div",{className:"p-6 prose prose-invert prose-indigo max-w-none"},o.createElement(Am,{urlTransform:e=>e,remarkPlugins:[vy],rehypePlugins:[Cy],components:{img:e=>{let{node:t,...n}=e;return o.createElement(ky,Ey({},n,{className:"rounded-lg mx-auto shadow my-6 w-full max-w-sm object-contain"}))},h2:e=>{let{node:t,...n}=e;const i=o.createElement("h2",n);let a=null;return r.current||(a=o.createElement(Qu,{className:"my-8"}),r.current=!0),o.createElement(o.Fragment,null,i,a)}}},t)),o.createElement("footer",{className:"p-6 bg-gray-900 text-gray-400 flex justify-between items-center"},o.createElement(vt,{to:"/blog",className:"inline-flex items-center text-indigo-400 hover:underline"},o.createElement(wy,{className:"w-4 h-4 mr-1"}),"Back to all posts"))))))};function Ty(){const{isAuthenticated:e,currentUser:t,handleSigninSuccess:n,handleSignout:r,loading:i}=(()=>{const[e,t]=(0,o.useState)(!1),[n,r]=(0,o.useState)(null),[i,a]=(0,o.useState)(!0),[s,l]=(0,o.useState)(!1);(0,o.useEffect)((()=>{c()}),[]);const c=async()=>{try{const e=await ho.currentAuthenticatedUser();t(!0),r(e)}catch(e){t(!1),r(null)}finally{a(!1)}};return{isAuthenticated:e,currentUser:n,loading:i,isNewUser:s,handleSigninSuccess:(0,o.useCallback)((function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(e),t(!0),l(n)}),[]),handleSignout:async()=>{try{await ho.signOut(),t(!1),r(null)}catch(e){console.error("Error signing out:",e)}},checkAuthState:c}})(),a=Ye(),s=We(),[l,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(!1),[h,f]=(0,o.useState)(!1);(0,o.useEffect)((()=>{if(u){const e=window.scrollY;return document.body.style.position="fixed",document.body.style.top=`-${e}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%",document.body.style.overscrollBehavior="none",document.documentElement.style.overflow="hidden",document.documentElement.style.overscrollBehavior="none",()=>{document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width="",document.body.style.overscrollBehavior="",document.documentElement.style.overflow="",document.documentElement.style.overscrollBehavior="",window.scrollTo(0,e)}}}),[u]);const[p,m]=(0,o.useState)(!1),[g,y]=(0,o.useState)(!1),[v,b]=(0,o.useState)(!1),[w,x]=(0,o.useState)(!1),[E,S]=(0,o.useState)(null),[k,C]=(0,o.useState)(!1),[_,T]=(0,o.useState)(!1),[A,N]=(0,o.useState)(!1),[I,P]=(0,o.useState)(!1),[R,O]=(0,o.useState)(!1),[D,M]=(0,o.useState)(null),[U,L]=(0,o.useState)(!1),F=(null==E?void 0:E.questionnaireCompleted)&&!(null!=E&&E.detailedQuestionsCompleted),j=(0,o.useRef)(null),B=(0,o.useRef)(null),z=(0,o.useRef)(!1),V=(0,o.useRef)(null),H=(0,o.useRef)(0),q=(0,o.useRef)(!1),$=(0,o.useRef)(null);(0,o.useEffect)((()=>{i||(N(!0),e||(T(!1),C(!1),S(null),B.current=null,P(!1)))}),[i,e]),(0,o.useEffect)((()=>{var e;const n=null==t||null===(e=t.attributes)||void 0===e?void 0:e.sub;V.current!==n&&n&&!q.current&&(q.current=!0,V.current,S(null),C(!1),T(!1),B.current=null,V.current=n,!V.current&&n&&(O(!0),P(!1)),setTimeout((()=>{q.current=!1}),500))}),[t]);const W=(0,o.useCallback)((function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(t=e.attributes)||void 0===t||t.sub,n(e,r),O(!0),P(!1),z.current=!1,H.current=0}),[n]),K=(0,o.useCallback)((async()=>{H.current++;const n=H.current;if(!e||!t||z.current)return z.current,void(e&&t||(T(!1),C(!1),S(null),B.current=null,P(!1)));z.current=!0,T(!0);try{if(n!==H.current)return void H.current;const e=t.signInUserSession.accessToken.jwtToken,r=t.attributes.sub,i=await fetch("https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod/preferences",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},mode:"cors"});if(n!==H.current)return void H.current;if(i.ok){const e=await i.json(),t=(null==e?void 0:e.questionnaireCompleted)||!1;if(S(e),C(t),r)try{localStorage.setItem(`questionnaire_completed_${r}`,t?"true":"false")}catch(e){}}else{if(404!==i.status)throw new Error(`Preferences API Error: Status ${i.status}`);if(S(null),C(!1),r)try{localStorage.removeItem(`questionnaire_completed_${r}`)}catch(e){}}}catch(e){S(null),C(!1)}finally{n===H.current?(T(!1),z.current=!1,R&&setTimeout((()=>{P(!0),O(!1)}),300)):H.current}}),[e,t,R]);(0,o.useEffect)((()=>{A&&e?K():A&&!e&&(T(!1),C(!1),S(null),B.current=null,P(!1))}),[A,e,K]),(0,o.useEffect)((()=>{const t=A&&e&&!_&&!k&&"/onboarding"!==s.pathname;x(t),t&&R&&(P(!0),O(!1))}),[A,e,_,k,s.pathname,R]),(0,o.useEffect)((()=>{!A||!e||_||R||I||P(!0)}),[A,e,_,R,I]);const Y=(0,o.useCallback)((()=>{var e;const n=null==t||null===(e=t.attributes)||void 0===e?void 0:e.sub;if(n){C(!0),f(!1),x(!1);try{localStorage.setItem(`questionnaire_completed_${n}`,"true")}catch(e){}K(),"/onboarding"===s.pathname&&a("/"),setTimeout((()=>{P(!0)}),500)}}),[t,K,s.pathname,a]),G=(0,o.useCallback)((()=>a("/signin")),[a]),J=(0,o.useCallback)((()=>a("/signup")),[a]),Z=(0,o.useCallback)((e=>{M(e),L(!0)}),[]),Q=(0,o.useCallback)((()=>{L(!1),setTimeout((()=>M(null)),300)}),[]),X=!A,ee=(0,o.useCallback)((e=>{S(e),j.current&&j.current.refreshRecommendations(e)}),[]);return o.createElement(o.Fragment,null,o.createElement(ia,null),"      ",o.createElement(To,null,w&&o.createElement(fo.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{type:"spring",stiffness:200,damping:25},className:"fixed bottom-6 right-6 z-50",role:"alert","aria-live":"polite"},o.createElement(fo.P.div,{className:"bg-gray-800/90 backdrop-blur-sm rounded-lg shadow-lg border border-purple-700/50 overflow-hidden",whileHover:{scale:1.03},animate:{boxShadow:["0px 0px 0px rgba(124, 58, 237, 0)","0px 0px 15px rgba(124, 58, 237, 0.3)","0px 0px 0px rgba(124, 58, 237, 0)"]},transition:{boxShadow:{repeat:1/0,duration:2,repeatDelay:1}}},o.createElement("div",{className:"flex items-center justify-between px-3 py-2 bg-gradient-to-r from-purple-900/80 to-indigo-900/80"},o.createElement("h3",{className:"text-xs font-medium text-white flex items-center"},o.createElement(ru,{className:"h-3.5 w-3.5 text-purple-300 mr-1.5"}),"Personalize Your Experience"),o.createElement("button",{onClick:()=>{x(!1);try{var e;const n=null==t||null===(e=t.attributes)||void 0===e?void 0:e.sub;n&&localStorage.setItem(`preferences_prompt_dismissed_${n}`,"true")}catch(e){console.warn("Could not save preference prompt state:",e)}},className:"text-gray-400 hover:text-white -mr-1","aria-label":"Close"},o.createElement("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),o.createElement("div",{className:"p-3"},o.createElement("button",{onClick:()=>f(!0),className:"w-full text-center bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 px-3 py-1.5 rounded text-xs font-medium text-white transition-colors"},"Set Preferences"))))),o.createElement(To,null,h&&o.createElement(fo.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onMouseDown:e=>{e.target===e.currentTarget&&f(!1)}},"            ",o.createElement(fo.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"w-full max-w-2xl bg-gray-900 rounded-lg shadow-2xl overflow-hidden",onMouseDown:e=>e.stopPropagation()},o.createElement(sc,{currentUser:t,onComplete:Y,onSkip:()=>f(!1),isModal:!0,onClose:()=>{j.current&&E&&j.current.refreshRecommendations(E),f(!1)},existingPreferences:E,onPreferencesUpdated:ee,skipBasicQuestions:F})))),o.createElement(To,null,v&&e&&o.createElement(Tc,{currentUser:t,onClose:()=>b(!1)})),o.createElement(To,null,p&&e&&o.createElement(fo.P.div,{className:"fixed top-16 right-4 sm:right-10 z-50",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20,transition:{duration:0}},onMouseDown:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},o.createElement(Qo,{currentUser:t,isAuthenticated:e,isOpen:p,onClose:()=>m(!1),inHeader:!0}))),o.createElement(To,null,g&&e&&o.createElement(fo.P.div,{className:"fixed top-16 right-4 sm:right-10 z-50",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20,transition:{duration:0}},onMouseDown:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},o.createElement(_c,{currentUser:t,isAuthenticated:e,isOpen:g,onClose:()=>y(!1),inHeader:!0}))),"/onboarding"!==s.pathname&&"/auth"!==s.pathname&&"/signup"!==s.pathname&&"/signin"!==s.pathname&&o.createElement(ta,{isAuthenticated:e,currentUser:t,onSignout:r,onSearchClick:e=>d(void 0===e||e),onPreferencesClick:e=>f(void 0===e||e),onFavoritesClick:e=>m(void 0===e||e),onWatchlistClick:e=>y(void 0===e||e),onAccountClick:e=>b(void 0===e||e),showFavorites:p,showWatchlist:g,showSearch:u,hasBasicPreferencesOnly:(null==E?void 0:E.questionnaireCompleted)&&!(null!=E&&E.detailedQuestionsCompleted),searchContainerRef:$}),o.createElement(To,null,u&&o.createElement(o.Fragment,null,o.createElement(fo.P.div,{key:"search-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-30 bg-gradient-to-b from-gray-900/95 to-black/90 backdrop-blur-md",onClick:()=>d(!1)}),o.createElement(fo.P.div,{ref:$,key:"search-container",initial:{opacity:0,y:-20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{type:"spring",stiffness:350,damping:30,delay:.05},className:"fixed inset-x-0 top-16 z-30 pt-4 px-4",onClick:e=>e.stopPropagation()},"              ",o.createElement("div",{className:"flex justify-end max-w-3xl mx-auto mb-3"},o.createElement("button",{onClick:()=>d(!1),className:"p-2 rounded-full bg-gray-800/90 text-gray-300 hover:bg-gray-700 hover:text-white transition-colors shadow-lg","aria-label":"Close search"},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),o.createElement(fo.P.div,{className:"max-w-3xl mx-auto relative",transition:{delay:.2,duration:.5}},o.createElement(Tu,{currentUser:t,onMediaClick:e=>{Z(e),d(!1)}}))))),o.createElement(nd,{item:D,isOpen:U,onClose:Q,currentUser:t}),o.createElement("main",{className:"relative z-10 pt-20 transition-transform duration-300 ease-in-out"},o.createElement(lt,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}},o.createElement(at,{path:"/auth",element:!e&&A?o.createElement(oa,{onSignupSuccess:W,onSigninSuccess:W}):e?o.createElement(ot,{to:"/",replace:!0}):null}),o.createElement(at,{path:"/signup",element:!e&&A?o.createElement(oa,{onSignupSuccess:W,onSigninSuccess:W,initialMode:"signup"}):e?o.createElement(ot,{to:"/",replace:!0}):null}),o.createElement(at,{path:"/signin",element:!e&&A?o.createElement(oa,{onSignupSuccess:W,onSigninSuccess:W,initialMode:"signin"}):e?o.createElement(ot,{to:"/",replace:!0}):null}),o.createElement(at,{path:"/onboarding",element:A?e?o.createElement("div",{className:"min-h-screen flex items-center justify-center p-4"},o.createElement(sc,{currentUser:t,onComplete:Y})):o.createElement(ot,{to:"/auth",replace:!0,state:{from:s}}):null}),o.createElement(at,{path:"/",element:o.createElement("div",{className:"container mx-auto px-4 pb-16"},!e&&A?o.createElement(Zu,{onSignInClick:G,onSignUpClick:J}):X?o.createElement("div",{className:"space-y-12 animate-pulse"},o.createElement("div",{className:"mb-12 max-w-7xl mx-auto px-4"},o.createElement("div",{className:"flex justify-between items-center mb-4"},o.createElement("div",{className:"bg-gray-700 rounded h-4 sm:h-6 w-1/3"}),o.createElement("div",{className:"bg-gray-700 rounded-full h-4 sm:h-5 w-16 sm:w-24"})),"            ",o.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 lg:gap-6"},[...Array(3)].map(((e,t)=>o.createElement("div",{key:t,className:"bg-gray-800 rounded-xl overflow-hidden shadow-lg h-[350px]"},o.createElement("div",{className:"h-3/5 bg-gray-700"}),o.createElement("div",{className:"p-4 space-y-3"},o.createElement("div",{className:"h-5 bg-gray-700 rounded w-3/4"}),o.createElement("div",{className:"h-4 bg-gray-700 rounded w-1/2"}),o.createElement("div",{className:"h-4 bg-gray-700 rounded w-full"}))))))),o.createElement("div",{className:"mb-12 max-w-7xl mx-auto px-4"},o.createElement("div",{className:"h-4 sm:h-6 bg-gray-700 rounded w-1/4 mb-4"}),o.createElement("div",{className:"flex gap-3 sm:gap-4 overflow-x-auto pb-2 -mx-2 px-2 hide-scrollbar"},[...Array(5)].map(((e,t)=>o.createElement("div",{key:t,className:"bg-gray-800 rounded-xl overflow-hidden min-w-[140px] sm:min-w-[180px] md:min-w-[220px] flex-shrink-0 flex flex-col"},o.createElement("div",{className:"h-[100px] sm:h-[130px] md:h-[150px] bg-gray-700"}),o.createElement("div",{className:"p-2 sm:p-3 flex-grow flex flex-col"},o.createElement("div",{className:"h-3 sm:h-4 bg-gray-700 rounded w-3/4 mb-1"}),o.createElement("div",{className:"h-2 sm:h-3 bg-gray-700 rounded w-1/2 mb-1"}),o.createElement("div",{className:"mt-auto h-2 sm:h-3 bg-gray-700 rounded w-1/3"}))))))),o.createElement("div",{className:"mb-12 max-w-7xl mx-auto px-4"},o.createElement("div",{className:"h-4 sm:h-6 bg-gray-700 rounded w-1/5 mb-4"}),o.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 sm:gap-3"},[...Array(6)].map(((e,t)=>o.createElement("div",{key:t,className:"aspect-[1.5/1] rounded-lg bg-gray-800 overflow-hidden"})))))):e&&A?o.createElement("div",{className:"space-y-12"},o.createElement(To,null,I&&o.createElement(fo.P.div,{key:"personalized-recommendations",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},o.createElement(xc,{ref:j,currentUser:t,isAuthenticated:e,propUserPreferences:E,propHasCompletedQuestionnaire:k,initialAppLoadComplete:A,onMediaClick:Z}))),o.createElement(lc,{currentUser:t,isAuthenticated:e,initialAppLoadComplete:A,onMediaClick:Z}),o.createElement(Sc,{onCategorySelect:c}),l&&o.createElement(kc,{genreId:l,currentUser:t,onMediaClick:Z})):null)}),o.createElement(at,{path:"/blog",element:o.createElement(ud,null)}),o.createElement(at,{path:"/blog/:slug",element:o.createElement(_y,null)}),o.createElement(at,{path:"*",element:o.createElement(ot,{to:"/",replace:!0})}))))}const Ay=function(){return o.createElement(mt,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}},o.createElement(Ty,null),o.createElement(Xu,null))};te.configure({Auth:{region:"eu-north-1",userPoolId:"eu-north-1_x2FwI0mFK",userPoolWebClientId:"4gob38of1s9tu7h9ciik5unjrl",authenticationFlowType:"USER_PASSWORD_AUTH",mandatorySignIn:!0,oauth:{domain:"eu-north-1x2fwi0mfk.auth.eu-north-1.amazoncognito.com",scope:["email","profile","openid"],redirectSignIn:"http://localhost:3000/",redirectSignOut:"http://localhost:3000/",responseType:"code"}},API:{endpoints:[{name:"api",endpoint:"https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod"}]}});const Ny=document.getElementById("root");(0,s.H)(Ny).render(o.createElement(o.StrictMode,null,o.createElement(H,null,o.createElement(Ay,null))))})()})();