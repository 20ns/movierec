/*! For license information please see bundle.9c047f9767ddf4b86258.js.LICENSE.txt */
(()=>{var e,t,n={115:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,l,c,u;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(l=s;0!=l--;)if(!i(e[l],a[l]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!i(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(l=s;0!=l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof a.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof a.toString)return e.toString()===a.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!i(e[c[l]],a[c[l]]))return!1;return!0}return e!=e&&a!=a}e.exports=function(e,t){try{return i(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},165:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},251:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,c=l>>1,u=-7,f=n?o-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-u)-1,h>>=-u,u+=s;u>0;i=256*i+e[t+f],f+=d,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+f],f+=d,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,f=u>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=u?(s=0,a=u):a+f>=1?(s=(t*l-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*m}},311:e=>{"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},843:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});const r="undefined"!=typeof window},871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(5215),o=n(5494),i=n(4602),a=n(5388),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},905:(e,t,n)=>{"use strict";n.d(t,{xQ:()=>i});var r=n(6540),o=n(7766);function i(e=!0){const t=(0,r.useContext)(o.t);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=t,s=(0,r.useId)();(0,r.useEffect)((()=>{if(e)return a(s)}),[e]);const l=(0,r.useCallback)((()=>e&&i&&i(s)),[s,i,e]);return!n&&i?[!1,l]:[!0]}},916:(e,t,n)=>{e.exports=self.fetch||(self.fetch=n(6782).default||n(6782))},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(2551)},1020:(e,t,n)=>{"use strict";var r=n(6540),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1024:(e,t,n)=>{"use strict";var r=n(8287).hp;Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var o=n(4006),i=void 0!==r&&r.from?function(e){return r.from(e,"utf8")}:o.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},1083:(e,t,n)=>{"use strict";n.d(t,{A:()=>vt});var r={};function o(e,t){return function(){return e.apply(t,arguments)}}n.r(r),n.d(r,{hasBrowserEnv:()=>de,hasStandardBrowserEnv:()=>pe,hasStandardBrowserWebWorkerEnv:()=>me,navigator:()=>he,origin:()=>ge});var i=n(5606);const{toString:a}=Object.prototype,{getPrototypeOf:s}=Object,l=(c=Object.create(null),e=>{const t=a.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())});var c;const u=e=>(e=e.toLowerCase(),t=>l(t)===e),f=e=>t=>typeof t===e,{isArray:d}=Array,h=f("undefined"),p=u("ArrayBuffer"),m=f("string"),g=f("function"),y=f("number"),v=e=>null!==e&&"object"==typeof e,b=e=>{if("object"!==l(e))return!1;const t=s(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},w=u("Date"),x=u("File"),E=u("Blob"),S=u("FileList"),k=u("URLSearchParams"),[C,P,A,T]=["ReadableStream","Request","Response","Headers"].map(u);function _(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),d(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function N(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,I=e=>!h(e)&&e!==O,R=(L="undefined"!=typeof Uint8Array&&s(Uint8Array),e=>L&&e instanceof L);var L;const M=u("HTMLFormElement"),j=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),D=u("RegExp"),U=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};_(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)},F=u("AsyncFunction"),B=(z="function"==typeof setImmediate,V=g(O.postMessage),z?setImmediate:V?(H=`axios@${Math.random()}`,q=[],O.addEventListener("message",(({source:e,data:t})=>{e===O&&t===H&&q.length&&q.shift()()}),!1),e=>{q.push(e),O.postMessage(H,"*")}):e=>setTimeout(e));var z,V,H,q;const W="undefined"!=typeof queueMicrotask?queueMicrotask.bind(O):void 0!==i&&i.nextTick||B,G={isArray:d,isArrayBuffer:p,isBuffer:function(e){return null!==e&&!h(e)&&null!==e.constructor&&!h(e.constructor)&&g(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||g(e.append)&&("formdata"===(t=l(e))||"object"===t&&g(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer),t},isString:m,isNumber:y,isBoolean:e=>!0===e||!1===e,isObject:v,isPlainObject:b,isReadableStream:C,isRequest:P,isResponse:A,isHeaders:T,isUndefined:h,isDate:w,isFile:x,isBlob:E,isRegExp:D,isFunction:g,isStream:e=>v(e)&&g(e.pipe),isURLSearchParams:k,isTypedArray:R,isFileList:S,forEach:_,merge:function e(){const{caseless:t}=I(this)&&this||{},n={},r=(r,o)=>{const i=t&&N(n,o)||o;b(n[i])&&b(r)?n[i]=e(n[i],r):b(r)?n[i]=e({},r):d(r)?n[i]=r.slice():n[i]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&_(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(_(t,((t,r)=>{n&&g(t)?e[r]=o(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const l={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||l[a]||(t[a]=e[a],l[a]=!0);e=!1!==n&&s(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:l,kindOfTest:u,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(d(e))return e;let t=e.length;if(!y(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:M,hasOwnProperty:j,hasOwnProp:j,reduceDescriptors:U,freezeMethods:e=>{U(e,((t,n)=>{if(g(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];g(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return d(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:N,global:O,isContextDefined:I,isSpecCompliantForm:function(e){return!!(e&&g(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(v(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=d(e)?[]:{};return _(e,((e,t)=>{const i=n(e,r+1);!h(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:F,isThenable:e=>e&&(v(e)||g(e))&&g(e.then)&&g(e.catch),setImmediate:B,asap:W};function Y(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}G.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const $=Y.prototype,K={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{K[e]={value:e}})),Object.defineProperties(Y,K),Object.defineProperty($,"isAxiosError",{value:!0}),Y.from=(e,t,n,r,o,i)=>{const a=Object.create($);return G.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Y.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const Z=Y;var J=n(8287).hp;function Q(e){return G.isPlainObject(e)||G.isArray(e)}function X(e){return G.endsWith(e,"[]")?e.slice(0,-2):e}function ee(e,t,n){return e?e.concat(t).map((function(e,t){return e=X(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const te=G.toFlatObject(G,{},null,(function(e){return/^is[A-Z]/.test(e)})),ne=function(e,t,n){if(!G.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=G.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!G.isUndefined(t[e])}))).metaTokens,o=n.visitor||c,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&G.isSpecCompliantForm(t);if(!G.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(G.isDate(e))return e.toISOString();if(!s&&G.isBlob(e))throw new Z("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(e)||G.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):J.from(e):e}function c(e,n,o){let s=e;if(e&&!o&&"object"==typeof e)if(G.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(G.isArray(e)&&function(e){return G.isArray(e)&&!e.some(Q)}(e)||(G.isFileList(e)||G.endsWith(n,"[]"))&&(s=G.toArray(e)))return n=X(n),s.forEach((function(e,r){!G.isUndefined(e)&&null!==e&&t.append(!0===a?ee([n],r,i):null===a?n:n+"[]",l(e))})),!1;return!!Q(e)||(t.append(ee(o,n,i),l(e)),!1)}const u=[],f=Object.assign(te,{defaultVisitor:c,convertValue:l,isVisitable:Q});if(!G.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!G.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),G.forEach(n,(function(n,i){!0===(!(G.isUndefined(n)||null===n)&&o.call(t,n,G.isString(i)?i.trim():i,r,f))&&e(n,r?r.concat(i):[i])})),u.pop()}}(e),t};function re(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function oe(e,t){this._pairs=[],e&&ne(e,this,t)}const ie=oe.prototype;ie.append=function(e,t){this._pairs.push([e,t])},ie.toString=function(e){const t=e?function(t){return e.call(this,t,re)}:re;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ae=oe;function se(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function le(e,t,n){if(!t)return e;const r=n&&n.encode||se;G.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(t,n):G.isURLSearchParams(t)?t.toString():new ae(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const ce=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ue={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fe={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ae,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},de="undefined"!=typeof window&&"undefined"!=typeof document,he="object"==typeof navigator&&navigator||void 0,pe=de&&(!he||["ReactNative","NativeScript","NS"].indexOf(he.product)<0),me="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ge=de&&window.location.href||"http://localhost",ye={...r,...fe},ve=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;return i=!i&&G.isArray(r)?r.length:i,s?(G.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a):(r[i]&&G.isObject(r[i])||(r[i]=[]),t(e,n,r[i],o)&&G.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a)}if(G.isFormData(e)&&G.isFunction(e.entries)){const n={};return G.forEachEntry(e,((e,r)=>{t(function(e){return G.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null},be={transitional:ue,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=G.isObject(e);if(o&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return r?JSON.stringify(ve(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ne(e,new ye.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ye.isNode&&G.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=G.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ne(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e){if(G.isString(e))try{return(0,JSON.parse)(e),G.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||be.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw Z.from(e,Z.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ye.classes.FormData,Blob:ye.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],(e=>{be.headers[e]={}}));const we=be,xe=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ee=Symbol("internals");function Se(e){return e&&String(e).trim().toLowerCase()}function ke(e){return!1===e||null==e?e:G.isArray(e)?e.map(ke):String(e)}function Ce(e,t,n,r,o){return G.isFunction(r)?r.call(this,t,n):(o&&(t=n),G.isString(t)?G.isString(r)?-1!==t.indexOf(r):G.isRegExp(r)?r.test(t):void 0:void 0)}class Pe{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=Se(t);if(!o)throw new Error("header name must be a non-empty string");const i=G.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=ke(e))}const i=(e,t)=>G.forEach(e,((e,n)=>o(e,n,t)));if(G.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(G.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&xe[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(G.isHeaders(e))for(const[t,r]of e.entries())o(r,t,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=Se(e)){const n=G.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(G.isFunction(t))return t.call(this,e,n);if(G.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Se(e)){const n=G.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ce(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=Se(e)){const o=G.findKey(n,e);!o||t&&!Ce(0,n[o],o,t)||(delete n[o],r=!0)}}return G.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!Ce(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return G.forEach(this,((r,o)=>{const i=G.findKey(n,o);if(i)return t[i]=ke(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();a!==o&&delete t[o],t[a]=ke(r),n[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return G.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&G.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[Ee]=this[Ee]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Se(e);t[r]||(function(e,t){const n=G.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return G.isArray(e)?e.forEach(r):r(e),this}}Pe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),G.reduceDescriptors(Pe.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),G.freezeMethods(Pe);const Ae=Pe;function Te(e,t){const n=this||we,r=t||n,o=Ae.from(r.headers);let i=r.data;return G.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function _e(e){return!(!e||!e.__CANCEL__)}function Ne(e,t,n){Z.call(this,null==e?"canceled":e,Z.ERR_CANCELED,t,n),this.name="CanceledError"}G.inherits(Ne,Z,{__CANCEL__:!0});const Oe=Ne;function Ie(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Z("Request failed with status code "+n.status,[Z.ERR_BAD_REQUEST,Z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Re=(e,t,n=3)=>{let r=0;const o=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];o||(o=l),n[i]=s,r[i]=l;let u=a,f=0;for(;u!==i;)f+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-o<t)return;const d=c&&l-c;return d?Math.round(1e3*f/d):void 0}}(50,250);return function(e,t){let n,r,o=0,i=1e3/t;const a=(t,i=Date.now())=>{o=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),s=t-o;s>=i?a(e,t):(n=e,r||(r=setTimeout((()=>{r=null,a(n)}),i-s)))},()=>n&&a(n)]}((n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,l=o(s);r=i,e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},Le=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Me=e=>(...t)=>G.asap((()=>e(...t))),je=ye.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ye.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ye.origin),ye.navigator&&/(msie|trident)/i.test(ye.navigator.userAgent)):()=>!0,De=ye.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];G.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),G.isString(r)&&a.push("path="+r),G.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ue(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Fe=e=>e instanceof Ae?{...e}:e;function Be(e,t){t=t||{};const n={};function r(e,t,n,r){return G.isPlainObject(e)&&G.isPlainObject(t)?G.merge.call({caseless:r},e,t):G.isPlainObject(t)?G.merge({},t):G.isArray(t)?t.slice():t}function o(e,t,n,o){return G.isUndefined(t)?G.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function i(e,t){if(!G.isUndefined(t))return r(void 0,t)}function a(e,t){return G.isUndefined(t)?G.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>o(Fe(e),Fe(t),0,!0)};return G.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||o,a=i(e[r],t[r],r);G.isUndefined(a)&&i!==s||(n[r]=a)})),n}const ze=e=>{const t=Be({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=Ae.from(s),t.url=le(Ue(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),G.isFormData(r))if(ye.hasStandardBrowserEnv||ye.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(ye.hasStandardBrowserEnv&&(o&&G.isFunction(o)&&(o=o(t)),o||!1!==o&&je(t.url))){const e=i&&a&&De.read(a);e&&s.set(i,e)}return t},Ve="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=ze(e);let o=r.data;const i=Ae.from(r.headers).normalize();let a,s,l,c,u,{responseType:f,onUploadProgress:d,onDownloadProgress:h}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Ae.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Ie((function(e){t(e),p()}),(function(e){n(e),p()}),{data:f&&"text"!==f&&"json"!==f?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Z("Request aborted",Z.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Z("Network Error",Z.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||ue;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Z(t,o.clarifyTimeoutError?Z.ETIMEDOUT:Z.ECONNABORTED,e,m)),m=null},void 0===o&&i.setContentType(null),"setRequestHeader"in m&&G.forEach(i.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),G.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),f&&"json"!==f&&(m.responseType=r.responseType),h&&([l,u]=Re(h,!0),m.addEventListener("progress",l)),d&&m.upload&&([s,c]=Re(d),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new Oe(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===ye.protocols.indexOf(y)?n(new Z("Unsupported protocol "+y+":",Z.ERR_BAD_REQUEST,e)):m.send(o||null)}))},He=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Z?t:new Oe(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,o(new Z(`timeout ${t} of ms exceeded`,Z.ETIMEDOUT))}),t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=()=>G.asap(a),s}},qe=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},We=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}(e))yield*qe(n,t)}(e,t);let i,a=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},Ge="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Ye=Ge&&"function"==typeof ReadableStream,$e=Ge&&("function"==typeof TextEncoder?(Ke=new TextEncoder,e=>Ke.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ke;const Ze=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Je=Ye&&Ze((()=>{let e=!1;const t=new Request(ye.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Qe=Ye&&Ze((()=>G.isReadableStream(new Response("").body))),Xe={stream:Qe&&(e=>e.body)};var et;Ge&&(et=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Xe[e]&&(Xe[e]=G.isFunction(et[e])?t=>t[e]():(t,n)=>{throw new Z(`Response type '${e}' is not supported`,Z.ERR_NOT_SUPPORT,n)})})));const tt={http:null,xhr:Ve,fetch:Ge&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:d}=ze(e);c=c?(c+"").toLowerCase():"text";let h,p=He([o,i&&i.toAbortSignal()],a);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&Je&&"get"!==n&&"head"!==n&&0!==(g=await(async(e,t)=>{const n=G.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(G.isBlob(e))return e.size;if(G.isSpecCompliantForm(e)){const t=new Request(ye.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return G.isArrayBufferView(e)||G.isArrayBuffer(e)?e.byteLength:(G.isURLSearchParams(e)&&(e+=""),G.isString(e)?(await $e(e)).byteLength:void 0)})(t):n})(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(G.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Le(g,Re(Me(l)));r=We(n.body,65536,e,t)}}G.isString(f)||(f=f?"include":"omit");const o="credentials"in Request.prototype;h=new Request(t,{...d,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:o?f:void 0});let i=await fetch(h);const a=Qe&&("stream"===c||"response"===c);if(Qe&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=G.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&Le(t,Re(Me(s),!0))||[];i=new Response(We(i.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let y=await Xe[G.findKey(Xe,c)||"text"](i,e);return!a&&m&&m(),await new Promise(((t,n)=>{Ie(t,n,{data:y,headers:Ae.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:h})}))}catch(t){if(m&&m(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new Z("Network Error",Z.ERR_NETWORK,e,h),{cause:t.cause||t});throw Z.from(t,t&&t.code,e,h)}})};G.forEach(tt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const nt=e=>`- ${e}`,rt=e=>G.isFunction(e)||null===e||!1===e,ot=e=>{e=G.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!rt(n)&&(r=tt[(t=String(n)).toLowerCase()],void 0===r))throw new Z(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(nt).join("\n"):" "+nt(e[0]):"as no adapter specified";throw new Z("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function it(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Oe(null,e)}function at(e){return it(e),e.headers=Ae.from(e.headers),e.data=Te.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ot(e.adapter||we.adapter)(e).then((function(t){return it(e),t.data=Te.call(e,e.transformResponse,t),t.headers=Ae.from(t.headers),t}),(function(t){return _e(t)||(it(e),t&&t.response&&(t.response.data=Te.call(e,e.transformResponse,t.response),t.response.headers=Ae.from(t.response.headers))),Promise.reject(t)}))}const st={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{st[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const lt={};st.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new Z(r(o," has been removed"+(t?" in "+t:"")),Z.ERR_DEPRECATED);return t&&!lt[o]&&(lt[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}},st.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const ct={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Z("options must be an object",Z.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new Z("option "+i+" must be "+n,Z.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Z("Unknown option "+i,Z.ERR_BAD_OPTION)}},validators:st},ut=ct.validators;class ft{constructor(e){this.defaults=e,this.interceptors={request:new ce,response:new ce}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Be(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&ct.assertOptions(n,{silentJSONParsing:ut.transitional(ut.boolean),forcedJSONParsing:ut.transitional(ut.boolean),clarifyTimeoutError:ut.transitional(ut.boolean)},!1),null!=r&&(G.isFunction(r)?t.paramsSerializer={serialize:r}:ct.assertOptions(r,{encode:ut.function,serialize:ut.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ct.assertOptions(t,{baseUrl:ut.spelling("baseURL"),withXsrfToken:ut.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&G.merge(o.common,o[t.method]);o&&G.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=Ae.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,f=0;if(!s){const e=[at.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);f<u;)c=c.then(e[f++],e[f++]);return c}u=a.length;let d=t;for(f=0;f<u;){const e=a[f++],t=a[f++];try{d=e(d)}catch(e){t.call(this,e);break}}try{c=at.call(this,d)}catch(e){return Promise.reject(e)}for(f=0,u=l.length;f<u;)c=c.then(l[f++],l[f++]);return c}getUri(e){return le(Ue((e=Be(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}G.forEach(["delete","get","head","options"],(function(e){ft.prototype[e]=function(t,n){return this.request(Be(n||{},{method:e,url:t,data:(n||{}).data}))}})),G.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(Be(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ft.prototype[e]=t(),ft.prototype[e+"Form"]=t(!0)}));const dt=ft;class ht{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new Oe(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ht((function(t){e=t})),cancel:e}}}const pt=ht,mt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mt).forEach((([e,t])=>{mt[t]=e}));const gt=mt,yt=function e(t){const n=new dt(t),r=o(dt.prototype.request,n);return G.extend(r,dt.prototype,n,{allOwnKeys:!0}),G.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Be(t,n))},r}(we);yt.Axios=dt,yt.CanceledError=Oe,yt.CancelToken=pt,yt.isCancel=_e,yt.VERSION="1.8.4",yt.toFormData=ne,yt.AxiosError=Z,yt.Cancel=yt.CanceledError,yt.all=function(e){return Promise.all(e)},yt.spread=function(e){return function(t){return e.apply(null,t)}},yt.isAxiosError=function(e){return G.isObject(e)&&!0===e.isAxiosError},yt.mergeConfig=Be,yt.AxiosHeaders=Ae,yt.formToJSON=e=>ve(G.isHTMLForm(e)?new FormData(e):e),yt.getAdapter=ot,yt.HttpStatusCode=gt,yt.default=yt;const vt=yt},1133:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null;if(!e||"string"!=typeof e)return n;var r=(0,o.default)(e),i="function"==typeof t;return r.forEach((function(e){if("declaration"===e.type){var r=e.property,o=e.value;i?t(r,o,e):o&&((n=n||{})[r]=o)}})),n};var o=r(n(9788))},1136:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6540);function o({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const i=r.forwardRef(o)},1630:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,o){n=n||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(n);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,f,d,h,p=e[c].replace(a,"%20"),m=p.indexOf(r);m>=0?(u=p.substr(0,m),f=p.substr(m+1)):(u=p,f=""),d=decodeURIComponent(u),h=decodeURIComponent(f),t(i,d)?Array.isArray(i[d])?i[d].push(h):i[d]=[i[d],h]:i[d]=h}return i}},1704:(e,t,n)=>{"use strict";var r=n(8348),o=n(2169);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.qg=b;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),f=["%","/","?",";","#"].concat(u),d=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(7186);function b(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=l.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=a.exec(b);if(x){var E=(x=x[0]).toLowerCase();this.protocol=E,b=b.substr(x.length)}if(n||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||x&&g[x]||(b=b.substr(2),this.slashes=!0)}if(!g[x]&&(S||x&&!y[x])){for(var k,C,P=-1,A=0;A<d.length;A++)-1!==(T=b.indexOf(d[A]))&&(-1===P||T<P)&&(P=T);for(-1!==(C=-1===P?b.lastIndexOf("@"):b.lastIndexOf("@",P))&&(k=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(k)),P=-1,A=0;A<f.length;A++){var T;-1!==(T=b.indexOf(f[A]))&&(-1===P||T<P)&&(P=T)}-1===P&&(P=b.length),this.host=b.slice(0,P),b=b.slice(P),this.parseHost(),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_)for(var N=this.hostname.split(/\./),O=(A=0,N.length);A<O;A++){var I=N[A];if(I&&!I.match(h)){for(var R="",L=0,M=I.length;L<M;L++)I.charCodeAt(L)>127?R+="x":R+=I[L];if(!R.match(h)){var j=N.slice(0,A),D=N.slice(A+1),U=I.match(p);U&&(j.push(U[1]),D.unshift(U[2])),D.length&&(b="/"+D.join(".")+b),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+F,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[E])for(A=0,O=u.length;A<O;A++){var z=u[A];if(-1!==b.indexOf(z)){var V=encodeURIComponent(z);V===z&&(V=escape(z)),b=b.split(z).join(V)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var q=b.indexOf("?");if(-1!==q?(this.search=b.substr(q),this.query=b.substr(q+1),t&&(this.query=v.parse(this.query)),b=b.slice(0,q)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var W=this.search||"";this.path=F+W}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var h=f[d];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||b||n.host&&e.pathname,E=x,S=n.pathname&&n.pathname.split("/")||[],k=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===S[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search))return k&&(n.hostname=n.host=S.shift(),(_=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=_.shift(),n.host=n.hostname=_.shift())),n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=S.slice(-1)[0],P=(n.host||e.host||S.length>1)&&("."===C||".."===C)||""===C,A=0,T=S.length;T>=0;T--)"."===(C=S[T])?S.splice(T,1):".."===C?(S.splice(T,1),A++):A&&(S.splice(T,1),A--);if(!x&&!E)for(;A--;A)S.unshift("..");!x||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),P&&"/"!==S.join("/").substr(-1)&&S.push("");var _,N=""===S[0]||S[0]&&"/"===S[0].charAt(0);return k&&(n.hostname=n.host=N?"":S.length?S.shift():"",(_=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=_.shift(),n.host=n.hostname=_.shift())),(x=x||n.host&&S.length)&&!N&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},2110:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},2169:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},2215:(e,t,n)=>{var r,o,i;void 0===(o="function"==typeof(r=i=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in i)i[l]&&(s+="; "+l,!0!==i[l]&&(s+="="+i[l].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(o[c]=l,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))})?r.call(t,n,t,e):r)||(e.exports=o),e.exports=i()},2496:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6540);function o({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const i=r.forwardRef(o)},2551:(e,t,n)=>{"use strict";var r=n(6540),o=n(9982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=L&&e[L]||e["@@iterator"])?e:null}var j,D=Object.assign;function U(e){if(void 0===j)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return B(e.type,!1);case 11:return B(e.type.render,!1);case 1:return B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case C:return"Profiler";case k:return"StrictMode";case _:return"Suspense";case N:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return V(e(t))}catch(e){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,fe=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,ke=null;function Ce(e){if(e=wo(e)){if("function"!=typeof Ee)throw Error(i(280));var t=e.stateNode;t&&(t=Eo(t),Ee(e.stateNode,e.type,t))}}function Pe(e){Se?ke?ke.push(e):ke=[e]:Se=e}function Ae(){if(Se){var e=Se,t=ke;if(ke=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function _e(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==Se||null!==ke)&&(_e(),Ae())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=Eo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Re=!1}function Me(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var je=!1,De=null,Ue=!1,Fe=null,Be={onError:function(e){je=!0,De=e}};function ze(e,t,n,r,o,i,a,s,l){je=!1,De=null,Me.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return qe(o),e;if(a===r)return qe(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ye=o.unstable_scheduleCallback,$e=o.unstable_cancelCallback,Ke=o.unstable_shouldYield,Ze=o.unstable_requestPaint,Je=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Xe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ct=64,ut=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=ft(s):0!=(i&=a)&&(r=ft(i))}else 0!=(a=n&~o)?r=ft(a):0!==i&&(r=ft(i));if(0===r)return 0;if(0!==t&&t!==r&&!(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var xt,Et,St,kt,Ct,Pt=!1,At=[],Tt=null,_t=null,Nt=null,Ot=new Map,It=new Map,Rt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function jt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=wo(t))&&Et(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Dt(e){var t=bo(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){Pt=!1,null!==Tt&&Ut(Tt)&&(Tt=null),null!==_t&&Ut(_t)&&(_t=null),null!==Nt&&Ut(Nt)&&(Nt=null),Ot.forEach(Ft),It.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<At.length){zt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==_t&&zt(_t,e),null!==Nt&&zt(Nt,e),Ot.forEach(t),It.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Rt.shift()}var Ht=w.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=o,Ht.transition=i}}function Gt(e,t,n,r){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=o,Ht.transition=i}}function Yt(e,t,n,r){if(qt){var o=Kt(e,t,n,r);if(null===o)qr(e,t,r,$t,n),Mt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Tt=jt(Tt,e,t,n,r,o),!0;case"dragenter":return _t=jt(_t,e,t,n,r,o),!0;case"mouseover":return Nt=jt(Nt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ot.set(i,jt(Ot.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,It.set(i,jt(It.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&xt(i),null===(i=Kt(e,t,n,r))&&qr(e,t,r,$t,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else qr(e,t,r,null,n)}}var $t=null;function Kt(e,t,n,r){if($t=null,null!==(e=bo(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Qt,r=n.length,o="value"in Jt?Jt.value:Jt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Xt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),fn=D({},cn,{view:0,detail:0}),dn=on(fn),hn=D({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),mn=on(D({},hn,{dataTransfer:0})),gn=on(D({},fn,{relatedTarget:0})),yn=on(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(D({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return kn}var Pn=D({},fn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=on(Pn),Tn=on(D({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=on(D({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=on(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=D({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=on(On),Rn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var jn=u&&"TextEvent"in window&&!Mn,Dn=u&&(!Ln||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Pe(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Yn=null;function $n(e){Ur(e,0)}function Kn(e){if(Y(xo(e)))return e}function Zn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Qn;if(u){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"==typeof er.oninput}Qn=Xn}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Yn=Gn=null)}function nr(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];Wn(t,Yn,e,xe(e)),Oe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function ir(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!f.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var a=ur(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==$(r)||(r="selectionStart"in(r=gr)&&hr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},kr={};function Cr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Pr=Cr("animationend"),Ar=Cr("animationiteration"),Tr=Cr("animationstart"),_r=Cr("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Nr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Lr=Or[Rr];Ir(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Ir(Pr,"onAnimationEnd"),Ir(Ar,"onAnimationIteration"),Ir(Tr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,c){if(ze.apply(this,arguments),je){if(!je)throw Error(i(198));var u=De;je=!1,De=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Dr(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Dr(o,s,c),i=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Zt(t)){case 1:var o=Wt;break;case 4:o=Gt;break;default:o=Yt}n=o.bind(null,t,n,e),o=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=bo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=i,o=xe(n),a=[];e:{var s=Nr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_n;break;case Pr:case Ar:case Tr:l=yn;break;case _r:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=!!(4&t),f=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==d&&null!=(m=Ie(p,d))&&u.push(Wr(p,m,h))),f)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(f=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==l?s:xo(l),h=null==c?s:xo(c),(s=new u(m,p+"leave",l,n,o)).target=f,s.relatedTarget=h,m=null,bo(o)===r&&((u=new u(d,p+"enter",c,n,o)).target=h,u.relatedTarget=f,m=u),f=m,l&&c)e:{for(d=c,p=0,h=u=l;h;h=Yr(h))p++;for(h=0,m=d;m;m=Yr(m))h++;for(;0<p-h;)u=Yr(u),p--;for(;0<h-p;)d=Yr(d),h--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Yr(u),d=Yr(d)}u=null}else u=null;null!==l&&$r(a,s,l,u,!1),null!==c&&null!==f&&$r(a,f,c,u,!0)}if("select"===(l=(s=r?xo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Zn;else if(qn(s))if(Jn)g=ar;else{g=or;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(a,g,n,o):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?xo(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,o)}var v;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=en()):(Qt="value"in(Jt=o)?Jt.value:Jt.textContent,Vn=!0)),0<(y=Gr(r,b)).length&&(b=new wn(b,e,null,n,o),a.push({event:b,listeners:y}),(v||null!==(v=zn(n)))&&(b.data=v))),(v=jn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=en(),Xt=Qt=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Gr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=v)}Ur(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Ie(e,n))&&r.unshift(Wr(e,i,o)),null!=(i=Ie(e,t))&&r.push(Wr(e,i,o))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Ie(n,i))&&a.unshift(Wr(n,l,s)):o||null!=(l=Ie(n,i))&&a.push(Wr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Jr(e){return("string"==typeof e?e:""+e).replace(Kr,"\n").replace(Zr,"")}function Qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function Xr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,io="function"==typeof Promise?Promise:void 0,ao="function"==typeof queueMicrotask?queueMicrotask:void 0!==io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Vt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),ho="__reactFiber$"+fo,po="__reactProps$"+fo,mo="__reactContainer$"+fo,go="__reactEvents$"+fo,yo="__reactListeners$"+fo,vo="__reactHandles$"+fo;function bo(e){var t=e[ho];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[ho]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[ho])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[ho]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Eo(e){return e[po]||null}var So=[],ko=-1;function Co(e){return{current:e}}function Po(e){0>ko||(e.current=So[ko],So[ko]=null,ko--)}function Ao(e,t){ko++,So[ko]=e.current,e.current=t}var To={},_o=Co(To),No=Co(!1),Oo=To;function Io(e,t){var n=e.type.contextTypes;if(!n)return To;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ro(e){return null!=e.childContextTypes}function Lo(){Po(No),Po(_o)}function Mo(e,t,n){if(_o.current!==To)throw Error(i(168));Ao(_o,t),Ao(No,n)}function jo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,H(e)||"Unknown",o));return D({},n,r)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,Oo=_o.current,Ao(_o,e),Ao(No,No.current),!0}function Uo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=jo(e,t,Oo),r.__reactInternalMemoizedMergedChildContext=e,Po(No),Po(_o),Ao(_o,e)):Po(No),Ao(No,n)}var Fo=null,Bo=!1,zo=!1;function Vo(e){null===Fo?Fo=[e]:Fo.push(e)}function Ho(){if(!zo&&null!==Fo){zo=!0;var e=0,t=bt;try{var n=Fo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fo=null,Bo=!1}catch(t){throw null!==Fo&&(Fo=Fo.slice(e+1)),Ye(Xe,Ho),t}finally{bt=t,zo=!1}}return null}var qo=[],Wo=0,Go=null,Yo=0,$o=[],Ko=0,Zo=null,Jo=1,Qo="";function Xo(e,t){qo[Wo++]=Yo,qo[Wo++]=Go,Go=e,Yo=t}function ei(e,t,n){$o[Ko++]=Jo,$o[Ko++]=Qo,$o[Ko++]=Zo,Zo=e;var r=Jo;e=Qo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Jo=1<<32-at(t)+o|n<<o|r,Qo=i+e}else Jo=1<<i|n<<o|r,Qo=e}function ti(e){null!==e.return&&(Xo(e,1),ei(e,1,0))}function ni(e){for(;e===Go;)Go=qo[--Wo],qo[Wo]=null,Yo=qo[--Wo],qo[Wo]=null;for(;e===Zo;)Zo=$o[--Ko],$o[Ko]=null,Qo=$o[--Ko],$o[Ko]=null,Jo=$o[--Ko],$o[Ko]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zo?{id:Jo,overflow:Qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return!(!(1&e.mode)||128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function fi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ii)return fi(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw hi(),Error(i(418));for(;t;)si(e,t),t=co(t.nextSibling)}if(fi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=oi;e;)e=co(e.nextSibling)}function pi(){oi=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=w.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===I&&bi(i)===t.type)?((r=o(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case E:return(t=Uc(t,e.mode,n)).return=e,t;case I:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?c(e,t,n,r):null;case E:return n.key===o?u(e,t,n,r):null;case I:return h(e,t,(o=n._init)(n._payload),r)}if(te(n)||M(n))return null!==o?null:f(e,t,n,r,null);vi(e,n)}return null}function p(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case I:return p(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,o,null);vi(t,r)}return null}function m(o,i,s,l){for(var c=null,u=null,f=i,m=i=0,g=null;null!==f&&m<s.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var y=h(o,f,s[m],l);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(o,f),i=a(y,i,m),null===u?c=y:u.sibling=y,u=y,f=g}if(m===s.length)return n(o,f),ii&&Xo(o,m),c;if(null===f){for(;m<s.length;m++)null!==(f=d(o,s[m],l))&&(i=a(f,i,m),null===u?c=f:u.sibling=f,u=f);return ii&&Xo(o,m),c}for(f=r(o,f);m<s.length;m++)null!==(g=p(f,o,m,s[m],l))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&f.forEach((function(e){return t(o,e)})),ii&&Xo(o,m),c}function g(o,s,l,c){var u=M(l);if("function"!=typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var f=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=h(o,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,g),null===f?u=b:f.sibling=b,f=b,m=y}if(v.done)return n(o,m),ii&&Xo(o,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(o,v.value,c))&&(s=a(v,s,g),null===f?u=v:f.sibling=v,f=v);return ii&&Xo(o,g),u}for(m=r(o,m);!v.done;g++,v=l.next())null!==(v=p(m,o,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===f?u=v:f.sibling=v,f=v);return e&&m.forEach((function(e){return t(o,e)})),ii&&Xo(o,g),u}return function e(r,i,a,l){if("object"==typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===I&&bi(c)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=yi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((i=Mc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=yi(r,i,a),l.return=r,r=l)}return s(r);case E:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Uc(a,r.mode,l)).return=r,r=i}return s(r);case I:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(M(a))return g(r,i,a,l);vi(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Dc(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var xi=wi(!0),Ei=wi(!1),Si=Co(null),ki=null,Ci=null,Pi=null;function Ai(){Pi=Ci=ki=null}function Ti(e){var t=Si.current;Po(Si),e._currentValue=t}function _i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t){ki=e,Pi=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Oi(e){var t=e._currentValue;if(Pi!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===ki)throw Error(i(308));Ci=e,ki.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Ii=null;function Ri(e){null===Ii?Ii=[e]:Ii.push(e)}function Li(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ri(t)):(n.next=o.next,o.next=n),t.interleaved=n,Mi(e,r)}function Mi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var ji=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ui(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Tl){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Mi(e,n)}return null===(o=r.interleaved)?(t.next=t,Ri(r)):(t.next=o.next,o.next=t),r.interleaved=t,Mi(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Vi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hi(e,t,n,r){var o=e.updateQueue;ji=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==i){var f=o.baseState;for(a=0,u=c=l=null,s=i;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,h=n,m.tag){case 1:if("function"==typeof(p=m.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(h,f,d):p))break e;f=D({},f,d);break e;case 2:ji=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=o.effects)?o.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=f):u=u.next=h,a|=d;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(d=s).next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}if(null===u&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);jl|=a,e.lanes=a,e.memoizedState=f}}function qi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var Wi={},Gi=Co(Wi),Yi=Co(Wi),$i=Co(Wi);function Ki(e){if(e===Wi)throw Error(i(174));return e}function Zi(e,t){switch(Ao($i,t),Ao(Yi,e),Ao(Gi,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Po(Gi),Ao(Gi,t)}function Ji(){Po(Gi),Po(Yi),Po($i)}function Qi(e){Ki($i.current);var t=Ki(Gi.current),n=le(t,e.type);t!==n&&(Ao(Yi,e),Ao(Gi,n))}function Xi(e){Yi.current===e&&(Po(Gi),Po(Yi))}var ea=Co(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,fa=!1,da=0,ha=0;function pa(){throw Error(i(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,o,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Xa:es,e=n(r,o),fa){a=0;do{if(fa=!1,da=0,25<=a)throw Error(i(301));a+=1,ca=la=null,t.updateQueue=null,oa.current=ts,e=n(r,o)}while(fa)}if(oa.current=Qa,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(i(300));return e}function ya(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(i(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"==typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=la,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,c=null,u=a;do{var f=u.lane;if((aa&f)===f)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,s=r):c=c.next=d,sa.lanes|=f,jl|=f}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,sa.lanes|=a,jl|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ea(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function ka(e,t){var n=sa,r=ba(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,bs=!0),r=r.queue,ja(Aa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Oa(9,Pa.bind(null,n,r,o,t),void 0,null),null===_l)throw Error(i(349));30&aa||Ca(n,t,o)}return o}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&_a(e)}function Aa(e,t,n){return n((function(){Ta(t)&&_a(e)}))}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function _a(e){var t=Mi(e,1);null!==t&&nc(t,e,1,-1)}function Na(e){var t=va();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=$a.bind(null,sa,e),[t.memoizedState,e]}function Oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ia(){return ba().memoizedState}function Ra(e,t,n,r){var o=va();sa.flags|=e,o.memoizedState=Oa(1|t,n,void 0,void 0===r?null:r)}function La(e,t,n,r){var o=ba();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&ma(r,a.deps))return void(o.memoizedState=Oa(t,n,i,r))}sa.flags|=e,o.memoizedState=Oa(1|t,n,i,r)}function Ma(e,t){return Ra(8390656,8,e,t)}function ja(e,t){return La(2048,8,e,t)}function Da(e,t){return La(4,2,e,t)}function Ua(e,t){return La(4,4,e,t)}function Fa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!=n?n.concat([e]):null,La(4,4,Fa.bind(null,t,e),n)}function za(){}function Va(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 21&aa?(sr(n,t)||(n=mt(),sa.lanes|=n,jl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n)}function Wa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Ga(){return ba().memoizedState}function Ya(e,t,n){var r=tc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e)?Za(t,n):null!==(n=Li(e,t,n,r))&&(nc(n,e,r,ec()),Ja(n,t,r))}function $a(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))Za(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(o.next=o,Ri(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Li(e,t,o,r))&&(nc(n,e,r,o=ec()),Ja(n,t,r))}}function Ka(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Za(e,t){fa=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ja(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Qa={readContext:Oi,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Xa={readContext:Oi,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Oi,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ra(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ya.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Na,useDebugValue:za,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Na(!1),t=e[0];return e=Wa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,o=va();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===_l)throw Error(i(349));30&aa||Ca(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ma(Aa.bind(null,r,a,e),[e]),r.flags|=2048,Oa(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=_l.identifierPrefix;if(ii){var n=Qo;t=":"+t+"R"+(n=(Jo&~(1<<32-at(Jo)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Oi,useCallback:Va,useContext:Oi,useEffect:ja,useImperativeHandle:Ba,useInsertionEffect:Da,useLayoutEffect:Ua,useMemo:Ha,useReducer:xa,useRef:Ia,useState:function(){return xa(wa)},useDebugValue:za,useDeferredValue:function(e){return qa(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:Ga,unstable_isNewReconciler:!1},ts={readContext:Oi,useCallback:Va,useContext:Oi,useEffect:ja,useImperativeHandle:Ba,useInsertionEffect:Da,useLayoutEffect:Ua,useMemo:Ha,useReducer:Ea,useRef:Ia,useState:function(){return Ea(wa)},useDebugValue:za,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:qa(t,la.memoizedState,e)},useTransition:function(){return[Ea(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:Ga,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Fi(r,o);i.payload=t,null!=n&&(i.callback=n),null!==(t=Bi(e,i,o))&&(nc(t,e,o,r),zi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Fi(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Bi(e,i,o))&&(nc(t,e,o,r),zi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=Fi(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Bi(e,o,r))&&(nc(t,e,r,n),zi(t,e,r))}};function is(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(o,i))}function as(e,t,n){var r=!1,o=To,i=t.contextType;return"object"==typeof i&&null!==i?i=Oi(i):(o=Ro(t)?Oo:_o.current,i=(r=null!=(r=t.contextTypes))?Io(e,o):To),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Di(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=Oi(i):(i=Ro(t)?Oo:_o.current,o.context=Io(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Hi(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ds="function"==typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Wl=r),fs(0,t)},n}function ps(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){fs(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!=typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,Bi(n,t,1))),n.lanes|=1),e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ei(t,null,n,r):xi(t,e.child,n,r)}function xs(e,t,n,r,o){n=n.render;var i=t.ref;return Ni(t,o),r=ga(e,t,n,r,i,o),n=ya(),null===e||bs?(ii&&n&&ti(t),t.flags|=1,ws(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,qs(e,t,o))}function Es(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Ic(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ss(e,t,i,r,o))}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qs(e,t,o)}return t.flags|=1,(e=Rc(i,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,!(e.lanes&o))return t.lanes=e.lanes,qs(e,t,o);131072&e.flags&&(bs=!0)}}return Ps(e,t,n,r,o)}function ks(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ao(Rl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ao(Rl,Il),Il|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ao(Rl,Il),Il|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ao(Rl,Il),Il|=r;return ws(e,t,o,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ps(e,t,n,r,o){var i=Ro(n)?Oo:_o.current;return i=Io(t,i),Ni(t,o),n=ga(e,t,n,r,i,o),r=ya(),null===e||bs?(ii&&r&&ti(t),t.flags|=1,ws(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,qs(e,t,o))}function As(e,t,n,r,o){if(Ro(n)){var i=!0;Do(t)}else i=!1;if(Ni(t,o),null===t.stateNode)Hs(e,t),as(t,n,r),ls(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?Oi(c):Io(t,c=Ro(n)?Oo:_o.current);var u=n.getDerivedStateFromProps,f="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),ji=!1;var d=t.memoizedState;a.state=d,Hi(t,r,a,o),l=t.memoizedState,s!==r||d!==l||No.current||ji?("function"==typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=ji||is(t,n,s,r,d,l,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ui(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,f=t.pendingProps,d=a.context,l="object"==typeof(l=n.contextType)&&null!==l?Oi(l):Io(t,l=Ro(n)?Oo:_o.current);var h=n.getDerivedStateFromProps;(u="function"==typeof h||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==f||d!==l)&&ss(t,a,r,l),ji=!1,d=t.memoizedState,a.state=d,Hi(t,r,a,o);var p=t.memoizedState;s!==f||d!==p||No.current||ji?("function"==typeof h&&(rs(t,n,h,r),p=t.memoizedState),(c=ji||is(t,n,c,r,d,p,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,i,o)}function Ts(e,t,n,r,o,i){Cs(e,t);var a=!!(128&t.flags);if(!r&&!a)return o&&Uo(t,n,!1),qs(e,t,i);r=t.stateNode,vs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,s,i)):ws(e,t,s,i),t.memoizedState=r.state,o&&Uo(t,n,!0),t.child}function _s(e){var t=e.stateNode;t.pendingContext?Mo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mo(0,t.context,!1),Zi(e,t.containerInfo)}function Ns(e,t,n,r,o){return pi(),mi(o),t.flags|=256,ws(e,t,n,r),t.child}var Os,Is,Rs,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t,n){var r,o=t.pendingProps,a=ea.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ao(ea,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},1&o||null===s?s=jc(l,o,0,null):(s.childLanes=0,s.pendingProps=l),e=Mc(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ms,e):Us(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=jc({mode:"visible",children:r.children},o,0,null),(a=Mc(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&xi(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ms,a);if(!(1&t.mode))return Fs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Fs(e,t,s,r=us(a=Error(i(419)),r,void 0))}if(l=!!(s&e.childLanes),bs||l){if(null!==(r=_l)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=o&(r.suspendedLanes|s)?0:o)&&o!==a.retryLane&&(a.retryLane=o,Mi(e,o),nc(r,e,o,-1))}return mc(),Fs(e,t,s,r=us(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&($o[Ko++]=Jo,$o[Ko++]=Qo,$o[Ko++]=Zo,Jo=e.id,Qo=e.overflow,Zo=t),(t=Us(t,r.children)).flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===a?(o=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==r?s=Rc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?js(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,o}return e=(s=e.child).sibling,o=Rc(s,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Us(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&mi(r),xi(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_i(e.return,t,n)}function zs(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Vs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ws(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ao(ea,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),zs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}zs(t,!0,n,null,i);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Hs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ro(t.type)&&Lo(),Gs(t),null;case 3:return r=t.stateNode,Ji(),Po(No),Po(_o),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ai&&(ac(ai),ai=null))),Is(e,t),Gs(t),null;case 5:Xi(t);var o=Ki($i.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Gs(t),null}if(e=Ki(Gi.current),di(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ho]=t,r[po]=a,e=!!(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(o=0;o<Mr.length;o++)Fr(Mr[o],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Z(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":oe(r,a),Fr("invalid",r)}for(var l in ve(n,a),o=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":G(r),X(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Xr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ho]=t,e[po]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),o=r;break;case"iframe":case"object":case"embed":Fr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Mr.length;o++)Fr(Mr[o],e);o=r;break;case"source":Fr("error",e),o=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),o=r;break;case"details":Fr("toggle",e),o=r;break;case"input":Z(e,r),o=K(e,r),Fr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=D({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Fr("invalid",e)}for(a in ve(n,o),c=o)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&fe(e,u):"children"===a?"string"==typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"==typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":G(e),X(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ki($i.current),Ki(Gi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[ho]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Qr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ho]=t,t.stateNode=r}return Gs(t),null;case 13:if(Po(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&1&t.mode&&!(128&t.flags))hi(),pi(),t.flags|=98560,a=!1;else if(a=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[ho]=t}else pi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==ai&&(ac(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return Ji(),Is(e,t),null===e&&Vr(t.stateNode.containerInfo),Gs(t),null;case 10:return Ti(t.type._context),Gs(t),null;case 19:if(Po(ea),null===(a=t.memoizedState))return Gs(t),null;if(r=!!(128&t.flags),null===(l=a.rendering))if(r)Ws(a,!1);else{if(0!==Ll||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Ws(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ao(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Vl&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return Gs(t),null}else 2*Je()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=ea.current,Ao(ea,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Il)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function $s(e,t){switch(ni(t),t.tag){case 1:return Ro(t.type)&&Lo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),Po(No),Po(_o),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(Po(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Po(ea),null;case 4:return Ji(),null;case 10:return Ti(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Rs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ki(Gi.current);var i,a=null;switch(n){case"input":o=K(e,o),r=K(e,r),a=[];break;case"select":o=D({},o,{value:void 0}),r=D({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Xr)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Zs=!1,Js="function"==typeof WeakSet?WeakSet:Set,Qs=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){kc(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){kc(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[ho],delete t[po],delete t[go],delete t[yo],delete t[vo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,fl=!1;function dl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Zs||Xs(n,t);case 6:var r=ul,o=fl;ul=null,dl(e,t,n),fl=o,null!==(ul=r)&&(fl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(fl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Vt(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=fl,ul=n.stateNode.containerInfo,fl=!0,dl(e,t,n),ul=r,fl=o;break;case 0:case 11:case 14:case 15:if(!Zs&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&el(n,t,a),o=o.next}while(o!==r)}dl(e,t,n);break;case 1:if(!Zs&&(Xs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){kc(n,t,e)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,dl(e,t,n),Zs=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,fl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));hl(a,s,o),ul=null,fl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){kc(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){kc(e,e.return,t)}try{nl(5,e,e.return)}catch(t){kc(e,e.return,t)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Xs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Xs(n,n.return),32&e.flags){var o=e.stateNode;try{de(o,"")}catch(t){kc(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(o,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?ge(o,d):"dangerouslySetInnerHTML"===f?fe(o,d):"children"===f?de(o,d):b(o,f,d,u)}switch(l){case"input":Q(o,a);break;case"textarea":ie(o,a);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(o,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[po]=a}catch(t){kc(e,e.return,t)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(t){kc(e,e.return,t)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(t){kc(e,e.return,t)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(zl=Je())),4&r&&pl(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(u=Zs)||f,ml(t,e),Zs=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!f&&1&e.mode)for(Qs=e,f=e.child;null!==f;){for(d=Qs=f;null!==Qs;){switch(p=(h=Qs).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Xs(h,h.return);var m=h.stateNode;if("function"==typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){kc(r,n,e)}}break;case 5:Xs(h,h.return);break;case 22:if(null!==h.memoizedState){xl(d);continue}}null!==p?(p.return=h,Qs=p):xl(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{o=d.stateNode,u?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=null!=(c=d.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(t){kc(e,e.return,t)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(t){kc(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(de(o,""),r.flags&=-33),cl(e,sl(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(i(161))}}catch(t){kc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Qs=e,bl(e,t,n)}function bl(e,t,n){for(var r=!!(1&e.mode);null!==Qs;){var o=Qs,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Ks;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=Ks;var c=Zs;if(Ks=a,(Zs=l)&&!c)for(Qs=o;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?El(o):null!==l?(l.return=a,Qs=l):El(o);for(;null!==i;)Qs=i,bl(i,t,n),i=i.sibling;Qs=o,Ks=s,Zs=c}wl(e)}else 8772&o.subtreeFlags&&null!==i?(i.return=o,Qs=i):wl(e)}}function wl(e){for(;null!==Qs;){var t=Qs;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Zs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var f=u.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(i(163))}Zs||512&t.flags&&ol(t)}catch(e){kc(t,t.return,e)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function xl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function El(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){kc(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){kc(t,o,e)}}var i=t.return;try{ol(t)}catch(e){kc(t,i,e)}break;case 5:var a=t.return;try{ol(t)}catch(e){kc(t,a,e)}}}catch(e){kc(t,t.return,e)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Sl,kl=Math.ceil,Cl=w.ReactCurrentDispatcher,Pl=w.ReactCurrentOwner,Al=w.ReactCurrentBatchConfig,Tl=0,_l=null,Nl=null,Ol=0,Il=0,Rl=Co(0),Ll=0,Ml=null,jl=0,Dl=0,Ul=0,Fl=null,Bl=null,zl=0,Vl=1/0,Hl=null,ql=!1,Wl=null,Gl=null,Yl=!1,$l=null,Kl=0,Zl=0,Jl=null,Ql=-1,Xl=0;function ec(){return 6&Tl?Je():-1!==Ql?Ql:Ql=Je()}function tc(e){return 1&e.mode?2&Tl&&0!==Ol?Ol&-Ol:null!==gi.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Zt(e.type):1}function nc(e,t,n,r){if(50<Zl)throw Zl=0,Jl=null,Error(i(185));yt(e,n,r),2&Tl&&e===_l||(e===_l&&(!(2&Tl)&&(Dl|=n),4===Ll&&sc(e,Ol)),rc(e,r),1===n&&0===Tl&&!(1&t.mode)&&(Vl=Je()+500,Bo&&Ho()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?s&n&&!(s&r)||(o[a]=ht(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=dt(e,e===_l?Ol:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Bo=!0,Vo(e)}(lc.bind(null,e)):Vo(lc.bind(null,e)),ao((function(){!(6&Tl)&&Ho()})),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Ql=-1,Xl=0,6&Tl)throw Error(i(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===_l?Ol:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=gc(e,r);else{t=r;var o=Tl;Tl|=2;var a=pc();for(_l===e&&Ol===t||(Hl=null,Vl=Je()+500,dc(e,t));;)try{vc();break}catch(t){hc(e,t)}Ai(),Cl.current=a,Tl=o,null!==Nl?t=0:(_l=null,Ol=0,t=Ll)}if(0!==t){if(2===t&&0!==(o=pt(e))&&(r=o,t=ic(e,o)),1===t)throw n=Ml,dc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=gc(e,r),2===t&&(a=pt(e),0!==a&&(r=a,t=ic(e,a))),1!==t)))throw n=Ml,dc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,Bl,Hl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==dt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(xc.bind(null,e,Bl,Hl),t);break}xc(e,Bl,Hl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ro(xc.bind(null,e,Bl,Hl),r);break}xc(e,Bl,Hl);break;default:throw Error(i(329))}}}return rc(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~Ul,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(6&Tl)throw Error(i(327));Ec();var t=dt(e,0);if(!(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ml,dc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,Hl),rc(e,Je()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Vl=Je()+500,Bo&&Ho())}}function uc(e){null!==$l&&0===$l.tag&&!(6&Tl)&&Ec();var t=Tl;Tl|=1;var n=Al.transition,r=bt;try{if(Al.transition=null,bt=1,e)return e()}finally{bt=r,Al.transition=n,!(6&(Tl=t))&&Ho()}}function fc(){Il=Rl.current,Po(Rl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Lo();break;case 3:Ji(),Po(No),Po(_o),ra();break;case 5:Xi(r);break;case 4:Ji();break;case 13:case 19:Po(ea);break;case 10:Ti(r.type._context);break;case 22:case 23:fc()}n=n.return}if(_l=e,Nl=e=Rc(e.current,null),Ol=Il=t,Ll=0,Ml=null,Ul=Dl=jl=0,Bl=Fl=null,null!==Ii){for(t=0;t<Ii.length;t++)if(null!==(r=(n=Ii[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Ii=null}return e}function hc(e,t){for(;;){var n=Nl;try{if(Ai(),oa.current=Qa,ua){for(var r=sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,fa=!1,da=0,Pl.current=null,null===n||null===n.return){Ll=1,Ml=t,Nl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,f=l,d=f.tag;if(!(1&f.mode||0!==d&&11!==d&&15!==d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){ms(a,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var y=gs(s);if(null!==y){!(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),mi(cs(c,l));break e}}a=c=cs(c,l),4!==Ll&&(Ll=2),null===Fl?Fl=[a]:Fl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vi(a,hs(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof v.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Gl&&Gl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Vi(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(e){t=e,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function pc(){var e=Cl.current;return Cl.current=Qa,null===e?Qa:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===_l||!(268435455&jl)&&!(268435455&Dl)||sc(_l,Ol)}function gc(e,t){var n=Tl;Tl|=2;var r=pc();for(_l===e&&Ol===t||(Hl=null,dc(e,t));;)try{yc();break}catch(t){hc(e,t)}if(Ai(),Tl=n,Cl.current=r,null!==Nl)throw Error(i(261));return _l=null,Ol=0,Ll}function yc(){for(;null!==Nl;)bc(Nl)}function vc(){for(;null!==Nl&&!Ke();)bc(Nl)}function bc(e){var t=Sl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?wc(e):Nl=t,Pl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=$s(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Ll=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ys(n,t,Il)))return void(Nl=n);if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Ll&&(Ll=5)}function xc(e,t,n){var r=bt,o=Al.transition;try{Al.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==$l);if(6&Tl)throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===_l&&(Nl=_l=null,Ol=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Yl||(Yl=!0,_c(tt,(function(){return Ec(),null}))),a=!!(15990&n.flags),15990&n.subtreeFlags||a){a=Al.transition,Al.transition=null;var s=bt;bt=1;var l=Tl;Tl|=4,Pl.current=null,function(e,t){if(eo=qt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==o&&3!==d.nodeType||(l=s+o),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===o&&(l=s),h===a&&++f===r&&(c=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},qt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,1028&t.subtreeFlags&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(e){kc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(to),qt=!!eo,to=eo=null,e.current=n,vl(n,e,o),Ze(),Tl=l,bt=s,Al.transition=a}else e.current=n;if(Yl&&(Yl=!1,$l=e,Kl=o),0===(a=e.pendingLanes)&&(Gl=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;!!(1&Kl)&&0!==e.tag&&Ec(),1&(a=e.pendingLanes)?e===Jl?Zl++:(Zl=0,Jl=e):Zl=0,Ho()}(e,t,n,r)}finally{Al.transition=o,bt=r}return null}function Ec(){if(null!==$l){var e=wt(Kl),t=Al.transition,n=bt;try{if(Al.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Kl=0,6&Tl)throw Error(i(331));var o=Tl;for(Tl|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(16&Qs.flags){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var f=Qs;switch(f.tag){case 0:case 11:case 15:nl(8,f,a)}var d=f.child;if(null!==d)d.return=f,Qs=d;else for(;null!==Qs;){var h=(f=Qs).sibling,p=f.return;if(il(f),f===u){Qs=null;break}if(null!==h){h.return=p,Qs=h;break}Qs=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qs=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(2048&(a=Qs).flags)switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Qs=v;break e}Qs=a.return}}var b=e.current;for(Qs=b;null!==Qs;){var w=(s=Qs).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,Qs=w;else e:for(s=b;null!==Qs;){if(2048&(l=Qs).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){kc(l,l.return,e)}if(l===s){Qs=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Qs=x;break e}Qs=l.return}}if(Tl=o,Ho(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{bt=n,Al.transition=t}}return!1}function Sc(e,t,n){e=Bi(e,t=hs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Bi(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Ol&n)===n&&(4===Ll||3===Ll&&(130023424&Ol)===Ol&&500>Je()-zl?dc(e,0):Ul|=n),rc(e,t)}function Pc(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=ec();null!==(e=Mi(e,t))&&(yt(e,t,n),rc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Pc(e,n)}function _c(e,t){return Ye(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Nc(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)Ic(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Mc(n.children,o,a,t);case k:s=8,o|=8;break;case C:return(e=Oc(12,n,t,2|o)).elementType=C,e.lanes=a,e;case _:return(e=Oc(13,n,t,o)).elementType=_,e.lanes=a,e;case N:return(e=Oc(19,n,t,o)).elementType=N,e.lanes=a,e;case R:return jc(n,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case P:s=10;break e;case A:s=9;break e;case T:s=11;break e;case O:s=14;break e;case I:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,o,i,a,s,l){return e=new Fc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Oc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function zc(e){if(!e)return To;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ro(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ro(n))return jo(e,n,t)}return t}function Vc(e,t,n,r,o,i,a,s,l){return(e=Bc(n,r,!0,e,0,i,0,s,l)).context=zc(null),n=e.current,(i=Fi(r=ec(),o=tc(n))).callback=null!=t?t:null,Bi(n,i,o),e.current.lanes=o,yt(e,o,r),rc(e,r),e}function Hc(e,t,n,r){var o=t.current,i=ec(),a=tc(o);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bi(o,t,a))&&(nc(e,o,a,i),zi(e,o,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||No.current)bs=!0;else{if(!(e.lanes&n||128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:_s(t),pi();break;case 5:Qi(t);break;case 1:Ro(t.type)&&Do(t);break;case 4:Zi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ao(Si,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ao(ea,1&ea.current),t.flags|=128,null):n&t.child.childLanes?Ds(e,t,n):(Ao(ea,1&ea.current),null!==(e=qs(e,t,n))?e.sibling:null);Ao(ea,1&ea.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ao(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return qs(e,t,n)}(e,t,n);bs=!!(131072&e.flags)}else bs=!1,ii&&1048576&t.flags&&ei(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var o=Io(t,_o.current);Ni(t,n),o=ga(null,t,r,e,o,n);var a=ya();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ro(r)?(a=!0,Do(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Di(t),o.updater=os,t.stateNode=o,o._reactInternals=t,ls(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),ws(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Ic(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(r),e=ns(r,e),o){case 0:t=Ps(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ps(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,As(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(_s(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Ui(e,t),Hi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ns(e,t,r,n,o=cs(Error(i(423)),t));break e}if(r!==o){t=Ns(e,t,r,n,o=cs(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Ei(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===o){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Qi(t),null===e&&ui(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Ds(e,t,n);case 4:return Zi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xs(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Ao(Si,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!No.current){t=qs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var f=(u=u.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),_i(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),_i(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ni(t,n),r=r(o=Oi(o)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),Es(e,t,r,o=ns(r.type,o),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),Hs(e,t),t.tag=1,Ro(r)?(e=!0,Do(t)):e=!1,Ni(t,n),as(t,r,o),ls(t,r,o,n),Ts(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return ks(e,t,n)}throw Error(i(156,t.tag))};var Yc="function"==typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Xc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"==typeof o){var s=o;o=function(){var e=qc(a);s.call(e)}}Hc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"==typeof r){var i=r;r=function(){var e=qc(a);i.call(e)}}var a=Vc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=a,e[mo]=a.current,Vr(8===e.nodeType?e.parentNode:e),uc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var s=r;r=function(){var e=qc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[mo]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,o,r);return qc(a)}Kc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},Kc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[mo]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Dt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),!(6&Tl)&&(Vl=Je()+500,Ho()))}break;case 13:uc((function(){var t=Mi(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},Et=function(e){if(13===e.tag){var t=Mi(e,134217728);null!==t&&nc(t,e,134217728,ec()),Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Mi(e,t);null!==n&&nc(n,e,t,ec()),Gc(e,t)}},kt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Eo(r);if(!o)throw Error(i(90));Y(r),Q(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,_e=uc;var eu={usingClientEntryPoint:!1,Events:[wo,xo,Eo,Pe,Ae,cc]},tu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(i(299));var n=!1,r="",o=Yc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Vr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(i(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Yc;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,o,0,a,s),e[mo]=t.current,Vr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Kc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(i(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Xc(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2833:e=>{e.exports=function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var c=i[l];if(!s(c))return!1;var u=e[c],f=t[c];if(!1===(o=n?n.call(r,u,f,c):void 0)||void 0===o&&u!==f)return!1}return!0}},2849:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},a=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,o=t.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(r in e);return void 0===r||t.call(e,r)},s=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(o)return o(e,n).value}return e[n]};e.exports=function e(){var t,n,r,o,c,u,f=arguments[0],d=1,h=arguments.length,p=!1;for("boolean"==typeof f&&(p=f,f=arguments[1]||{},d=2),(null==f||"object"!=typeof f&&"function"!=typeof f)&&(f={});d<h;++d)if(null!=(t=arguments[d]))for(n in t)r=l(f,n),f!==(o=l(t,n))&&(p&&o&&(a(o)||(c=i(o)))?(c?(c=!1,u=r&&i(r)?r:[]):u=r&&a(r)?r:{},s(f,{name:n,newValue:e(p,u,o)})):void 0!==o&&s(f,{name:n,newValue:o}));return f}},3081:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var r=n(6540),o=n(8858);function i({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const a=r.forwardRef(i);var s=n(2496),l=n(1136),c=n(3218);function u({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const f=r.forwardRef(u);function d({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),r.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const h=r.forwardRef(d);var p=n(4361),m=n(7530);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function y(){y=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new I(r||[]);return o(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",v={};function b(){}function w(){}function x(){}var E={};c(E,a,(function(){return this}));var S=Object.getPrototypeOf,k=S&&S(S(R([])));k&&k!==n&&r.call(k,a)&&(E=k);var C=x.prototype=b.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==g(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function T(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(g(t)+" is not iterable")}return w.prototype=x,o(C,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=c(x,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,c(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},P(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new A(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(C),c(C,l,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function v(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){v(i,r,o,a,s,"next",e)}function s(e){v(i,r,o,a,s,"throw",e)}a(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var E=new Set,S=!1,k=0,C=new Set,P=!1,A=0,T=function(e){var t,n;return e?null!==(t=e.signInUserSession)&&void 0!==t&&null!==(t=t.accessToken)&&void 0!==t&&t.jwtToken?e.signInUserSession.accessToken.jwtToken:e.token?e.token:null!==(n=e.signInUserSession)&&void 0!==n&&null!==(n=n.idToken)&&void 0!==n&&n.jwtToken?e.signInUserSession.idToken.jwtToken:"string"==typeof e&&3===e.split(".").length?e:null:null},_=function(e){var t=e.result,n=e.onClick,i=e.promptLogin,u=e.currentUser,d=e.isAuthenticated,g=void 0===d?!!u:d,v=e.simplifiedView,x=void 0!==v&&v,_=e.onFavoriteToggle,N=e.onWatchlistToggle,O=e.highlightMatch,I=void 0!==O&&O,R=e.initialIsFavorited,L=void 0===R?null:R,M=e.initialIsInWatchlist,j=void 0===M?null:M,D=e.fromWatchlist,U=void 0!==D&&D,F=e.fromFavorites,B=void 0!==F&&F,z=(e.isMiniCard,w((0,r.useState)(null!=L&&L),2)),V=z[0],H=z[1],q=w((0,r.useState)(null!=j&&j),2),W=q[0],G=q[1],Y=w((0,r.useState)(!1),2),$=Y[0],K=Y[1],Z=w((0,r.useState)(!1),2),J=Z[0],Q=Z[1],X=w((0,r.useState)(!1),2),ee=X[0],te=X[1],ne=w((0,r.useState)(!1),2),re=ne[0],oe=ne[1],ie=(0,r.useRef)(null!==L),ae=(0,r.useRef)(null!==j),se=t||{},le=se.id,ce=se.title,ue=se.name,fe=se.poster_path,de=se.overview,he=se.vote_average,pe=se.release_date,me=se.first_air_date,ge=se.media_type,ye=(se.genre_ids,se.score),ve=se.scoreReasons,be=se.popularity,we=null==le?void 0:le.toString(),xe=ce||ue||"Untitled",Ee=function(e){if(!e)return"";var t=new Date(e);return isNaN(t.getFullYear())?"":t.getFullYear().toString()}(pe||me),Se=0;null!=he&&(Se="string"==typeof he?parseFloat(he):Number(he));var ke=Se?Math.round(10*Se)/10:0,Ce=w((0,r.useState)(ke),2),Pe=Ce[0],Ae=Ce[1],Te=w((0,r.useState)(!1),2),_e=Te[0],Ne=Te[1],Oe=null!=ye?ye:he?Math.round(10*he):null,Ie=Math.round(be)||"N/A",Re=ge||(pe?"movie":"tv"),Le=fe?"https://image.tmdb.org/t/p/w500".concat(fe):"/placeholder.png",Me=(0,m.gg)(t);(0,r.useEffect)((function(){var e=function(){var e=b(y().mark((function e(){var t,n,r,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(we&&!(ke>0)&&(B||U)){e.next=2;break}return e.abrupt("return");case 2:return Ne(!0),e.prev=3,t="movie"===Re?"movie":"tv",e.next=7,fetch("https://api.themoviedb.org/3/".concat(t,"/").concat(we,"?api_key=").concat("b484a8d608caf759d5d575db3ec03bbc"));case 7:if(!(n=e.sent).ok){e.next=13;break}return e.next=11,n.json();case 11:(r=e.sent).vote_average&&(o=Math.round(10*r.vote_average)/10,Ae(o));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.error("Error fetching rating for ".concat(xe,":"),e.t0);case 18:return e.prev=18,Ne(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})));return function(){return e.apply(this,arguments)}}();e()}),[we,ke,B,U,Re,xe]),(0,r.useEffect)((function(){if(ie.current||null!==L)null!==L&&H(L);else{var e=function(){var e=b(y().mark((function e(){var t,n,r,o,i,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g&&u){e.next=2;break}return e.abrupt("return");case 2:if(t=T(u)){e.next=5;break}return e.abrupt("return");case 5:if(e.prev=5,n=Date.now(),!(S&&n-k<3e4)){e.next=12;break}return r=E.has(we),H(r),ie.current=!0,e.abrupt("return");case 12:if(!S){e.next=14;break}return e.abrupt("return");case 14:return K(!0),e.next=17,fetch("".concat("https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod","/favourite"),{headers:{Authorization:"Bearer ".concat(t)},credentials:"include",mode:"cors"}).catch((function(e){return console.warn("Error fetching favorites:",e.message),null}));case 17:if(o=e.sent){e.next=23;break}return H(!1),ie.current=!0,K(!1),e.abrupt("return");case 23:if(!o.ok){e.next=30;break}return e.next=26,o.json();case 26:null!=(i=e.sent)&&i.items&&Array.isArray(i.items)?(E=new Set(i.items.map((function(e){return e.mediaId}))),S=!0,k=Date.now(),a=E.has(we),H(a)):H(!1),e.next=31;break;case 30:H(!1);case 31:ie.current=!0,K(!1),e.next=40;break;case 35:e.prev=35,e.t0=e.catch(5),console.error("Error checking favorite status:",e.t0),ie.current=!0,K(!1);case 40:case"end":return e.stop()}}),e,null,[[5,35]])})));return function(){return e.apply(this,arguments)}}();e()}}),[g,u,we,L]),(0,r.useEffect)((function(){if(ae.current||null!==j)null!==j&&G(j);else{var e=function(){var e=b(y().mark((function e(){var t,n,r,o,i,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g&&u){e.next=2;break}return e.abrupt("return");case 2:if(t=T(u)){e.next=5;break}return e.abrupt("return");case 5:if(e.prev=5,n=Date.now(),!(P&&n-A<3e4)){e.next=12;break}return r=C.has(we),G(r),ae.current=!0,e.abrupt("return");case 12:if(!P){e.next=14;break}return e.abrupt("return");case 14:return Q(!0),e.next=17,fetch("".concat("https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod","/watchlist"),{headers:{Authorization:"Bearer ".concat(t)},credentials:"include",mode:"cors"}).catch((function(e){return console.warn("Error fetching watchlist:",e.message),null}));case 17:if(o=e.sent){e.next=23;break}return G(!1),ae.current=!0,Q(!1),e.abrupt("return");case 23:if(!o.ok){e.next=30;break}return e.next=26,o.json();case 26:null!=(i=e.sent)&&i.items&&Array.isArray(i.items)?(C=new Set(i.items.map((function(e){return e.mediaId}))),P=!0,A=Date.now(),a=C.has(we),G(a)):G(!1),e.next=31;break;case 30:G(!1);case 31:ae.current=!0,Q(!1),e.next=40;break;case 35:e.prev=35,e.t0=e.catch(5),console.error("Error checking watchlist status:",e.t0),ae.current=!0,Q(!1);case 40:case"end":return e.stop()}}),e,null,[[5,35]])})));return function(){return e.apply(this,arguments)}}();e()}}),[g,u,we,j]),(0,r.useEffect)((function(){var e=function(e){var t=e.detail||{},n=t.mediaId,r=t.isFavorited;n===we&&(H(r),r?E.add(n):E.delete(n))};return document.addEventListener("favorites-updated",e),function(){document.removeEventListener("favorites-updated",e)}}),[we]),(0,r.useEffect)((function(){var e=function(e){var t=e.detail||{},n=t.mediaId,r=t.isInWatchlist;n===we&&(G(r),r?C.add(n):C.delete(n))};return document.addEventListener("watchlist-updated",e),function(){document.removeEventListener("watchlist-updated",e)}}),[we]);var je=(0,r.useCallback)(function(){var e=b(y().mark((function e(t){var n,r,o,a,s;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),t.preventDefault(),null===(n=t.nativeEvent)||void 0===n||n.stopImmediatePropagation(),ie.current=!0,console.log("[Roo Debug] Favorite Toggle Click:",{isAuthenticated:g,hasCurrentUser:!!u,mediaId:we}),g){e.next=9;break}return console.log("MediaCard: User not authenticated for favorite toggle"),null==i||i(),e.abrupt("return");case 9:if(r=T(u)){e.next=13;break}return console.error("MediaCard: No authentication token found"),e.abrupt("return");case 13:return K(!0),a=(o=V)?"DELETE":"POST",H(!o),e.prev=17,console.log("[Roo Debug] Favorite Toggle: Attempting API call",{method:a,mediaId:we}),e.next=21,fetch("".concat("https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod","/favourite"),{method:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},credentials:"include",mode:"cors",body:JSON.stringify({mediaId:we,title:xe,mediaType:Re,posterPath:fe,overview:de})});case 21:if(s=e.sent,console.log("[Roo Debug] Favorite Toggle: API call finished",{ok:s.ok,status:s.status,mediaId:we}),s.ok){e.next=26;break}throw H(o),new Error("Server error: ".concat(s.status));case 26:o?E.delete(we):E.add(we),te(!0),setTimeout((function(){return te(!1)}),1500),console.log("[Roo Debug] Favorite Toggle: Before dispatchEvent",{mediaId:we}),document.dispatchEvent(new CustomEvent("favorites-updated",{detail:{mediaId:we,isFavorited:!o,item:o?null:{mediaId:we,title:xe,mediaType:Re,posterPath:fe,voteAverage:ke,releaseDate:pe||me}}})),console.log("[Roo Debug] Favorite Toggle: After dispatchEvent",{mediaId:we}),console.log("[Roo Debug] Favorite Toggle: Before onFavoriteToggle prop call",{mediaId:we,newStatus:!o}),_&&_(we,!o),console.log("[Roo Debug] Favorite Toggle: After onFavoriteToggle prop call",{mediaId:we}),k=0,e.next=42;break;case 38:e.prev=38,e.t0=e.catch(17),console.error("[Roo Debug] Favorite Toggle: Caught error",{error:e.t0,mediaId:we}),console.error("Error updating favorite:",e.t0);case 42:return e.prev=42,K(!1),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[17,38,42,45]])})));return function(t){return e.apply(this,arguments)}}(),[g,u,we,V,xe,Re,fe,de,i,_]),De=(0,r.useCallback)(function(){var e=b(y().mark((function e(t){var n,r,o,a,s,l;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&(t.stopPropagation(),t.preventDefault(),null===(n=t.nativeEvent)||void 0===n||n.stopImmediatePropagation()),ae.current=!0,console.log("[Roo Debug] Watchlist Toggle Click:",{isAuthenticated:g,hasCurrentUser:!!u,mediaId:we}),g){e.next=7;break}return console.log("MediaCard: User not authenticated for watchlist toggle"),null==i||i(),e.abrupt("return");case 7:if(r=T(u)){e.next=11;break}return console.error("MediaCard: No authentication token found"),e.abrupt("return");case 11:return Q(!0),a=(o=W)?"DELETE":"POST",G(!o),e.prev=15,console.log("[Roo Debug] Watchlist Toggle: Attempting API call",{method:a,mediaId:we}),e.next=19,fetch("".concat("https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod","/watchlist"),{method:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},credentials:"include",mode:"cors",body:JSON.stringify({mediaId:we,title:xe,mediaType:Re,posterPath:fe,overview:de})});case 19:if(s=e.sent,console.log("[Roo Debug] Watchlist Toggle: API call finished",{ok:s.ok,status:s.status,mediaId:we}),s.ok){e.next=34;break}return G(o),console.error("Server error: ".concat(s.status)),e.prev=24,e.next=27,s.json();case 27:l=e.sent,console.error("Error details:",l),e.next=33;break;case 31:e.prev=31,e.t0=e.catch(24);case 33:throw new Error("Server error: ".concat(s.status));case 34:o?C.delete(we):C.add(we),oe(!0),setTimeout((function(){return oe(!1)}),1500),console.log("[Roo Debug] Watchlist Toggle: Before dispatchEvent",{mediaId:we}),document.dispatchEvent(new CustomEvent("watchlist-updated",{detail:{mediaId:we,isInWatchlist:!o,item:o?null:{mediaId:we,title:xe,mediaType:Re,posterPath:fe,voteAverage:ke,releaseDate:pe||me}}})),console.log("[Roo Debug] Watchlist Toggle: After dispatchEvent",{mediaId:we}),console.log("[Roo Debug] Watchlist Toggle: Before onWatchlistToggle prop call",{mediaId:we,newStatus:!o}),N&&N(we,!o),console.log("[Roo Debug] Watchlist Toggle: After onWatchlistToggle prop call",{mediaId:we}),A=0,e.next=51;break;case 46:e.prev=46,e.t1=e.catch(15),console.error("[Roo Debug] Watchlist Toggle: Caught error",{error:e.t1,mediaId:we}),console.error("Error updating watchlist:",e.t1),G(o);case 51:return e.prev=51,Q(!1),e.finish(51);case 54:case"end":return e.stop()}}),e,null,[[15,46,51,54],[24,31]])})));return function(t){return e.apply(this,arguments)}}(),[g,u,we,W,xe,Re,fe,de,i,N]),Ue=V?a:p.A,Fe=V?"text-red-500 animate-pulse":"text-white hover:text-red-300",Be=function(e){e.target.closest("button")||null==n||n(t)};return r.createElement(o.P.div,{role:"button",tabIndex:"0",onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),Be(e))},"aria-label":"View details for ".concat(xe),className:"group bg-transparent rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 ease-out relative flex flex-col h-full cursor-pointer ".concat(I?"ring-2 ring-offset-1 ring-offset-gray-900 ring-indigo-500 shadow-lg shadow-indigo-500/20":""),whileHover:{y:-3},layout:!0},r.createElement("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg ".concat(V?"ring-1 ring-red-300/50":""," transition-all duration-300 h-full"),onClick:Be},r.createElement("div",{className:"relative overflow-hidden h-[140px] sm:h-[160px] md:h-[200px] flex-shrink-0"},r.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-10"}),r.createElement(o.P.img,{src:Le,alt:"Poster for ".concat(xe),className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},loading:"lazy"}),null!==Oe&&r.createElement("div",{className:"absolute bottom-2 left-2 z-10 px-2 py-0.5 rounded-full text-xs font-semibold text-white shadow-md ".concat(Oe>=70?"bg-green-600/90":Oe>=50?"bg-yellow-600/90":"bg-red-600/90")},Oe,"% Match"),r.createElement("span",{className:"absolute top-2 left-2 z-10 bg-black/60 text-white px-1.5 py-0.5 rounded-md text-[10px] sm:text-xs font-medium backdrop-blur-sm shadow"},"movie"===Re?"Movie":"TV"),g&&r.createElement(r.Fragment,null,r.createElement(o.P.button,{type:"button",onClick:je,disabled:$,className:"absolute top-2 right-2 z-20 p-1.5 rounded-full transition-all duration-200 ease-in-out backdrop-blur-sm focus:outline-none ".concat($?"bg-gray-500/70 cursor-not-allowed":V?"bg-red-600/70 hover:bg-red-500/80":"bg-black/50 hover:bg-black/70"," ").concat(ee?"ring-2 ring-offset-2 ring-offset-gray-800 ring-red-400":""),"aria-label":V?"Remove from favorites":"Add to favorites",whileTap:{scale:.9},whileHover:{scale:1.1},title:V?"Remove from favorites":"Add to favorites"},$?r.createElement("div",{className:"w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-spin"}):r.createElement(Ue,{className:"w-5 h-5 ".concat(Fe)})),r.createElement(o.P.button,{type:"button",onClick:De,disabled:J,className:"absolute top-2 right-10 z-20 p-1.5 rounded-full transition-all duration-200 ease-in-out backdrop-blur-sm focus:outline-none ".concat(J?"bg-gray-500/70 cursor-not-allowed":W?"bg-blue-600/70 hover:bg-blue-500/80":"bg-black/50 hover:bg-black/70"," ").concat(re?"ring-2 ring-offset-2 ring-offset-gray-800 ring-blue-400":""),"aria-label":W?"Remove from watchlist":"Add to watchlist",whileTap:{scale:.9},whileHover:{scale:1.1},title:W?"Remove from watchlist":"Add to watchlist"},J?r.createElement("div",{className:"w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-spin"}):r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 ".concat(W?"text-blue-300":"text-white hover:text-blue-300"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:W?2.5:2},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})))),Me.friendsLiked>0&&!x&&r.createElement("div",{className:"absolute bottom-2 right-2 z-10 flex items-center bg-black/60 px-1.5 py-0.5 rounded-md backdrop-blur-sm"},r.createElement(h,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-blue-300"}),r.createElement("span",{className:"ml-1 text-[10px] sm:text-xs text-white font-medium"},Me.friendsLiked," liked")),I&&r.createElement("div",{className:"absolute top-0 left-0 z-10 bg-gradient-to-br from-purple-600 to-indigo-600 text-white text-[10px] sm:text-xs py-0.5 px-2 rounded-br-lg rounded-tl-xl shadow font-semibold"},"Matched! ")),U||B?r.createElement("div",{className:"p-2 sm:p-3"},r.createElement("h2",{className:"font-semibold text-gray-800 truncate text-sm sm:text-base",title:xe},xe),r.createElement("div",{className:"flex items-center justify-between mt-1 sm:mt-2 text-xs sm:text-sm"},r.createElement("span",{className:"bg-indigo-100 text-indigo-800 px-1.5 sm:px-2 py-0.5 rounded text-xs"},"movie"===Re?"Movie":"TV Show"),r.createElement("div",{className:"flex items-center"},r.createElement(s.A,{className:"w-3 h-3 text-amber-500 mr-0.5"}),_e?r.createElement("span",{className:"text-gray-700 animate-pulse"},""):r.createElement("span",{className:"text-gray-700"},Pe>0?Pe:ke>0?ke:"")))):x?r.createElement("div",{className:"p-2 sm:p-3"},r.createElement("h2",{className:"font-semibold text-gray-800 truncate text-sm sm:text-base",title:xe},xe),r.createElement("div",{className:"flex items-center justify-between mt-1 sm:mt-2 text-xs sm:text-sm"},r.createElement("div",{className:"flex items-center space-x-1 sm:space-x-2"},r.createElement("span",{className:"bg-indigo-100 text-indigo-800 px-1.5 sm:px-2 py-0.5 rounded text-xs"},"movie"===Re?"Movie":"TV Show"),Ee&&r.createElement("span",{className:"text-gray-600"},Ee)),ke>0&&r.createElement("div",{className:"flex items-center"},r.createElement(s.A,{className:"w-3 h-3 text-amber-500 mr-0.5"}),r.createElement("span",{className:"text-gray-700"},ke)))):r.createElement("div",{className:"p-2 sm:p-3 flex flex-col flex-grow bg-white rounded-b-xl"},r.createElement("h2",{className:"text-xs sm:text-sm md:text-base font-bold text-gray-800 mb-1 line-clamp-1 group-hover:text-indigo-700 transition-colors duration-300",title:xe},xe),de&&r.createElement("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2 mb-1 sm:mb-2 leading-relaxed flex-grow"},de),ve&&ve.length>0&&r.createElement("div",{className:"mt-auto mb-2 space-y-1"},ve.map((function(e,t){return r.createElement("div",{key:t,className:"flex items-center text-[10px] sm:text-xs"},r.createElement(l.A,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 mr-1 text-green-500 flex-shrink-0"}),r.createElement("span",{className:"text-gray-600 truncate"},e))}))),r.createElement("div",{className:"border-t border-gray-100 pt-2 flex items-center justify-between space-x-1"},r.createElement("div",{className:"flex items-center space-x-1"},r.createElement(s.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-amber-400"}),r.createElement("span",{className:"font-medium text-xs sm:text-sm text-gray-700"},ke||"N/A")),r.createElement("div",{className:"flex items-center space-x-1"},r.createElement(c.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),r.createElement("span",{className:"text-xs sm:text-sm text-gray-600"},Ee||"N/A")),r.createElement("div",{className:"flex items-center space-x-1"},r.createElement(f,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),r.createElement("span",{className:"text-xs sm:text-sm text-gray-600"},Ie))))))};const N=r.memo(_)},3218:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6540);function o({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"}))}const i=r.forwardRef(o)},3523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(5215).__exportStar)(n(871),t)},4006:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>o});const r=e=>"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))){const o=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)})(e),o=e=>"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r<128)t+=String.fromCharCode(r);else if(192<=r&&r<224){const o=e[++n];t+=String.fromCharCode((31&r)<<6|63&o)}else if(240<=r&&r<365){const o="%"+[r,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)},4361:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6540);function o({title:e,titleId:t,...n},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const i=r.forwardRef(o)},4602:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(5494),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var m=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&l^~s&c)|0)+(u+(r.KEY[f]+this.temp[f]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;u=c,c=l,l=s,s=a+m|0,a=i,i=o,o=n,n=m+g|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=l,t[6]+=c,t[7]+=u},e}();t.RawSha256=o},4634:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},4848:(e,t,n)=>{"use strict";e.exports=n(1020)},5215:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>x,__await:()=>v,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>P,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>h,__extends:()=>o,__generator:()=>f,__importDefault:()=>k,__importStar:()=>S,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>y,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function P(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},5229:function(e,t,n){"use strict";var r=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(1133)),o=n(8917);function i(e,t){var n={};return e&&"string"==typeof e?((0,r.default)(e,(function(e,r){e&&r&&(n[(0,o.camelCase)(e,t)]=r)})),n):n}i.default=i,e.exports=i},5287:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,o)&&!k.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:S.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+T(l,0):i,x(a)?(o="",null!=e&&(o=e.replace(A,"$&/")+"/"),_(a,t,o,"",(function(e){return e}))):null!=a&&(P(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var u=i+T(s=e[c],c);l+=_(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=_(s=s.value,t,o,u=i+T(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],o=0;return _(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},R={transition:null},L={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=M,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!k.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},5338:(e,t,n)=>{"use strict";var r=n(961);t.H=r.createRoot,r.hydrateRoot},5388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(1024);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(165);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(5413);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(2110);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},5413:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},5422:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var r=n(6540);function o(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},5494:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},5606:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,l=[],c=!1,u=-1;function f(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=l.length;t;){for(s=l,l=[];++u<t;)s&&s[u].run();u=-1,t=l.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||c||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},5682:()=>{},5858:(e,t,n)=>{var r="Expected a function",o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,f=c||u||Function("return this")(),d=Object.prototype.toString,h=Math.max,p=Math.min,m=function(){return f.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=a.test(e);return n||s.test(e)?l(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(r);return g(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),function(e,t,n){var o,i,a,s,l,c,u=0,f=!1,d=!1,v=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=o,r=i;return o=i=void 0,u=t,s=e.apply(r,n)}function w(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=a}function x(){var e=m();if(w(e))return E(e);l=setTimeout(x,function(e){var n=t-(e-c);return d?p(n,a-(e-u)):n}(e))}function E(e){return l=void 0,v&&o?b(e):(o=i=void 0,s)}function S(){var e=m(),n=w(e);if(o=arguments,i=this,c=e,n){if(void 0===l)return function(e){return u=e,l=setTimeout(x,t),f?b(e):s}(c);if(d)return l=setTimeout(x,t),b(c)}return void 0===l&&(l=setTimeout(x,t)),s}return t=y(t)||0,g(n)&&(f=!!n.leading,a=(d="maxWait"in n)?h(y(n.maxWait)||0,t):a,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==l&&clearTimeout(l),u=0,o=c=i=l=void 0},S.flush=function(){return void 0===l?s:E(m())},S}(e,t,{leading:o,maxWait:t,trailing:i})}},6521:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var r=n(6540);const o=n(843).B?r.useLayoutEffect:r.useEffect},6540:(e,t,n)=>{"use strict";e.exports=n(5287)},6782:(e,t,n)=>{"use strict";function r(e,t){return t=t||{},new Promise((function(n,r){var o=new XMLHttpRequest,i=[],a=[],s={},l=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:l,headers:{keys:function(){return i},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){i.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(l())},o.onerror=r,o.withCredentials="include"==t.credentials,t.headers)o.setRequestHeader(c,t.headers[c]);o.send(t.body||null)}))}n.r(t),n.d(t,{default:()=>r})},7094:(e,t,n)=>{"use strict";var r=n(7526),o=n(251),i=n(4634);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),o=(e=s(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return _(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){var i,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var f=!0,d=0;d<l;d++)if(c(e,i+d)!==c(t,d)){f=!1;break}if(f)return i}return-1}function b(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return V(B(t,e.length-n),e,n,r)}function x(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return x(e,t,n,r)}function S(e,t,n,r){return V(z(t),e,n,r)}function k(e,t,n,r){return V(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,l,c=e[o],u=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,f=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=f}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.hp=l,t.IS=50,l.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return f(null,e)},l.allocUnsafeSlow=function(e){return f(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.IS;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(r,o),u=e.slice(t,n),f=0;f<s;++f)if(c[f]!==u[f]){i=c[f],a=u[f];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function _(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function N(e,t,n){var r,o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var i="",a=t;a<n;++a)i+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return i}function O(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function j(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return i||j(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return i||j(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;n=new l(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=l.isBuffer(e)?e:B(new l(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}},7167:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});const r=(0,n(6540).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},7186:(e,t,n)=>{"use strict";t.decode=t.parse=n(1630),t.encode=t.stringify=n(9106)},7463:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],f=1,d=null,h=3,p=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(E);else{var t=r(u);null!==t&&L(x,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(P),P=-1),p=!0;var i=h;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!_());){var a=d.callback;if("function"==typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?d.callback=s:d===r(c)&&o(c),w(n)}else o(c);d=r(c)}if(null!==d)var l=!0;else{var f=r(u);null!==f&&L(x,f.startTime-n),l=!1}return l}finally{d=null,h=i,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,C=null,P=-1,A=5,T=-1;function _(){return!(t.unstable_now()-T<A)}function N(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?S():(k=!1,C=null)}}else k=!1}if("function"==typeof b)S=function(){b(N)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,I=O.port2;O.port1.onmessage=N,S=function(){I.postMessage(null)}}else S=function(){y(N,0)};function R(e){C=e,k||(k=!0,S())}function L(e,n){P=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(P),P=-1):g=!0,L(x,i-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,R(E))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},7526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),a=i[0],l=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,l)),u=0,f=l>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,c=r-o;s<c;s+=a)i.push(l(e,s,s+a>c?c:s+a));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},7530:(e,t,n)=>{"use strict";n.d(t,{J5:()=>b,SP:()=>y,ZL:()=>P,gg:()=>g,o9:()=>A});var r=n(1083);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){d=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new I(r||[]);return i(a,"_invoke",{value:T(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function b(){}function w(){}function x(){}var E={};u(E,s,(function(){return this}));var S=Object.getPrototypeOf,k=S&&S(S(R([])));k&&k!==n&&r.call(k,s)&&(E=k);var C=x.prototype=b.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,a,s,l){var c=h(e[i],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==o(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(f).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function T(t,n,r){var o=p;return function(i,a){if(o===g)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var c=h(t,n,r);if("normal"===c.type){if(o=r.done?y:m,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=y,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=h(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(o(t)+" is not iterable")}return w.prototype=x,i(C,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:w,configurable:!0}),w.displayName=u(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,u(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},P(A.prototype),u(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new A(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(C),u(C,c,"Generator"),u(C,s,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function h(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,s,"next",e)}function s(e){h(i,r,o,a,s,"throw",e)}a(void 0)}))}}var m={603:{friendsWatched:12,friendsLiked:11},238:{friendsWatched:8,friendsLiked:7}},g=function(e){return m[e.id]||{friendsWatched:0,friendsLiked:0}},y=r.A.create({headers:{"Cache-Control":"no-cache"}}),v=new Map,b=function(){var e=p(d().mark((function e(t,n){var r,o,i,a,s=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:2,o=JSON.stringify({url:t,params:n}),!v.has(o)){e.next=9;break}if(!((i=v.get(o)).expiry>Date.now())){e.next=8;break}return e.abrupt("return",{data:i.data});case 8:v.delete(o);case 9:return e.prev=9,e.next=12,y.get(t,{params:n});case 12:return a=e.sent,v.set(o,{data:a.data,expiry:Date.now()+3e5}),e.abrupt("return",a);case 17:if(e.prev=17,e.t0=e.catch(9),!(r>0)){e.next=23;break}return e.next=22,new Promise((function(e){return setTimeout(e,100*(1<<2-r))}));case 22:return e.abrupt("return",b(t,n,r-1));case 23:throw e.t0;case 24:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t,n){return e.apply(this,arguments)}}(),w={Director:5,"Original Music Composer":3,"Director of Photography":2},x={11:[10751,18],0:[18,9648],9:[27,53],6:[12,14]},E=[5,10,15,20,25,30,40,50],S=(new Date).getFullYear(),k=function(e){if(!e)return[];var t=e.toLowerCase().replace(/^(the|a|an) /,"").replace(/[^\w\s]/g," ").replace(/\s+/g," ").trim(),n=new Set(["and","or","of","in","on","at","to","for","with","by"]);return t.split(" ").filter((function(e){return e.length>2&&!n.has(e)}))},C=function(e,t){var n,r,o,i,a=0,s=[];if(t.title&&(e.title||e.name)){var l=function(e,t){if(!e||!t)return 0;var n=k(e),r=k(t);if(0===n.length||0===r.length)return 0;var o=n.join(" "),i=r.join(" ");if(o===i)return 100;if(i.startsWith(o))return 90;if(i.includes(o))return 80;var a=n.filter((function(e){return r.some((function(t){return t.includes(e)||e.includes(t)}))})).length/n.length;return Math.round(70*a)}(t.title,e.title||e.name);l>70&&(s.push("Similar title"),a+=l/10)}var c=e.genre_ids.filter((function(e){return t.genres.includes(e)})).length;c>0&&(s.push("Matched ".concat(c," genres")),a+=5*c);var u=(null===(n=e.keywords)||void 0===n?void 0:n.filter((function(e){return t.keywords.includes(e)})).length)||0;u>0&&(s.push("Matched ".concat(u," keywords")),a+=3*u);var f=(null===(r=e.cast)||void 0===r?void 0:r.filter((function(e){return t.cast.includes(e)})).length)||0;f>0&&(s.push("Matched cast"),a+=2*f),t.director&&null!==(o=e.crew)&&void 0!==o&&o.some((function(e){return e.id===t.director}))&&(s.push("Directed by target director"),a+=4);var d=new Date(e.release_date||e.first_air_date||S).getFullYear();S-d<=5&&(s.push("Recent release (".concat(d,")")),a+=3);var h=Math.min(Math.floor((e.popularity||0)/20),5);h>0&&(s.push("Popularity boost"),a+=h),(e.vote_average||0)>3&&(s.push("High vote average"),a+=2.5*(e.vote_average||0));var p=new Set(e.genre_ids).size;p>1&&(s.push("Genre diversity"),a+=Math.min(p,3));var m=JSON.parse(localStorage.getItem("viewingHistory")||"[]").filter((function(t){var n;return null===(n=t.genre_ids)||void 0===n?void 0:n.some((function(t){return e.genre_ids.includes(t)}))})).length;m>0&&(s.push("Similar tastes boost"),a+=2*m);var g=(null===(i=e.credits)||void 0===i||null===(i=i.crew)||void 0===i?void 0:i.reduce((function(e,t){return e+(w[t.job]||0)}),0))||0;return g>0&&(s.push("Creative team boost"),a+=g),e.genre_ids.some((function(e){return(x[(new Date).getMonth()]||[]).includes(e)}))&&(s.push("Seasonal recommendation"),a+=3),function(e){return E.some((function(t){return(S-e)%t==0}))}(d)&&(s.push("Classic film anniversary"),a+=2),{score:Math.min(Math.round(a),100),reasons:s}},P=function(){var e=p(d().mark((function e(t){var n,r,o,s,l,c,f,h,p,m,g,y,v,w,x,E,S,k,P,A,T,_,N,O,I,R,L;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.media_type&&null!=t&&t.id){e.next=3;break}return console.error("Invalid primary result:",t),e.abrupt("return",[]);case 3:if(e.prev=3,l=t.media_type,c=t.id,f="b484a8d608caf759d5d575db3ec03bbc",["movie","tv"].includes(l)){e.next=10;break}return console.error("Error: Invalid mediaType:",l),e.abrupt("return",[]);case 10:return e.next=12,b("https://api.themoviedb.org/3/".concat(l,"/").concat(c),{api_key:f,append_to_response:"keywords,credits"});case 12:return h=e.sent,p=h.data,m="movie"===l?(null===(n=p.keywords)||void 0===n||null===(n=n.keywords)||void 0===n?void 0:n.map((function(e){return e.id})))||[]:(null===(r=p.keywords)||void 0===r||null===(r=r.results)||void 0===r?void 0:r.map((function(e){return e.id})))||[],g={genres:p.genres.map((function(e){return e.id})),keywords:m,director:null===(o=p.credits.crew.find((function(e){return"Director"===e.job})))||void 0===o?void 0:o.id,cast:p.credits.cast.slice(0,5).map((function(e){return e.id})),analysis:{mood:"neutral",themes:[]},title:p.title||p.name},y=b("https://api.themoviedb.org/3/".concat(l,"/").concat(c,"/similar"),{api_key:f}),w=b("https://api.themoviedb.org/3/discover/".concat(v="movie"===l?"tv":"movie"),{api_key:f,with_genres:g.genres.join(","),sort_by:"popularity.desc",page:1}),e.next=21,Promise.allSettled([y,w]);case 21:x=e.sent,E=[],x.forEach((function(e,t){if("fulfilled"===e.status){var n=0===t?l:v,r=e.value.data.results.map((function(e){return u(u({},e),{},{media_type:n})}));E.push.apply(E,a(r))}})),null!==(s=p.similar)&&void 0!==s&&s.results&&(S=p.similar.results.map((function(e){return u(u({},e),{},{media_type:l})})),E.push.apply(E,a(S))),k=new Set,P=E.filter((function(e){return!(!e.id||!e.media_type||e.id===c||k.has(e.id)||(k.add(e.id),0))})),A=JSON.parse(localStorage.getItem("userPrefs")||"{}"),T=(T=P.map((function(e){return u(u({},e),C(e,g))})).sort((function(e,t){return t.score-e.score}))).map((function(e){var t=e.score;A.favoriteGenres&&e.genre_ids.some((function(e){return A.favoriteGenres.includes(e)}))&&(t+=5,e.reasons.push("Matched your favorite genre"));var n=JSON.parse(localStorage.getItem("userRatings")||"{}");return n.similar&&n.similar.length>0&&n.similar.some((function(t){return e.genre_ids.includes(t.genreId)&&t.rating>=4}))&&(t+=3,e.reasons.push("Boost from similar highly rated items")),u(u({},e),{},{score:t})})).sort((function(e,t){return t.score-e.score})),_=[],N=new Set,O=i(T),e.prev=33,O.s();case 35:if((I=O.n()).done){e.next=43;break}if(R=I.value,L=R.genre_ids[0],N.has(L)?_.push(R):(_.push(R),N.add(L)),!(_.length>=9)){e.next=41;break}return e.abrupt("break",43);case 41:e.next=35;break;case 43:e.next=48;break;case 45:e.prev=45,e.t0=e.catch(33),O.e(e.t0);case 48:return e.prev=48,O.f(),e.finish(48);case 51:return e.abrupt("return",_.slice(0,9));case 54:return e.prev=54,e.t1=e.catch(3),console.error("Recommendation engine error:",e.t1),e.abrupt("return",[]);case 58:case"end":return e.stop()}}),e,null,[[3,54],[33,45,48,51]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){if(!e)return null;var t=[];if(e.referenceName){if(t.push('Similar to "'.concat(e.referenceName,'"')),e.modifierType)switch(e.modifierType){case"family-friendly":t.push("More family-friendly");break;case"darker":t.push("Darker tone");break;case"lighter":t.push("Lighter content");break;case"scarier":t.push("Scarier");break;case"more-action":t.push("More action");break;case"funnier":t.push("Funnier");break;case"more-dramatic":t.push("More dramatic")}return t.join(" but ")}if(e.mood)switch(e.mood){case"exciting":t.push("Exciting content");break;case"thoughtful":t.push("Thoughtful, meaningful content");break;case"emotional":t.push("Emotional, moving content");break;case"scary":t.push("Scary, thrilling content")}if(e.context)switch(e.context){case"date":t.push("Great for date night");break;case"family":t.push("Family-friendly");break;case"friends":t.push("Fun with friends");break;case"solo":t.push("Perfect for watching alone");break;case"learning":t.push("Educational content")}return e.emotionalState&&t.push("Great when feeling ".concat(e.emotionalState)),e.genres&&e.genres.length>0&&t.push(e.genres.join(", ")),e.subjects&&e.subjects.length>0&&t.push("About ".concat(e.subjects.join(", "))),e.timeRange?t.push("From ".concat(e.timeRange.start,"-").concat(e.timeRange.end)):e.year&&t.push("From ".concat(e.year)),e.person&&t.push("With ".concat(e.person)),t.join("  ")}},7766:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});const r=(0,n(6540).createContext)(null)},8287:(e,t,n)=>{"use strict";const r=n(7526),o=n(251),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=l,t.IS=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=s(n);const o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const o=function(e){if(l.isBuffer(e)){const t=0|p(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Z(e.length)?s(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return u(e),s(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(o)return r?-1:G(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return _(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===l)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){let n=!0;for(let r=0;r<l;r++)if(c(e,i+r)!==c(t,r)){n=!1;break}if(n)return i}return-1}function w(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Z(r))return a;e[n+a]=r}return a}function x(e,t,n,r){return $(G(t,e.length-n),e,n,r)}function E(e,t,n,r){return $(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return $(Y(t),e,n,r)}function k(e,t,n,r){return $(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,l;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(i=l));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(i=l))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return f(e)},l.allocUnsafeSlow=function(e){return f(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(K(t,Uint8Array))o+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?P(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,o){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),c=this.slice(r,o),u=e.slice(t,n);for(let e=0;e<s;++e)if(c[e]!==u[e]){i=c[e],a=u[e];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const A=4096;function T(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function _(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function N(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=J[e[r]];return o}function O(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r,o){V(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function M(e,t,n,r,o){V(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function j(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return t=+t,n>>>=0,i||j(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return t=+t,n>>>=0,i||j(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Q((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),l.prototype.readBigUInt64BE=Q((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Q((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=Q((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=Q((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Q((function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=Q((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Q((function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=l.isBuffer(e)?e:l.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const F={};function B(e,t,n){F[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function z(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function V(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,o,i)}function H(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw H(e,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}B("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),B("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),B("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=z(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=z(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Y(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Q(e){return"undefined"==typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},8348:function(e,t,n){var r;e=n.nmd(e),function(){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var i,a=2147483647,s=36,l=/^xn--/,c=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,h=String.fromCharCode;function p(e){throw RangeError(f[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+m((e=e.replace(u,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function v(e){return m(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+h(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;r+=s)e=d(e/35);return d(r+36*e/(e+38))}function x(e){var t,n,r,o,i,l,c,u,f,h,m,g=[],y=e.length,b=0,x=128,E=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&p("not-basic"),g.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<y;){for(i=b,l=1,c=s;o>=y&&p("invalid-input"),((u=(m=e.charCodeAt(o++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:s)>=s||u>d((a-b)/l))&&p("overflow"),b+=u*l,!(u<(f=c<=E?1:c>=E+26?26:c-E));c+=s)l>d(a/(h=s-f))&&p("overflow"),l*=h;E=w(b-i,t=g.length+1,0==i),d(b/t)>a-x&&p("overflow"),x+=d(b/t),b%=t,g.splice(b++,0,x)}return v(g)}function E(e){var t,n,r,o,i,l,c,u,f,m,g,v,x,E,S,k=[];for(v=(e=y(e)).length,t=128,n=0,i=72,l=0;l<v;++l)(g=e[l])<128&&k.push(h(g));for(r=o=k.length,o&&k.push("-");r<v;){for(c=a,l=0;l<v;++l)(g=e[l])>=t&&g<c&&(c=g);for(c-t>d((a-n)/(x=r+1))&&p("overflow"),n+=(c-t)*x,t=c,l=0;l<v;++l)if((g=e[l])<t&&++n>a&&p("overflow"),g==t){for(u=n,f=s;!(u<(m=f<=i?1:f>=i+26?26:f-i));f+=s)S=u-m,E=s-m,k.push(h(b(m+S%E,0))),u=d(S/E);k.push(h(b(u,0))),i=w(n,x,r==o),n=0,++r}++n,++t}return k.join("")}i={version:"1.3.2",ucs2:{decode:y,encode:v},decode:x,encode:E,toASCII:function(e){return g(e,(function(e){return c.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return g(e,(function(e){return l.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},8598:(e,t,n)=>{"use strict";var r=n(7526),o=n(251),i=n(4634);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),o=(e=s(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return _(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){var i,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var f=!0,d=0;d<l;d++)if(c(e,i+d)!==c(t,d)){f=!1;break}if(f)return i}return-1}function b(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return V(B(t,e.length-n),e,n,r)}function x(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return x(e,t,n,r)}function S(e,t,n,r){return V(z(t),e,n,r)}function k(e,t,n,r){return V(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,l,c=e[o],u=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,f=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=f}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.hp=l,t.IS=50,l.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return f(null,e)},l.allocUnsafeSlow=function(e){return f(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.IS;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(r,o),u=e.slice(t,n),f=0;f<s;++f)if(c[f]!==u[f]){i=c[f],a=u[f];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function _(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function N(e,t,n){var r,o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var i="",a=t;a<n;++a)i+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return i}function O(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function j(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return i||j(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return i||j(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;n=new l(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=l.isBuffer(e)?e:B(new l(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}},8858:(e,t,n)=>{"use strict";function r(e){if("undefined"==typeof Proxy)return e;const t=new Map;return new Proxy(((...t)=>e(...t)),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function o(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function i(e){const t=[{},{}];return e?.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function a(e,t,n,r){if("function"==typeof t){const[o,a]=i(r);t=t(void 0!==n?n:e.custom,o,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[o,a]=i(r);t=t(void 0!==n?n:e.custom,o,a)}return t}function s(e,t,n){const r=e.getProps();return a(r,t,void 0!==n?n:r.custom,e)}function l(e,t){return e?.[t]??e?.default??e}n.d(t,{P:()=>Ra});const c=e=>e,u={},f=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],d={value:null,addProjectionMetrics:null};function h(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=f.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,o=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(u.schedule(t),e()),l++,t(s)}const u={schedule:(e,t=!1,i=!1)=>{const s=i&&o?n:r;return t&&a.add(e),s.has(e)||s.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{s=e,o?i=!0:(o=!0,[n,r]=[r,n],n.forEach(c),t&&d.value&&d.value.frameloop[t].push(l),l=0,n.clear(),o=!1,i&&(i=!1,u.process(e)))}};return u}(i,t?n:void 0),e)),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:h,update:p,preRender:m,render:g,postRender:y}=a,v=()=>{const i=u.useManualTiming?o.timestamp:performance.now();n=!1,u.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(i-o.timestamp,40),1)),o.timestamp=i,o.isProcessing=!0,s.process(o),l.process(o),c.process(o),h.process(o),p.process(o),m.process(o),g.process(o),y.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(v))};return{schedule:f.reduce(((t,i)=>{const s=a[i];return t[i]=(t,i=!1,a=!1)=>(n||(n=!0,r=!0,o.isProcessing||e(v)),s.schedule(t,i,a)),t}),{}),cancel:e=>{for(let t=0;t<f.length;t++)a[f[t]].cancel(e)},state:o,steps:a}}const{schedule:p,cancel:m,state:g,steps:y}=h("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:c,!0),v=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],b=(()=>new Set(v))(),w=new Set(["width","height","top","left","right","bottom",...v]);function x(e,t){-1===e.indexOf(t)&&e.push(t)}function E(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class S{constructor(){this.subscriptions=[]}add(e){return x(this.subscriptions,e),()=>E(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function k(e,t){return t?e*(1e3/t):0}let C;function P(){C=void 0}const A={now:()=>(void 0===C&&A.set(g.isProcessing||u.useManualTiming?g.timestamp:performance.now()),C),set:e=>{C=e,queueMicrotask(P)}},T={current:void 0};class _{constructor(e,t={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{const n=A.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const e of this.dependents)e.dirty();t&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=A.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new S);const n=this.events[e].add(t);return"change"===e?()=>{n(),p.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return T.current&&T.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=A.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return k(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function N(e,t){return new _(e,t)}const O=e=>Array.isArray(e);function I(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,N(n))}const R=e=>Boolean(e&&e.getVelocity);function L(e,t){const n=e.getValue("willChange");if(r=n,Boolean(R(r)&&r.add))return n.add(t);if(!n&&u.WillChange){const n=new u.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}const M=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),j="data-"+M("framerAppearId");function D(e){return e.props[j]}const U=(e,t)=>n=>t(e(n)),F=(...e)=>e.reduce(U),B=(e,t,n)=>n>t?t:n<e?e:n,z=e=>1e3*e,V=e=>e/1e3,H={layout:0,mainThread:0,waapi:0},q=e=>t=>"string"==typeof t&&t.startsWith(e),W=q("--"),G=q("var(--"),Y=e=>!!G(e)&&$.test(e.split("/*")[0].trim()),$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,K={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Z={...K,transform:e=>B(0,1,e)},J={...K,default:1},Q=e=>Math.round(1e5*e)/1e5,X=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,ee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,te=(e,t)=>n=>Boolean("string"==typeof n&&ee.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),ne=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[o,i,a,s]=r.match(X);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},re={...K,transform:e=>Math.round((e=>B(0,255,e))(e))},oe={test:te("rgb","red"),parse:ne("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+re.transform(e)+", "+re.transform(t)+", "+re.transform(n)+", "+Q(Z.transform(r))+")"},ie={test:te("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:oe.transform},ae=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),se=ae("deg"),le=ae("%"),ce=ae("px"),ue=ae("vh"),fe=ae("vw"),de=(()=>({...le,parse:e=>le.parse(e)/100,transform:e=>le.transform(100*e)}))(),he={test:te("hsl","hue"),parse:ne("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+le.transform(Q(t))+", "+le.transform(Q(n))+", "+Q(Z.transform(r))+")"},pe={test:e=>oe.test(e)||ie.test(e)||he.test(e),parse:e=>oe.test(e)?oe.parse(e):he.test(e)?he.parse(e):ie.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?oe.transform(e):he.transform(e)},me=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,ge="number",ye="color",ve=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function be(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let i=0;const a=t.replace(ve,(e=>(pe.test(e)?(r.color.push(i),o.push(ye),n.push(pe.parse(e))):e.startsWith("var(")?(r.var.push(i),o.push("var"),n.push(e)):(r.number.push(i),o.push(ge),n.push(parseFloat(e))),++i,"${}"))).split("${}");return{values:n,split:a,indexes:r,types:o}}function we(e){return be(e).values}function xe(e){const{split:t,types:n}=be(e),r=t.length;return e=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],void 0!==e[i]){const t=n[i];o+=t===ge?Q(e[i]):t===ye?pe.transform(e[i]):e[i]}return o}}const Ee=e=>"number"==typeof e?0:e,Se={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(X)?.length||0)+(e.match(me)?.length||0)>0},parse:we,createTransformer:xe,getAnimatableNone:function(e){const t=we(e);return xe(e)(t.map(Ee))}};function ke(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ce(e,t){return n=>n>0?t:e}const Pe=(e,t,n)=>e+(t-e)*n,Ae=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},Te=[ie,oe,he];function _e(e){const t=(n=e,Te.find((e=>e.test(n))));var n;if(Boolean(t),!Boolean(t))return!1;let r=t.parse(e);return t===he&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let o=0,i=0,a=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;o=ke(s,r,e+1/3),i=ke(s,r,e),a=ke(s,r,e-1/3)}else o=i=a=n;return{red:Math.round(255*o),green:Math.round(255*i),blue:Math.round(255*a),alpha:r}}(r)),r}const Ne=(e,t)=>{const n=_e(e),r=_e(t);if(!n||!r)return Ce(e,t);const o={...n};return e=>(o.red=Ae(n.red,r.red,e),o.green=Ae(n.green,r.green,e),o.blue=Ae(n.blue,r.blue,e),o.alpha=Pe(n.alpha,r.alpha,e),oe.transform(o))},Oe=new Set(["none","hidden"]);function Ie(e,t){return n=>Pe(e,t,n)}function Re(e){return"number"==typeof e?Ie:"string"==typeof e?Y(e)?Ce:pe.test(e)?Ne:je:Array.isArray(e)?Le:"object"==typeof e?pe.test(e)?Ne:Me:Ce}function Le(e,t){const n=[...e],r=n.length,o=e.map(((e,n)=>Re(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}}function Me(e,t){const n={...e,...t},r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=Re(e[o])(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const je=(e,t)=>{const n=Se.createTransformer(t),r=be(e),o=be(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Oe.has(e)&&!o.values.length||Oe.has(t)&&!r.values.length?function(e,t){return Oe.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):F(Le(function(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const i=t.types[o],a=e.indexes[i][r[i]],s=e.values[a]??0;n[o]=s,r[i]++}return n}(r,o),o.values),n):Ce(e,t)};function De(e,t,n){return"number"==typeof e&&"number"==typeof t&&"number"==typeof n?Pe(e,t,n):Re(e)(e,t)}const Ue=e=>{const t=({timestamp:t})=>e(t);return{start:()=>p.update(t,!0),stop:()=>m(t),now:()=>g.isProcessing?g.timestamp:A.now()}},Fe=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let t=0;t<o;t++)r+=e(t/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Be=2e4;function ze(e){let t=0,n=e.next(t);for(;!n.done&&t<Be;)t+=50,n=e.next(t);return t>=Be?1/0:t}function Ve(e,t,n){const r=Math.max(t-5,0);return k(n-e(r),t-r)}const He=.01,qe=2,We=.005,Ge=.5;const Ye=12;function $e(e,t){return e*Math.sqrt(1-t*t)}const Ke=["duration","bounce"],Ze=["stiffness","damping","mass"];function Je(e,t){return t.some((t=>void 0!==e[t]))}function Qe(e=.3,t=.3){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],s={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:d,isResolvedFromDuration:h}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Je(e,Ze)&&Je(e,Ke))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),o=r*r,i=2*B(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:1,stiffness:o,damping:i}}else{const n=function({duration:e=800,bounce:t=.3,velocity:n=0,mass:r=1}){let o,i;z(10);let a=1-t;a=B(.05,1,a),e=B(.01,10,V(e)),a<1?(o=t=>{const r=t*a,o=r*e;return.001-(r-n)/$e(t,a)*Math.exp(-o)},i=t=>{const r=t*a*e,i=r*n+n,s=Math.pow(a,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=$e(Math.pow(t,2),a);return(.001-o(t)>0?-1:1)*((i-s)*l)/c}):(o=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,i=t=>Math.exp(-t*e)*(e*e*(n-t)));const s=function(e,t,n){let r=n;for(let n=1;n<Ye;n++)r-=e(r)/t(r);return r}(o,i,5/e);if(e=z(e),isNaN(s))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(s,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...n,velocity:-V(n.velocity||0)}),p=d||0,m=c/(2*Math.sqrt(l*u)),g=a-i,y=V(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(r||(r=v?He:qe),o||(o=v?We:Ge),m<1){const e=$e(y,m);b=t=>{const n=Math.exp(-m*y*t);return a-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return a-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const w={calculatedDuration:h&&f||null,next:e=>{const t=b(e);if(h)s.done=e>=f;else{let n=0===e?p:0;m<1&&(n=0===e?z(p):Ve(b,e,t));const i=Math.abs(n)<=r,l=Math.abs(a-t)<=o;s.done=i&&l}return s.value=s.done?a:t,s},toString:()=>{const e=Math.min(ze(w),Be),t=Fe((t=>w.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return w}function Xe({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:a,min:s,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],d={done:!1,value:f},h=e=>void 0===s?l:void 0===l||Math.abs(s-e)<Math.abs(l-e)?s:l;let p=n*t;const m=f+p,g=void 0===a?m:a(m);g!==m&&(p=g-f);const y=e=>-p*Math.exp(-e/r),v=e=>g+y(e),b=e=>{const t=y(e),n=v(e);d.done=Math.abs(t)<=c,d.value=d.done?g:n};let w,x;const E=e=>{var t;t=d.value,(void 0!==s&&t<s||void 0!==l&&t>l)&&(w=e,x=Qe({keyframes:[d.value,h(d.value)],velocity:Ve(v,e,d.value),damping:o,stiffness:i,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:e=>{let t=!1;return x||void 0!==w||(t=!0,b(e),E(e)),void 0!==w&&e>=w?x.next(e-w):(!t&&b(e),d)}}}Qe.applyToOptions=e=>{const t=function(e,t=100,n){const r=n({...e,keyframes:[0,t]}),o=Math.min(ze(r),Be);return{type:"keyframes",ease:e=>r.next(o*e).value/t,duration:V(o)}}(e,100,Qe);return e.ease=t.ease,e.duration=z(t.duration),e.type="keyframes",e};const et=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function tt(e,t,n,r){if(e===t&&n===r)return c;return o=>0===o||1===o?o:et(function(e,t,n,r,o){let i,a,s=0;do{a=t+(n-t)/2,i=et(a,r,o)-e,i>0?n=a:t=a}while(Math.abs(i)>1e-7&&++s<12);return a}(o,0,1,e,n),t,r)}const nt=tt(.42,0,1,1),rt=tt(0,0,.58,1),ot=tt(.42,0,.58,1),it=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,at=e=>t=>1-e(1-t),st=tt(.33,1.53,.69,.99),lt=at(st),ct=it(lt),ut=e=>(e*=2)<1?.5*lt(e):.5*(2-Math.pow(2,-10*(e-1))),ft=e=>1-Math.sin(Math.acos(e)),dt=at(ft),ht=it(ft),pt=e=>Array.isArray(e)&&"number"==typeof e[0],mt={linear:c,easeIn:nt,easeInOut:ot,easeOut:rt,circIn:ft,circInOut:ht,circOut:dt,backIn:lt,backInOut:ct,backOut:st,anticipate:ut},gt=e=>{if(pt(e)){e.length;const[t,n,r,o]=e;return tt(t,n,r,o)}return"string"==typeof e?mt[e]:e},yt=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function vt({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(gt):gt(r),i={done:!1,value:t[0]},a=function(e,t){return e.map((e=>e*t))}(n&&n.length===t.length?n:function(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=yt(0,t,r);e.push(Pe(n,1,o))}}(t,e.length-1),t}(t),e),s=function(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],o=n||u.mix||De,i=e.length-1;for(let n=0;n<i;n++){let i=o(e[n],e[n+1]);if(t){const e=Array.isArray(t)?t[n]||c:t;i=F(e,i)}r.push(i)}return r}(t,r,o),l=s.length,f=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const o=yt(e[r],e[r+1],n);return s[r](o)};return n?t=>f(B(e[0],e[i-1],t)):f}(a,t,{ease:Array.isArray(o)?o:(l=t,f=o,l.map((()=>f||ot)).splice(0,l.length-1))});var l,f;return{calculatedDuration:e,next:t=>(i.value=s(t),i.done=t>=e,i)}}const bt=e=>null!==e;function wt(e,{repeat:t,repeatType:n="loop"},r,o=1){const i=e.filter(bt),a=o<0||t&&"loop"!==n&&t%2==1?0:i.length-1;return a&&void 0!==r?r:i[a]}const xt={decay:Xe,inertia:Xe,tween:vt,keyframes:vt,spring:Qe};function Et(e){"string"==typeof e.type&&(e.type=xt[e.type])}class St{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise((e=>{this.resolve=e}))}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const kt=e=>e/100;class Ct extends St{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;if(e&&e.updatedAt!==A.now()&&this.tick(A.now()),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:t}=this.options;t&&t()},H.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Et(e);const{type:t=vt,repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:i=0}=e;let{keyframes:a}=e;const s=t||vt;s!==vt&&"number"!=typeof a[0]&&(this.mixKeyframes=F(kt,De(a[0],a[1])),a=[0,100]);const l=s({...e,keyframes:a});"mirror"===o&&(this.mirroredGenerator=s({...e,keyframes:[...a].reverse(),velocity:-i})),null===l.calculatedDuration&&(l.calculatedDuration=ze(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:a,calculatedDuration:s}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:f,repeatDelay:d,type:h,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let v=this.currentTime,b=n;if(u){const e=Math.min(this.currentTime,r)/a;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1),Boolean(t%2)&&("reverse"===f?(n=1-n,d&&(n-=d/a)):"mirror"===f&&(b=i)),v=B(0,1,n)*a}const w=y?{done:!1,value:c[0]}:b.next(v);o&&(w.value=o(w.value));let{done:x}=w;y||null===s||(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const E=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return E&&h!==Xe&&(w.value=wt(c,this.options,m,this.speed)),p&&p(w.value),E&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return V(this.calculatedDuration)}get time(){return V(this.currentTime)}set time(e){e=z(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(A.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=V(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Ue,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(A.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,H.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}const Pt=e=>180*e/Math.PI,At=e=>{const t=Pt(Math.atan2(e[1],e[0]));return _t(t)},Tt={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:At,rotateZ:At,skewX:e=>Pt(Math.atan(e[1])),skewY:e=>Pt(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},_t=e=>((e%=360)<0&&(e+=360),e),Nt=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ot=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),It={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Nt,scaleY:Ot,scale:e=>(Nt(e)+Ot(e))/2,rotateX:e=>_t(Pt(Math.atan2(e[6],e[5]))),rotateY:e=>_t(Pt(Math.atan2(-e[2],e[0]))),rotateZ:At,rotate:At,skewX:e=>Pt(Math.atan(e[4])),skewY:e=>Pt(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Rt(e){return e.includes("scale")?1:0}function Lt(e,t){if(!e||"none"===e)return Rt(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=It,o=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Tt,o=t}if(!o)return Rt(t);const i=r[t],a=o[1].split(",").map(Mt);return"function"==typeof i?i(a):a[i]}function Mt(e){return parseFloat(e.trim())}const jt=e=>e===K||e===ce,Dt=new Set(["x","y","z"]),Ut=v.filter((e=>!Dt.has(e))),Ft={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Lt(t,"x"),y:(e,{transform:t})=>Lt(t,"y")};Ft.translateX=Ft.x,Ft.translateY=Ft.y;const Bt=new Set;let zt=!1,Vt=!1,Ht=!1;function qt(){if(Vt){const e=Array.from(Bt).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return Ut.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((([t,n])=>{e.getValue(t)?.set(n)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Vt=!1,zt=!1,Bt.forEach((e=>e.complete(Ht))),Bt.clear()}function Wt(){Bt.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Vt=!0)}))}class Gt{constructor(e,t,n,r,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bt.add(this),zt||(zt=!0,p.read(Wt),p.resolveKeyframes(qt))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const o=r?.get(),i=e[e.length-1];if(void 0!==o)e[0]=o;else if(n&&t){const r=n.readValue(t,i);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===o&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}function Yt(e){let t;return()=>(void 0===t&&(t=e()),t)}const $t=Yt((()=>void 0!==window.ScrollTimeline)),Kt={};function Zt(e,t){const n=Yt(e);return()=>Kt[t]??n()}const Jt=Zt((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing"),Qt=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Xt={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qt([0,.65,.55,1]),circOut:Qt([.55,0,1,.45]),backIn:Qt([.31,.01,.66,-.59]),backOut:Qt([.33,1.53,.69,.99])};function en(e,t){return e?"function"==typeof e?Jt()?Fe(e,t):"ease-out":pt(e)?Qt(e):Array.isArray(e)?e.map((e=>en(e,t)||Xt.easeOut)):Xt[e]:void 0}function tn(e,t,n,{delay:r=0,duration:o=300,repeat:i=0,repeatType:a="loop",ease:s="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const f=en(s,o);Array.isArray(f)&&(u.easing=f),d.value&&H.waapi++;const h={delay:r,duration:o,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"};c&&(h.pseudoElement=c);const p=e.animate(u,h);return d.value&&p.finished.finally((()=>{H.waapi--})),p}function nn(e){return"function"==typeof e&&"applyToOptions"in e}class rn extends St{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:a,onComplete:s}=e;this.isPseudoElement=Boolean(o),this.allowFlatten=i,this.options=e,e.type;const l=function({type:e,...t}){return nn(e)&&Jt()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=tn(t,n,r,l,o),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const e=wt(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}s?.(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return V(Number(e))}get time(){return V(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=z(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&$t()?(this.animation.timeline=e,c):t(this)}}const on={anticipate:ut,backInOut:ct,circInOut:ht};class an extends rn{constructor(e){var t;"string"==typeof(t=e).ease&&t.ease in on&&(t.ease=on[t.ease]),Et(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:o,...i}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const a=new Ct({...i,autoplay:!1}),s=z(this.finishedTime??this.time);t.setWithVelocity(a.sample(s-10).value,a.sample(s).value,10),a.stop()}}const sn=(e,t)=>!("zIndex"===t||"number"!=typeof e&&!Array.isArray(e)&&("string"!=typeof e||!Se.test(e)&&"0"!==e||e.startsWith("url("))),ln=new Set(["opacity","clipPath","filter","transform"]),cn=Yt((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));class un extends St{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:i="loop",keyframes:a,name:s,motionValue:l,element:c,...u}){super(),this.stop=()=>{this._animation?(this._animation.stop(),this.stopTimeline?.()):this.keyframeResolver?.cancel()},this.createdAt=A.now();const f={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:o,repeatType:i,name:s,motionValue:l,element:c,...u},d=c?.KeyframeResolver||Gt;this.keyframeResolver=new d(a,((e,t,n)=>this.onKeyframesResolved(e,t,f,!n)),s,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:o,type:i,velocity:a,delay:s,isHandoff:l,onUpdate:f}=n;this.resolvedAt=A.now(),function(e,t,n,r){const o=e[0];if(null===o)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],a=sn(o,t),s=sn(i,t);return!(!a||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||nn(n))&&r)}(e,o,i,a)||(!u.instantAnimations&&s||f?.(wt(e,n,t)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const d={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},h=!l&&function(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:i,type:a}=e;if(!(t&&t.owner&&t.owner.current instanceof HTMLElement))return!1;const{onUpdate:s,transformTemplate:l}=t.owner.getProps();return cn()&&n&&ln.has(n)&&("transform"!==n||!l)&&!s&&!r&&"mirror"!==o&&0!==i&&"inertia"!==a}(d)?new an({...d,element:d.motionValue.owner.current}):new Ct(d);h.finished.then((()=>this.notifyFinished())).catch(c),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then((()=>{}))}get animation(){return this._animation||(Ht=!0,Wt(),qt(),Ht=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const fn=e=>null!==e,dn={type:"spring",stiffness:500,damping:25,restSpeed:10},hn={type:"keyframes",duration:.8},pn={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mn=(e,t,n,r={},o,i)=>a=>{const s=l(r,e)||{},c=s.delay||r.delay||0;let{elapsed:f=0}=r;f-=z(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-f,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:i?void 0:o};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:a,repeatDelay:s,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(s)||Object.assign(d,((e,{keyframes:t})=>t.length>2?hn:b.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:dn:pn)(e,d)),d.duration&&(d.duration=z(d.duration)),d.repeatDelay&&(d.repeatDelay=z(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let h=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(h=!0)),(u.instantAnimations||u.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!s.type&&!s.ease,h&&!i&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(fn),i=t&&"loop"!==n&&t%2==1?0:o.length-1;return i&&void 0!==r?r:o[i]}(d.keyframes,s);if(void 0!==e)return void p.update((()=>{d.onUpdate(e),d.onComplete()}))}return new un(d)};function gn({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function yn(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...c}=t;r&&(i=r);const u=[],f=o&&e.animationState&&e.animationState.getState()[o];for(const t in c){const r=e.getValue(t,e.latestValues[t]??null),o=c[t];if(void 0===o||f&&gn(f,t))continue;const a={delay:n,...l(i||{},t)},s=r.get();if(void 0!==s&&!r.isAnimating&&!Array.isArray(o)&&o===s&&!a.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){const n=D(e);if(n){const e=window.MotionHandoffAnimation(n,t,p);null!==e&&(a.startTime=e,d=!0)}}L(e,t),r.start(mn(t,r,o,e.shouldReduceMotion&&w.has(t)?{type:!1}:a,e,d));const h=r.animation;h&&u.push(h)}return a&&Promise.all(u).then((()=>{p.update((()=>{a&&function(e,t){const n=s(e,t);let{transitionEnd:r={},transition:o={},...i}=n||{};i={...i,...r};for(const t in i)I(e,t,(a=i[t],O(a)?a[a.length-1]||0:a));var a}(e,a)}))})),u}function vn(e,t,n={}){const r=s(e,t,"exit"===n.type?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(yn(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:i=0,staggerChildren:a,staggerDirection:s}=o;return function(e,t,n=0,r=0,o=1,i){const a=[],s=(e.variantChildren.size-1)*r,l=1===o?(e=0)=>e*r:(e=0)=>s-e*r;return Array.from(e.variantChildren).sort(bn).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(vn(e,t,{...i,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,i+r,a,s,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[e,t]="beforeChildren"===l?[i,a]:[a,i];return e().then((()=>t()))}return Promise.all([i(),a(n.delay)])}function bn(e,t){return e.sortNodePosition(t)}function wn(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function xn(e){return"string"==typeof e||Array.isArray(e)}const En=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sn=["initial",...En],kn=Sn.length;function Cn(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Cn(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<kn;n++){const r=Sn[n],o=e.props[r];(xn(o)||!1===o)&&(t[r]=o)}return t}const Pn=[...En].reverse(),An=En.length;function Tn(e){let t=function(e){return t=>Promise.all(t.map((({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map((t=>vn(e,t,n)));r=Promise.all(o)}else if("string"==typeof t)r=vn(e,t,n);else{const o="function"==typeof t?s(e,t,n.custom):t;r=Promise.all(yn(e,o,n))}return r.then((()=>{e.notify("AnimationComplete",t)}))}(e,t,n))))}(e),n=Nn(),r=!0;const i=t=>(n,r)=>{const o=s(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(o){const{transition:e,transitionEnd:t,...r}=o;n={...n,...r,...t}}return n};function a(a){const{props:l}=e,c=Cn(e.parent)||{},u=[],f=new Set;let d={},h=1/0;for(let t=0;t<An;t++){const s=Pn[t],g=n[s],y=void 0!==l[s]?l[s]:c[s],v=xn(y),b=s===a?g.isActive:null;!1===b&&(h=t);let w=y===c[s]&&y!==l[s]&&v;if(w&&r&&e.manuallyAnimateOnMount&&(w=!1),g.protectedKeys={...d},!g.isActive&&null===b||!y&&!g.prevProp||o(y)||"boolean"==typeof y)continue;const x=(p=g.prevProp,"string"==typeof(m=y)?m!==p:!!Array.isArray(m)&&!wn(m,p));let E=x||s===a&&g.isActive&&!w&&v||t>h&&v,S=!1;const k=Array.isArray(y)?y:[y];let C=k.reduce(i(s),{});!1===b&&(C={});const{prevResolvedValues:P={}}=g,A={...P,...C},T=t=>{E=!0,f.has(t)&&(S=!0,f.delete(t)),g.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in A){const t=C[e],n=P[e];if(d.hasOwnProperty(e))continue;let r=!1;r=O(t)&&O(n)?!wn(t,n):t!==n,r?null!=t?T(e):f.add(e):void 0!==t&&f.has(e)?T(e):g.protectedKeys[e]=!0}g.prevProp=y,g.prevResolvedValues=C,g.isActive&&(d={...d,...C}),r&&e.blockInitialAnimation&&(E=!1),E&&(!w||!x||S)&&u.push(...k.map((e=>({animation:e,options:{type:s}}))))}var p,m;if(f.size){const t={};if("boolean"!=typeof l.initial){const n=s(e,Array.isArray(l.initial)?l.initial[0]:l.initial);n&&n.transition&&(t.transition=n.transition)}f.forEach((n=>{const r=e.getBaseTarget(n),o=e.getValue(n);o&&(o.liveStyle=!0),t[n]=r??null})),u.push({animation:t})}let g=Boolean(u.length);return!r||!1!==l.initial&&l.initial!==l.animate||e.manuallyAnimateOnMount||(g=!1),r=!1,g?t(u):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach((e=>e.animationState?.setActive(t,r))),n[t].isActive=r;const o=a(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Nn(),r=!0}}}function _n(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nn(){return{animate:_n(!0),whileInView:_n(),whileHover:_n(),whileTap:_n(),whileDrag:_n(),whileFocus:_n(),exit:_n()}}class On{constructor(e){this.isMounted=!1,this.node=e}update(){}}let In=0;const Rn={animation:{Feature:class extends On{constructor(e){super(e),e.animationState||(e.animationState=Tn(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();o(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends On{constructor(){super(...arguments),this.id=In++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},Ln={x:!1,y:!1};function Mn(){return Ln.x||Ln.y}function jn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Dn=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function Un(e){return{point:{x:e.pageX,y:e.pageY}}}function Fn(e,t,n,r){return jn(e,t,(e=>t=>Dn(t)&&e(t,Un(t)))(n),r)}function Bn({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function zn(e){return e.max-e.min}function Vn(e,t,n,r=.5){e.origin=r,e.originPoint=Pe(t.min,t.max,e.origin),e.scale=zn(n)/zn(t),e.translate=Pe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Hn(e,t,n,r){Vn(e.x,t.x,n.x,r?r.originX:void 0),Vn(e.y,t.y,n.y,r?r.originY:void 0)}function qn(e,t,n){e.min=n.min+t.min,e.max=e.min+zn(t)}function Wn(e,t,n){e.min=t.min-n.min,e.max=e.min+zn(t)}function Gn(e,t,n){Wn(e.x,t.x,n.x),Wn(e.y,t.y,n.y)}const Yn=()=>({x:{min:0,max:0},y:{min:0,max:0}});function $n(e){return[e("x"),e("y")]}function Kn(e){return void 0===e||1===e}function Zn({scale:e,scaleX:t,scaleY:n}){return!Kn(e)||!Kn(t)||!Kn(n)}function Jn(e){return Zn(e)||Qn(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Qn(e){return Xn(e.x)||Xn(e.y)}function Xn(e){return e&&"0%"!==e}function er(e,t,n){return n+t*(e-n)}function tr(e,t,n,r,o){return void 0!==o&&(e=er(e,o,r)),er(e,n,r)+t}function nr(e,t=0,n=1,r,o){e.min=tr(e.min,t,n,r,o),e.max=tr(e.max,t,n,r,o)}function rr(e,{x:t,y:n}){nr(e.x,t.translate,t.scale,t.originPoint),nr(e.y,n.translate,n.scale,n.originPoint)}const or=.999999999999,ir=1.0000000000001;function ar(e,t){e.min=e.min+t,e.max=e.max+t}function sr(e,t,n,r,o=.5){nr(e,t,n,Pe(e.min,e.max,o),r)}function lr(e,t){sr(e.x,t.x,t.scaleX,t.scale,t.originX),sr(e.y,t.y,t.scaleY,t.scale,t.originY)}function cr(e,t){return Bn(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const ur=({current:e})=>e?e.ownerDocument.defaultView:null;function fr(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const dr=(e,t)=>Math.abs(e-t);class hr{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=gr(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=dr(e.x,t.x),r=dr(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:o}=g;this.history.push({...r,timestamp:o});const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=pr(t,this.transformPagePoint),p.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=gr("pointercancel"===e.type?this.lastMoveEventInfo:pr(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!Dn(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const i=pr(Un(e),this.transformPagePoint),{point:a}=i,{timestamp:s}=g;this.history=[{...a,timestamp:s}];const{onSessionStart:l}=t;l&&l(e,gr(i,this.history)),this.removeListeners=F(Fn(this.contextWindow,"pointermove",this.handlePointerMove),Fn(this.contextWindow,"pointerup",this.handlePointerUp),Fn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),m(this.updatePoint)}}function pr(e,t){return t?{point:t(e.point)}:e}function mr(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gr({point:e},t){return{point:e,delta:mr(e,vr(t)),offset:mr(e,yr(t)),velocity:br(t,.1)}}function yr(e){return e[0]}function vr(e){return e[e.length-1]}function br(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=vr(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>z(t)));)n--;if(!r)return{x:0,y:0};const i=V(o.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const a={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function wr(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function xr(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Er=.35;function Sr(e,t,n){return{min:kr(e,t),max:kr(e,n)}}function kr(e,t){return"number"==typeof e?e:e[t]||0}const Cr=new WeakMap;class Pr{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new hr(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Un(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:o}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?Ln[i]?null:(Ln[i]=!0,()=>{Ln[i]=!1}):Ln.x||Ln.y?null:(Ln.x=Ln.y=!0,()=>{Ln.x=Ln.y=!1}),!this.openDragLock))return;var i;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$n((e=>{let t=this.getAxisMotionValue(e).get()||0;if(le.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];r&&(t=zn(r)*(parseFloat(t)/100))}}this.originPoint[e]=t})),o&&p.postRender((()=>o(e,t))),L(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(a),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>$n((e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:ur(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&p.postRender((()=>o(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Ar(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?Pe(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?Pe(n,e,r.max):Math.min(e,n)),e}(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&fr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,{top:t,left:n,bottom:r,right:o}){return{x:wr(e.x,n,o),y:wr(e.y,t,r)}}(n.layoutBox,e),this.elastic=function(e=Er){return!1===e?e=0:!0===e&&(e=Er),{x:Sr(e,"left","right"),y:Sr(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&$n((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!fr(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(e,t,n){const r=cr(e,n),{scroll:o}=t;return o&&(ar(r.x,o.offset.x),ar(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:xr(e.x,t.x),y:xr(e.y,t.y)}}(r.layout.layoutBox,o);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=Bn(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=$n((a=>{if(!Ar(a,t,this.currentDirection))return;let l=s&&s[a]||{};i&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,f={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...o,...l};return this.startAxisValueAnimation(a,f)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return L(this.visualElement,e),n.start(mn(e,n,0,t,this.visualElement,!1))}stopAnimation(){$n((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){$n((e=>this.getAxisMotionValue(e).animation?.pause()))}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){$n((t=>{const{drag:n}=this.getProps();if(!Ar(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];o.set(e[t]-Pe(n,i,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!fr(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};$n((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=zn(e),o=zn(t);return o>r?n=yt(t.min,t.max-r,e.min):r>o&&(n=yt(e.min,e.max-o,t.min)),B(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),$n((t=>{if(!Ar(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:i}=this.constraints[t];n.set(Pe(o,i,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Cr.set(this.visualElement,this);const e=Fn(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();fr(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),p.read(t);const o=jn(window,"resize",(()=>this.scalePositionWithinConstraints())),i=n.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&($n((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{o(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:i=Er,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:i,dragMomentum:a}}}function Ar(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const Tr=e=>(t,n)=>{e&&p.postRender((()=>e(t,n)))};var _r=n(4848);const{schedule:Nr,cancel:Or}=h(queueMicrotask,!1);var Ir=n(6540),Rr=n(905),Lr=n(9642);const Mr=(0,Ir.createContext)({}),jr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Dr(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ur={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!ce.test(e))return e;e=parseFloat(e)}return`${Dr(e,t.target.x)}% ${Dr(e,t.target.y)}%`}},Fr={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Se.parse(e);if(o.length>5)return r;const i=Se.createTransformer(e),a="number"!=typeof o[0]?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;o[0+a]/=s,o[1+a]/=l;const c=Pe(s,l,.5);return"number"==typeof o[2+a]&&(o[2+a]/=c),"number"==typeof o[3+a]&&(o[3+a]/=c),i(o)}},Br={};class zr extends Ir.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;!function(e){for(const t in e)Br[t]=e[t],W(t)&&(Br[t].isCSSVariable=!0)}(Hr),o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",(()=>{this.safeToRemove()})),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),jr.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,{projection:i}=n;return i?(i.isPresent=o,r||e.layoutDependency!==t||void 0===t||e.isPresent!==o?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||p.postRender((()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Nr.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Vr(e){const[t,n]=(0,Rr.xQ)(),r=(0,Ir.useContext)(Lr.L);return(0,_r.jsx)(zr,{...e,layoutGroup:r,switchLayoutGroup:(0,Ir.useContext)(Mr),isPresent:t,safeToRemove:n})}const Hr={borderRadius:{...Ur,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ur,borderTopRightRadius:Ur,borderBottomLeftRadius:Ur,borderBottomRightRadius:Ur,boxShadow:Fr},qr=(e,t)=>e.depth-t.depth;class Wr{constructor(){this.children=[],this.isDirty=!1}add(e){x(this.children,e),this.isDirty=!0}remove(e){E(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qr),this.isDirty=!1,this.children.forEach(e)}}function Gr(e){return R(e)?e.get():e}const Yr=["TopLeft","TopRight","BottomLeft","BottomRight"],$r=Yr.length,Kr=e=>"string"==typeof e?parseFloat(e):e,Zr=e=>"number"==typeof e||ce.test(e);function Jr(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Qr=eo(0,.5,dt),Xr=eo(.5,.95,c);function eo(e,t,n){return r=>r<e?0:r>t?1:n(yt(e,t,r))}function to(e,t){e.min=t.min,e.max=t.max}function no(e,t){to(e.x,t.x),to(e.y,t.y)}function ro(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function oo(e,t,n,r,o){return e=er(e-=t,1/n,r),void 0!==o&&(e=er(e,1/o,r)),e}function io(e,t,[n,r,o],i,a){!function(e,t=0,n=1,r=.5,o,i=e,a=e){if(le.test(t)&&(t=parseFloat(t),t=Pe(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let s=Pe(i.min,i.max,r);e===i&&(s-=t),e.min=oo(e.min,t,n,s,o),e.max=oo(e.max,t,n,s,o)}(e,t[n],t[r],t[o],t.scale,i,a)}const ao=["x","scaleX","originX"],so=["y","scaleY","originY"];function lo(e,t,n,r){io(e.x,t,ao,n?n.x:void 0,r?r.x:void 0),io(e.y,t,so,n?n.y:void 0,r?r.y:void 0)}function co(e){return 0===e.translate&&1===e.scale}function uo(e){return co(e.x)&&co(e.y)}function fo(e,t){return e.min===t.min&&e.max===t.max}function ho(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function po(e,t){return ho(e.x,t.x)&&ho(e.y,t.y)}function mo(e){return zn(e.x)/zn(e.y)}function go(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class yo{constructor(){this.members=[]}add(e){x(this.members,e),e.scheduleRender()}remove(e){if(E(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let e=t;e>=0;e--){const t=this.members[e];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const vo={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},bo=["","X","Y","Z"],wo={visibility:"hidden"};let xo=0;function Eo(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function So(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=D(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",p,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&So(r)}function ko({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(e={},n=t?.()){this.id=xo++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,d.value&&(vo.nodes=vo.calculatedTargetDeltas=vo.calculatedProjections=0),this.nodes.forEach(Ao),this.nodes.forEach(Lo),this.nodes.forEach(Mo),this.nodes.forEach(To),d.addProjectionMetrics&&d.addProjectionMetrics(vo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new Wr)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new S),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;var n;this.isSVG=(n=t)instanceof SVGElement&&"svg"!==n.tagName,this.instance=t;const{layoutId:r,layout:o,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||r)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=A.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(m(r),e(i-t))};return p.setup(r,!0),()=>m(r)}(r,250),jr.hasAnimatedSinceResize&&(jr.hasAnimatedSinceResize=!1,this.nodes.forEach(Ro))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||o)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||i.getDefaultTransition()||zo,{onLayoutAnimationStart:a,onLayoutAnimationComplete:s}=i.getProps(),c=!this.targetLayout||!po(this.targetLayout,r),u=!t&&n;if(this.options.layoutRoot||this.resumeFrom||u||t&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);const t={...l(o,"layout"),onPlay:a,onComplete:s};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||Ro(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),m(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jo),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&So(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){const t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(No);this.isUpdating||this.nodes.forEach(Oo),this.isUpdating=!1,this.nodes.forEach(Io),this.nodes.forEach(Co),this.nodes.forEach(Po),this.clearAllSnapshots();const e=A.now();g.delta=B(0,1e3/60,e-g.timestamp),g.timestamp=e,g.isProcessing=!0,y.update.process(g),y.preRender.process(g),y.render.process(g),g.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Nr.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_o),this.sharedNodes.forEach(Do)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,p.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){p.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||zn(this.snapshot.measuredBox.x)||zn(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!uo(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Jn(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),qo((r=n).x),qo(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!this.scroll?.wasRoot&&!this.path.some(Go)){const{scroll:e}=this.root;e&&(ar(t.x,e.offset.x),ar(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(no(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:o,options:i}=r;r!==this.root&&o&&i.layoutScroll&&(o.wasRoot&&no(t,e),ar(t.x,o.offset.x),ar(t.y,o.offset.y))}return t}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};no(n,e);for(let e=0;e<this.path.length;e++){const r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&lr(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),Jn(r.latestValues)&&lr(n,r.latestValues)}return Jn(this.latestValues)&&lr(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};no(t,e);for(let e=0;e<this.path.length;e++){const n=this.path[e];if(!n.instance)continue;if(!Jn(n.latestValues))continue;Zn(n.latestValues)&&n.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};no(r,n.measurePageBox()),lo(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return Jn(this.latestValues)&&lo(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==g.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:o}=this.options;if(this.layout&&(r||o)){if(this.resolvedRelativeTargetAt=g.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Gn(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),no(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,a,s;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,a=this.relativeTarget,s=this.relativeParent.target,qn(i.x,a.x,s.x),qn(i.y,a.y,s.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):no(this.target,this.layout.layoutBox),rr(this.target,this.targetDelta)):no(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Gn(this.relativeTargetOrigin,this.target,e.target),no(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}d.value&&vo.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Zn(this.parent.latestValues)&&!Qn(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===g.timestamp&&(n=!1),n)return;const{layout:r,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!o)return;no(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,a=this.treeScale.y;!function(e,t,n,r=!1){const o=n.length;if(!o)return;let i,a;t.x=t.y=1;for(let s=0;s<o;s++){i=n[s],a=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&"contents"===o.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&lr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,rr(e,a)),r&&Jn(i.latestValues)&&lr(e,i.latestValues))}t.x<ir&&t.x>or&&(t.x=1),t.y<ir&&t.y>or&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:s}=e;s?(this.projectionDelta&&this.prevProjectionDelta?(ro(this.prevProjectionDelta.x,this.projectionDelta.x),ro(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Hn(this.projectionDelta,this.layoutCorrected,s,this.latestValues),this.treeScale.x===i&&this.treeScale.y===a&&go(this.projectionDelta.x,this.prevProjectionDelta.x)&&go(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",s)),d.value&&vo.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},o={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(Bo));let f;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,d,h,p,m,g;Uo(i.x,e.x,n),Uo(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gn(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h=this.relativeTarget,p=this.relativeTargetOrigin,m=a,g=n,Fo(h.x,p.x,m.x,g),Fo(h.y,p.y,m.y,g),f&&(l=this.relativeTarget,d=f,fo(l.x,d.x)&&fo(l.y,d.y))&&(this.isProjectionDirty=!1),f||(f={x:{min:0,max:0},y:{min:0,max:0}}),no(f,this.relativeTarget)),s&&(this.animationValues=o,function(e,t,n,r,o,i){o?(e.opacity=Pe(0,n.opacity??1,Qr(r)),e.opacityExit=Pe(t.opacity??1,0,Xr(r))):i&&(e.opacity=Pe(t.opacity??1,n.opacity??1,r));for(let o=0;o<$r;o++){const i=`border${Yr[o]}Radius`;let a=Jr(t,i),s=Jr(n,i);void 0===a&&void 0===s||(a||(a=0),s||(s=0),0===a||0===s||Zr(a)===Zr(s)?(e[i]=Math.max(Pe(Kr(a),Kr(s),r),0),(le.test(s)||le.test(a))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=Pe(t.rotate||0,n.rotate||0,r))}(o,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(m(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=p.update((()=>{jr.hasAnimatedSinceResize=!0,H.layout++,this.currentAnimation=function(e,t,n){const r=R(0)?0:N(0);return r.start(mn("",r,1e3,n)),r.animation}(0,0,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{H.layout--},onComplete:()=>{H.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:o}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Wo(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=zn(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=zn(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}no(t,n),lr(t,o),Hn(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new yo),this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Eo("z",e,r,this.animationValues);for(let t=0;t<bo.length;t++)Eo(`rotate${bo[t]}`,e,r,this.animationValues),Eo(`skew${bo[t]}`,e,r,this.animationValues);e.render();for(const t in r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return wo;const t={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=Gr(e?.pointerEvents)||"",t.transform=n?n(this.latestValues,""):"none",t;const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Gr(e?.pointerEvents)||""),this.hasProjected&&!Jn(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}const o=r.animationValues||r.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y,a=n?.z||0;if((o||i||a)&&(r=`translate3d(${o}px, ${i}px, ${a}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:o,rotateY:i,skewX:a,skewY:s}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),o&&(r+=`rotateX(${o}deg) `),i&&(r+=`rotateY(${i}deg) `),a&&(r+=`skewX(${a}deg) `),s&&(r+=`skewY(${s}deg) `)}const s=e.x.scale*t.x,l=e.y.scale*t.y;return 1===s&&1===l||(r+=`scale(${s}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o),n&&(t.transform=n(o,t.transform));const{x:i,y:a}=this.projectionDelta;t.transformOrigin=`${100*i.origin}% ${100*a.origin}% 0`,r.animationValues?t.opacity=r===this?o.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:t.opacity=r===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const e in Br){if(void 0===o[e])continue;const{correct:n,applyTo:i,isCSSVariable:a}=Br[e],s="none"===t.transform?o[e]:n(o[e],r);if(i){const e=i.length;for(let n=0;n<e;n++)t[i[n]]=s}else a?this.options.visualElement.renderState.vars[e]=s:t[e]=s}return this.options.layoutId&&(t.pointerEvents=r===this?Gr(e?.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>e.currentAnimation?.stop())),this.root.nodes.forEach(No),this.root.sharedNodes.clear()}}}function Co(e){e.updateLayout()}function Po(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:o}=e.options,i=t.source!==e.layout.source;"size"===o?$n((e=>{const r=i?t.measuredBox[e]:t.layoutBox[e],o=zn(r);r.min=n[e].min,r.max=r.min+o})):Wo(o,t.layoutBox,n)&&$n((r=>{const o=i?t.measuredBox[r]:t.layoutBox[r],a=zn(n[r]);o.max=o.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Hn(a,n,t.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?Hn(s,e.applyTransform(r,!0),t.measuredBox):Hn(s,n,t.layoutBox);const l=!uo(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:o,layout:i}=r;if(o&&i){const a={x:{min:0,max:0},y:{min:0,max:0}};Gn(a,t.layoutBox,o.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};Gn(s,n,i.layoutBox),po(a,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Ao(e){d.value&&vo.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function To(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _o(e){e.clearSnapshot()}function No(e){e.clearMeasurements()}function Oo(e){e.isLayoutDirty=!1}function Io(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ro(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Lo(e){e.resolveTargetDelta()}function Mo(e){e.calcProjection()}function jo(e){e.resetSkewAndRotation()}function Do(e){e.removeLeadSnapshot()}function Uo(e,t,n){e.translate=Pe(t.translate,0,n),e.scale=Pe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Fo(e,t,n,r){e.min=Pe(t.min,n.min,r),e.max=Pe(t.max,n.max,r)}function Bo(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const zo={duration:.45,ease:[.4,0,.1,1]},Vo=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ho=Vo("applewebkit/")&&!Vo("chrome/")?Math.round:c;function qo(e){e.min=Ho(e.min),e.max=Ho(e.max)}function Wo(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=mo(t),o=mo(n),!(Math.abs(r-o)<=.2));var r,o}function Go(e){return e!==e.root&&e.scroll?.wasRoot}const Yo=ko({attachResizeListener:(e,t)=>jn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$o={current:void 0},Ko=ko({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!$o.current){const e=new Yo({});e.mount(window),e.setOptions({layoutScroll:!0}),$o.current=e}return $o.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Zo={pan:{Feature:class extends On{constructor(){super(...arguments),this.removePointerDownListener=c}onPointerDown(e){this.session=new hr(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ur(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Tr(e),onStart:Tr(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&p.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Fn(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends On{constructor(e){super(e),this.removeGroupControls=c,this.removeListeners=c,this.controls=new Pr(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||c}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Ko,MeasureLayout:Vr}};function Jo(e,t){const n=function(e){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document;const n=t.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Qo(e){return!("touch"===e.pointerType||Mn())}function Xo(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const o=r["onHover"+n];o&&p.postRender((()=>o(t,Un(t))))}const ei=(e,t)=>!!t&&(e===t||ei(e,t.parentElement)),ti=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),ni=new WeakSet;function ri(e){return t=>{"Enter"===t.key&&e(t)}}function oi(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function ii(e){return Dn(e)&&!Mn()}function ai(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const o=r["onTap"+("End"===n?"":n)];o&&p.postRender((()=>o(t,Un(t))))}const si=new WeakMap,li=new WeakMap,ci=e=>{const t=si.get(e.target);t&&t(e)},ui=e=>{e.forEach(ci)};const fi={some:0,all:1},di={inView:{Feature:class extends On{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:fi[r]};return function(e,t,n){const r=function({root:e,...t}){const n=e||document;li.has(n)||li.set(n,{});const r=li.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(ui,{root:e,...t})),r[o]}(t);return si.set(e,n),r.observe(e),()=>{si.delete(e),r.unobserve(e)}}(this.node.current,i,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends On{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,o,i]=Jo(e,n),a=e=>{const r=e.currentTarget;if(!ii(e)||ni.has(r))return;ni.add(r);const i=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",l),ni.has(r)&&ni.delete(r),ii(e)&&"function"==typeof i&&i(e,{success:t})},s=e=>{a(e,r===window||r===document||n.useGlobalTarget||ei(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",s,o),window.addEventListener("pointercancel",l,o)};return r.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,o),e instanceof HTMLElement&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=ri((()=>{if(ni.has(n))return;oi(n,"down");const e=ri((()=>{oi(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>oi(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,o))),t=e,ti.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),i}(e,((e,t)=>(ai(this.node,t,"Start"),(e,{success:t})=>ai(this.node,e,t?"End":"Cancel"))),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends On{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=F(jn(this.node.current,"focus",(()=>this.onFocus())),jn(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends On{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,o,i]=Jo(e,n),a=e=>{if(!Qo(e))return;const{target:n}=e,r=t(n,e);if("function"!=typeof r||!n)return;const i=e=>{Qo(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,o)};return r.forEach((e=>{e.addEventListener("pointerenter",a,o)})),i}(e,((e,t)=>(Xo(this.node,t,"Start"),e=>Xo(this.node,e,"End")))))}unmount(){}}}},hi={layout:{ProjectionNode:Ko,MeasureLayout:Vr}},pi=(0,Ir.createContext)({strict:!1});var mi=n(7167);const gi=(0,Ir.createContext)({});function yi(e){return o(e.animate)||Sn.some((t=>xn(e[t])))}function vi(e){return Boolean(yi(e)||e.variants)}function bi(e){return Array.isArray(e)?e.join(" "):e}var wi=n(843);const xi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ei={};for(const e in xi)Ei[e]={isEnabled:t=>xi[e].some((e=>!!t[e]))};const Si=Symbol.for("motionComponentSymbol");function ki(e,t,n){return(0,Ir.useCallback)((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):fr(n)&&(n.current=r))}),[t])}var Ci=n(7766),Pi=n(6521);function Ai(e,t,n,r,o){const{visualElement:i}=(0,Ir.useContext)(gi),a=(0,Ir.useContext)(pi),s=(0,Ir.useContext)(Ci.t),l=(0,Ir.useContext)(mi.Q).reducedMotion,c=(0,Ir.useRef)(null);r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:l}));const u=c.current,f=(0,Ir.useContext)(Mr);!u||u.projection||!o||"html"!==u.type&&"svg"!==u.type||function(e,t,n,r){const{layoutId:o,layout:i,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Ti(e.parent)),e.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:Boolean(a)||s&&fr(s),visualElement:e,animationType:"string"==typeof i?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(c.current,n,o,f);const d=(0,Ir.useRef)(!1);(0,Ir.useInsertionEffect)((()=>{u&&d.current&&u.update(n,s)}));const h=n[j],p=(0,Ir.useRef)(Boolean(h)&&!window.MotionHandoffIsComplete?.(h)&&window.MotionHasOptimisedAnimation?.(h));return(0,Pi.E)((()=>{u&&(d.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Nr.render(u.render),p.current&&u.animationState&&u.animationState.animateChanges())})),(0,Ir.useEffect)((()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask((()=>{window.MotionHandoffMarkAsComplete?.(h)})),p.current=!1))})),u}function Ti(e){if(e)return!1!==e.options.allowProjection?e.projection:Ti(e.parent)}function _i({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){function i(e,i){let a;const s={...(0,Ir.useContext)(mi.Q),...e,layoutId:Ni(e)},{isStatic:l}=s,c=function(e){const{initial:t,animate:n}=function(e,t){if(yi(e)){const{initial:t,animate:n}=e;return{initial:!1===t||xn(t)?t:void 0,animate:xn(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,Ir.useContext)(gi));return(0,Ir.useMemo)((()=>({initial:t,animate:n})),[bi(t),bi(n)])}(e),u=r(e,l);if(!l&&wi.B){(0,Ir.useContext)(pi).strict;const e=function(e){const{drag:t,layout:n}=Ei;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(s);a=e.MeasureLayout,c.visualElement=Ai(o,u,s,t,e.ProjectionNode)}return(0,_r.jsxs)(gi.Provider,{value:c,children:[a&&c.visualElement?(0,_r.jsx)(a,{visualElement:c.visualElement,...s}):null,n(o,e,ki(u,c.visualElement,i),u,l,c.visualElement)]})}e&&function(e){for(const t in e)Ei[t]={...Ei[t],...e[t]}}(e),i.displayName=`motion.${"string"==typeof o?o:`create(${o.displayName??o.name??""})`}`;const a=(0,Ir.forwardRef)(i);return a[Si]=o,a}function Ni({layoutId:e}){const t=(0,Ir.useContext)(Lr.L).id;return t&&void 0!==e?t+"-"+e:e}function Oi(e,{layout:t,layoutId:n}){return b.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!Br[e]||"opacity"===e)}const Ii=(e,t)=>t&&"number"==typeof e?t.transform(e):e,Ri={...K,transform:Math.round},Li={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce,rotate:se,rotateX:se,rotateY:se,rotateZ:se,scale:J,scaleX:J,scaleY:J,scaleZ:J,skew:se,skewX:se,skewY:se,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:Z,originX:de,originY:de,originZ:ce,zIndex:Ri,fillOpacity:Z,strokeOpacity:Z,numOctaves:Ri},Mi={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ji=v.length;function Di(e,t,n){const{style:r,vars:o,transformOrigin:i}=e;let a=!1,s=!1;for(const e in t){const n=t[e];if(b.has(e))a=!0;else if(W(e))o[e]=n;else{const t=Ii(n,Li[e]);e.startsWith("origin")?(s=!0,i[e]=t):r[e]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",o=!0;for(let i=0;i<ji;i++){const a=v[i],s=e[a];if(void 0===s)continue;let l=!0;if(l="number"==typeof s?s===(a.startsWith("scale")?1:0):0===parseFloat(s),!l||n){const e=Ii(s,Li[a]);l||(o=!1,r+=`${Mi[a]||a}(${e}) `),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin=`${e} ${t} ${n}`}}function Ui(e,t,n){for(const r in t)R(t[r])||Oi(r,n)||(e[r]=t[r])}function Fi(e,t){const n={},r=function(e,t){const n={};return Ui(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return(0,Ir.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return Di(n,t,e),Object.assign({},n.vars,n.style)}),[t])}(e,t)),n}(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Bi=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zi(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Bi.has(e)}let Vi=e=>!zi(e);try{(Hi=n(9316).A)&&(Vi=e=>e.startsWith("on")?!zi(e):Hi(e))}catch{}var Hi;const qi=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wi(e){return"string"==typeof e&&!e.includes("-")&&!!(qi.indexOf(e)>-1||/[A-Z]/u.test(e))}const Gi={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yi={offset:"strokeDashoffset",array:"strokeDasharray"};function $i(e,{attrX:t,attrY:n,attrScale:r,pathLength:o,pathSpacing:i=1,pathOffset:a=0,...s},l,c,u){if(Di(e,s,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:d}=e;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=u?.transformBox??"fill-box",delete f.transformBox),void 0!==t&&(f.x=t),void 0!==n&&(f.y=n),void 0!==r&&(f.scale=r),void 0!==o&&function(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?Gi:Yi;e[i.offset]=ce.transform(-r);const a=ce.transform(t),s=ce.transform(n);e[i.array]=`${a} ${s}`}(f,o,i,a,!1)}const Ki=e=>"string"==typeof e&&"svg"===e.toLowerCase();function Zi(e,t,n,r){const o=(0,Ir.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return $i(n,t,Ki(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};Ui(t,e.style,e),o.style={...t,...o.style}}return o}function Ji(e=!1){return(t,n,r,{latestValues:o},i)=>{const a=(Wi(t)?Zi:Fi)(n,o,i,t),s=function(e,t,n){const r={};for(const o in e)"values"===o&&"object"==typeof e.values||(Vi(o)||!0===n&&zi(o)||!t&&!zi(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(n,"string"==typeof t,e),l=t!==Ir.Fragment?{...s,...a,ref:r}:{},{children:c}=n,u=(0,Ir.useMemo)((()=>R(c)?c.get():c),[c]);return(0,Ir.createElement)(t,{...l,children:u})}}var Qi=n(5422);const Xi=e=>(t,n)=>{const r=(0,Ir.useContext)(gi),o=(0,Ir.useContext)(Ci.t),i=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,o){return{latestValues:ea(n,r,o,e),renderState:t()}}(e,t,r,o);return n?i():(0,Qi.M)(i)};function ea(e,t,n,r){const i={},s=r(e,{});for(const e in s)i[e]=Gr(s[e]);let{initial:l,animate:c}=e;const u=yi(e),f=vi(e);t&&f&&!u&&!1!==e.inherit&&(void 0===l&&(l=t.initial),void 0===c&&(c=t.animate));let d=!!n&&!1===n.initial;d=d||!1===l;const h=d?c:l;if(h&&"boolean"!=typeof h&&!o(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=a(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const e in n){let t=n[e];Array.isArray(t)&&(t=t[d?t.length-1:0]),null!==t&&(i[e]=t)}for(const t in e)i[t]=e[t]}}}return i}function ta(e,t,n){const{style:r}=e,o={};for(const i in r)(R(r[i])||t.style&&R(t.style[i])||Oi(i,e)||void 0!==n?.getValue(i)?.liveStyle)&&(o[i]=r[i]);return o}const na={useVisualState:Xi({scrapeMotionValuesFromProps:ta,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{}})})};function ra(e,t,n){const r=ta(e,t,n);for(const n in e)(R(e[n])||R(t[n]))&&(r[-1!==v.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=e[n]);return r}const oa={useVisualState:Xi({scrapeMotionValuesFromProps:ra,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}})})};function ia(e,t){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){return _i({...Wi(n)?oa:na,preloadedFeatures:e,useRender:Ji(r),createVisualElement:t,Component:n})}}const aa=e=>t=>t.test(e),sa=[K,ce,le,se,fe,ue,{test:e=>"auto"===e,parse:e=>e}],la=e=>sa.find(aa(e)),ca=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),ua=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fa(e,t,n=1){const[r,o]=function(e){const t=ua.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return ca(e)?parseFloat(e):e}return Y(o)?fa(o,t,n+1):o}const da=e=>/^0[^.\s]+$/u.test(e),ha=new Set(["brightness","contrast","saturate","opacity"]);function pa(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(X)||[];if(!r)return e;const o=n.replace(r,"");let i=ha.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const ma=/\b([a-z-]*)\(.*?\)/gu,ga={...Se,getAnimatableNone:e=>{const t=e.match(ma);return t?t.map(pa).join(" "):e}},ya={...Li,color:pe,backgroundColor:pe,outlineColor:pe,fill:pe,stroke:pe,borderColor:pe,borderTopColor:pe,borderRightColor:pe,borderBottomColor:pe,borderLeftColor:pe,filter:ga,WebkitFilter:ga},va=e=>ya[e];function ba(e,t){let n=va(e);return n!==ga&&(n=Se),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const wa=new Set(["auto","none","0"]);class xa extends Gt{constructor(e,t,n,r,o){super(e,t,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let r=e[n];if("string"==typeof r&&(r=r.trim(),Y(r))){const o=fa(r,t.current);void 0!==o&&(e[n]=o),n===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!w.has(n)||2!==e.length)return;const[r,o]=e,i=la(r),a=la(o);if(i!==a)if(jt(i)&&jt(a))for(let t=0;t<e.length;t++){const n=e[t];"string"==typeof n&&(e[t]=parseFloat(n))}else Ft[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++)(null===e[t]||("number"==typeof(r=e[t])?0===r:null===r||"none"===r||"0"===r||da(r)))&&n.push(t);var r;n.length&&function(e,t,n){let r,o=0;for(;o<e.length&&!r;){const t=e[o];"string"==typeof t&&!wa.has(t)&&be(t).values.length&&(r=e[o]),o++}if(r&&n)for(const o of t)e[o]=ba(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ft[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const o=n.length-1,i=n[o];n[o]=Ft[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),this.removedTransforms?.length&&this.removedTransforms.forEach((([t,n])=>{e.getValue(t).set(n)})),this.resolveNoneKeyframes()}}const Ea=[...sa,pe,Se],Sa={current:null},ka={current:!1},Ca=new WeakMap,Pa=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Aa{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:o,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gt,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=A.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,p.render(this.render,!1,!0))};const{latestValues:s,renderState:l}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=t.initial?{...s}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=yi(t),this.isVariantNode=vi(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in u){const t=u[e];void 0!==s[e]&&R(t)&&t.set(s[e],!1)}}mount(e){this.current=e,Ca.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),ka.current||function(){if(ka.current=!0,wi.B)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sa.current=e.matches;e.addListener(t),t()}else Sa.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Sa.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),m(this.notifyUpdate),m(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=b.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&p.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),o=t.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),o(),i&&i(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Ei){const t=Ei[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<Pa.length;t++){const n=Pa[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const r=e["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const o=t[r],i=n[r];if(R(o))e.addValue(r,o);else if(R(i))e.addValue(r,N(o,{owner:e}));else if(i!==o)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(o):t.hasAnimated||t.set(o)}else{const t=e.getStaticValue(r);e.addValue(r,N(void 0!==t?t:o,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=N(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return null!=n&&("string"==typeof n&&(ca(n)||da(n))?n=parseFloat(n):(r=n,!Ea.find(aa(r))&&Se.test(t)&&(n=ba(e,t))),this.setBaseTarget(e,R(n)?n.get():n)),R(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"==typeof t||"object"==typeof t){const r=a(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||R(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new S),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Ta extends Aa{constructor(){super(...arguments),this.KeyframeResolver=xa}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;R(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}function _a(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const t in n)e.style.setProperty(t,n[t])}class Na extends Ta{constructor(){super(...arguments),this.type="html",this.renderInstance=_a}readValueFromInstance(e,t){if(b.has(t))return((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Lt(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),o=(W(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof o?o.trim():o}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return cr(e,t)}build(e,t,n){Di(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return ta(e,t,n)}}const Oa=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class Ia extends Ta{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(b.has(t)){const e=va(t);return e&&e.default||0}return t=Oa.has(t)?t:M(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return ra(e,t,n)}build(e,t,n){$i(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){_a(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(Oa.has(n)?n:M(n),t.attrs[n])}(e,t,0,r)}mount(e){this.isSVGTag=Ki(e.tagName),super.mount(e)}}const Ra=r(ia({...Rn,...di,...Zo,...hi},((e,t)=>Wi(e)?new Ia(t):new Na(t,{allowProjection:e!==Ir.Fragment}))))},8917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,o=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,s=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||o.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(a,l):e.replace(i,l)).replace(r,s))}},9106:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,o){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var i=encodeURIComponent(t(o))+r;return Array.isArray(e[o])?e[o].map((function(e){return i+encodeURIComponent(t(e))})).join(n):i+encodeURIComponent(t(e[o]))})).join(n):o?encodeURIComponent(t(o))+r+encodeURIComponent(t(e)):""}},9316:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>i});var o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=r((function(e){return o.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}))},9642:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r=(0,n(6540).createContext)({})},9788:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,c="";function u(e){return e?e.replace(l,c):c}e.exports=function(e,l){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var f=1,d=1;function h(e){var t=e.match(n);t&&(f+=t.length);var r=e.lastIndexOf("\n");d=~r?e.length-r:d+e.length}function p(){var e={line:f,column:d};return function(t){return t.position=new m(e),b(),t}}function m(e){this.start=e,this.end={line:f,column:d},this.source=l.source}m.prototype.content=e;var g=[];function y(t){var n=new Error(l.source+":"+f+":"+d+": "+t);if(n.reason=t,n.filename=l.source,n.line=f,n.column=d,n.source=e,!l.silent)throw n;g.push(n)}function v(t){var n=t.exec(e);if(n){var r=n[0];return h(r),e=e.slice(r.length),n}}function b(){v(r)}function w(e){var t;for(e=e||[];t=x();)!1!==t&&e.push(t);return e}function x(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;c!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,c===e.charAt(n-1))return y("End of comment missing");var r=e.slice(2,n-2);return d+=2,h(r),e=e.slice(n),d+=2,t({type:"comment",comment:r})}}function E(){var e=p(),n=v(o);if(n){if(x(),!v(i))return y("property missing ':'");var r=v(a),l=e({type:"declaration",property:u(n[0].replace(t,c)),value:r?u(r[0].replace(t,c)):c});return v(s),l}}return b(),function(){var e,t=[];for(w(t);e=E();)!1!==e&&(t.push(e),w(t));return t}()}},9982:(e,t,n)=>{"use strict";e.exports=n(7463)}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);o.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,o.d(i,a),i},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};o.r(e),o.d(e,{boolean:()=>pf,booleanish:()=>mf,commaOrSpaceSeparated:()=>wf,commaSeparated:()=>bf,number:()=>yf,overloadedBoolean:()=>gf,spaceSeparated:()=>vf});var t={};o.r(t),o.d(t,{attentionMarkers:()=>Zh,contentInitial:()=>qh,disable:()=>Jh,document:()=>Hh,flow:()=>Gh,flowInitial:()=>Wh,insideSpan:()=>Kh,string:()=>Yh,text:()=>$h});var n,r,i=o(6540),a=o.t(i,2),s=o(5338),l=o(115),c=o.n(l),u=o(311),f=o.n(u),d=o(2833),h=o.n(d),p=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(p||{}),m={rel:["amphtml","canonical","alternate"]},g={type:["application/ld+json"]},y={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},v=Object.values(p),b={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},w=Object.entries(b).reduce(((e,[t,n])=>(e[n]=t,e)),{}),x="data-rh",E=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},S=e=>{let t=E(e,"title");const n=E(e,"titleTemplate");if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,(()=>t));const r=E(e,"defaultTitle");return t||r||void 0},k=e=>E(e,"onChangeClientState")||(()=>{}),C=(e,t)=>t.filter((t=>void 0!==t[e])).map((t=>t[e])).reduce(((e,t)=>({...e,...t})),{}),P=(e,t)=>t.filter((e=>void 0!==e.base)).map((e=>e.base)).reverse().reduce(((t,n)=>{if(!t.length){const r=Object.keys(n);for(let o=0;o<r.length;o+=1){const i=r[o].toLowerCase();if(-1!==e.indexOf(i)&&n[i])return t.concat(n)}}return t}),[]),A=(e,t,n)=>{const r={};return n.filter((t=>{return!!Array.isArray(t[e])||(void 0!==t[e]&&(n=`Helmet: ${e} should be of type "Array". Instead found type "${typeof t[e]}"`,console&&"function"==typeof console.warn&&console.warn(n)),!1);var n})).map((t=>t[e])).reverse().reduce(((e,n)=>{const o={};n.filter((e=>{let n;const i=Object.keys(e);for(let r=0;r<i.length;r+=1){const o=i[r],a=o.toLowerCase();-1===t.indexOf(a)||"rel"===n&&"canonical"===e[n].toLowerCase()||"rel"===a&&"stylesheet"===e[a].toLowerCase()||(n=a),-1===t.indexOf(o)||"innerHTML"!==o&&"cssText"!==o&&"itemprop"!==o||(n=o)}if(!n||!e[n])return!1;const a=e[n].toLowerCase();return r[n]||(r[n]={}),o[n]||(o[n]={}),!r[n][a]&&(o[n][a]=!0,!0)})).reverse().forEach((t=>e.push(t)));const i=Object.keys(o);for(let e=0;e<i.length;e+=1){const t=i[e],n={...r[t],...o[t]};r[t]=n}return e}),[]).reverse()},T=(e,t)=>{if(Array.isArray(e)&&e.length)for(let n=0;n<e.length;n+=1)if(e[n][t])return!0;return!1},_=e=>Array.isArray(e)?e.join(""):e,N=(e,t)=>Array.isArray(e)?e.reduce(((e,n)=>(((e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1})(n,t)?e.priority.push(n):e.default.push(n),e)),{priority:[],default:[]}):{default:e,priority:[]},O=(e,t)=>({...e,[t]:void 0}),I=["noscript","script","style"],R=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),L=e=>Object.keys(e).reduce(((t,n)=>{const r=void 0!==e[n]?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r}),""),M=(e,t={})=>Object.keys(e).reduce(((t,n)=>(t[b[n]||n]=e[n],t)),t),j=(e,t)=>t.map(((t,n)=>{const r={key:n,[x]:!0};return Object.keys(t).forEach((e=>{const n=b[e]||e;if("innerHTML"===n||"cssText"===n){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[n]=t[e]})),i.createElement(e,r)})),D=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,n)=>{const r=M(n,{key:t,[x]:!0});return[i.createElement("title",r,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,n,r)=>{const o=L(n),i=_(t);return o?`<${e} ${x}="true" ${o}>${R(i,r)}</${e}>`:`<${e} ${x}="true">${R(i,r)}</${e}>`})(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>M(t),toString:()=>L(t)};default:return{toComponent:()=>j(e,t),toString:()=>((e,t,n=!0)=>t.reduce(((t,r)=>{const o=r,i=Object.keys(o).filter((e=>!("innerHTML"===e||"cssText"===e))).reduce(((e,t)=>{const r=void 0===o[t]?t:`${t}="${R(o[t],n)}"`;return e?`${e} ${r}`:r}),""),a=o.innerHTML||o.cssText||"",s=-1===I.indexOf(e);return`${t}<${e} ${x}="true" ${i}${s?"/>":`>${a}</${e}>`}`}),""))(e,t,n)}}},U=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:o,noscriptTags:i,styleTags:a,title:s="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:u,metaTags:f,scriptTags:d}=e,h={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:h,linkTags:u,metaTags:f,scriptTags:d}=(({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const o=N(e,y),i=N(t,m),a=N(n,g);return{priorityMethods:{toComponent:()=>[...j("meta",o.priority),...j("link",i.priority),...j("script",a.priority)],toString:()=>`${D("meta",o.priority,r)} ${D("link",i.priority,r)} ${D("script",a.priority,r)}`},metaTags:o.default,linkTags:i.default,scriptTags:a.default}})(e)),{priority:h,base:D("base",t,r),bodyAttributes:D("bodyAttributes",n,r),htmlAttributes:D("htmlAttributes",o,r),link:D("link",u,r),meta:D("meta",f,r),noscript:D("noscript",i,r),script:D("script",d,r),style:D("style",a,r),title:D("title",{title:s,titleAttributes:l},r)}},F=[],B=!("undefined"==typeof window||!window.document||!window.document.createElement),z=class{instances=[];canUseDOM=B;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?F:this.instances,add:e=>{(this.canUseDOM?F:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?F:this.instances).indexOf(e);(this.canUseDOM?F:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=U({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},V=i.createContext({}),H=class e extends i.Component{static canUseDOM=B;helmetData;constructor(t){super(t),this.helmetData=new z(this.props.context||{},e.canUseDOM)}render(){return i.createElement(V.Provider,{value:this.helmetData.value},this.props.children)}},q=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${x}]`),o=[].slice.call(r),i=[];let a;return t&&t.length&&t.forEach((t=>{const n=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)n.innerHTML=t.innerHTML;else if("cssText"===e)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{const r=e,o=void 0===t[r]?"":t[r];n.setAttribute(e,o)}n.setAttribute(x,"true"),o.some(((e,t)=>(a=t,n.isEqualNode(e))))?o.splice(a,1):i.push(n)})),o.forEach((e=>e.parentNode?.removeChild(e))),i.forEach((e=>n.appendChild(e))),{oldTags:o,newTags:i}},W=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(x),o=r?r.split(","):[],i=[...o],a=Object.keys(t);for(const e of a){const r=t[e]||"";n.getAttribute(e)!==r&&n.setAttribute(e,r),-1===o.indexOf(e)&&o.push(e);const a=i.indexOf(e);-1!==a&&i.splice(a,1)}for(let e=i.length-1;e>=0;e-=1)n.removeAttribute(i[e]);o.length===i.length?n.removeAttribute(x):n.getAttribute(x)!==a.join(",")&&n.setAttribute(x,a.join(","))},G=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:o,linkTags:i,metaTags:a,noscriptTags:s,onChangeClientState:l,scriptTags:c,styleTags:u,title:f,titleAttributes:d}=e;W("body",r),W("html",o),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=_(e)),W("title",t)})(f,d);const h={baseTag:q("base",n),linkTags:q("link",i),metaTags:q("meta",a),noscriptTags:q("noscript",s),scriptTags:q("script",c),styleTags:q("style",u)},p={},m={};Object.keys(h).forEach((e=>{const{newTags:t,oldTags:n}=h[e];t.length&&(p[e]=t),n.length&&(m[e]=h[e].oldTags)})),t&&t(),l(e,p,m)},Y=null,$=class extends i.Component{rendered=!1;shouldComponentUpdate(e){return!h()(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const r=(o=e.get().map((e=>{const t={...e.props};return delete t.context,t})),{baseTag:P(["href"],o),bodyAttributes:C("bodyAttributes",o),defer:E(o,"defer"),encode:E(o,"encodeSpecialCharacters"),htmlAttributes:C("htmlAttributes",o),linkTags:A("link",["rel","href"],o),metaTags:A("meta",["name","charset","http-equiv","property","itemprop"],o),noscriptTags:A("noscript",["innerHTML"],o),onChangeClientState:k(o),scriptTags:A("script",["src","innerHTML"],o),styleTags:A("style",["cssText"],o),title:S(o),titleAttributes:C("titleAttributes",o),prioritizeSeoTags:T(o,"prioritizeSeoTags")});var o,i;H.canUseDOM?(i=r,Y&&cancelAnimationFrame(Y),i.defer?Y=requestAnimationFrame((()=>{G(i,(()=>{Y=null}))})):(G(i),Y=null)):U&&(n=U(r)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},K=class extends i.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!c()(O(this.props,"helmetData"),O(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach((t=>{n={...n,[t]:e[t]}})),n}warnOnInvalidChildren(e,t){return f()(v.some((t=>e.type===t)),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${v.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),f()(!t||"string"==typeof t||Array.isArray(t)&&!t.some((e=>"string"!=typeof e)),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return i.Children.forEach(e,(e=>{if(!e||!e.props)return;const{children:r,...o}=e.props,i=Object.keys(o).reduce(((e,t)=>(e[w[t]||t]=o[t],e)),{});let{type:a}=e;switch("symbol"==typeof a?a=a.toString():this.warnOnInvalidChildren(e,r),a){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(e,n,i,r);break;default:t=this.mapObjectTypeChildren(e,t,i,r)}})),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;return e&&(n=this.mapChildrenToProps(e,n)),!r||r instanceof z||(r=new z(r.context,!0),delete n.helmetData),r?i.createElement($,{...n,context:r.value}):i.createElement(V.Consumer,null,(e=>i.createElement($,{...n,context:e})))}},Z=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},J=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Q={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};(r=n||(n={})).DEBUG="DEBUG",r.ERROR="ERROR",r.INFO="INFO",r.WARN="WARN",r.VERBOSE="VERBOSE";var X=function(){function e(e,t){void 0===t&&(t=n.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},e.prototype._log=function(t){for(var r,o,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var s=this.level;if(e.LOG_LEVEL&&(s=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(s=window.LOG_LEVEL),Q[t]>=Q[s]){var l=console.log.bind(console);t===n.ERROR&&console.error&&(l=console.error.bind(console)),t===n.WARN&&console.warn&&(l=console.warn.bind(console));var c="[".concat(t,"] ").concat(this._ts()," ").concat(this.name),u="";if(1===i.length&&"string"==typeof i[0])l(u="".concat(c," - ").concat(i[0]));else if(1===i.length)u="".concat(c," ").concat(i[0]),l(c,i[0]);else if("string"==typeof i[0]){var f=i.slice(1);1===f.length&&(f=f[0]),u="".concat(c," - ").concat(i[0]," ").concat(f),l("".concat(c," - ").concat(i[0]),f)}else u="".concat(c," ").concat(i),l(c,i);try{for(var d=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._pluggables),h=d.next();!h.done;h=d.next()){var p=h.value,m={message:u,timestamp:Date.now()};p.pushLogs([m])}}catch(e){r={error:e}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,J([n.INFO],Z(e),!1))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,J([n.INFO],Z(e),!1))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,J([n.WARN],Z(e),!1))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,J([n.ERROR],Z(e),!1))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,J([n.DEBUG],Z(e),!1))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,J([n.VERBOSE],Z(e),!1))},e.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),ee=new X("Amplify"),te=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Notifications=null,this.Logger=X,this.ServiceWorker=null}return e.prototype.register=function(e){ee.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):ee.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),ee.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e,2),r=(n[0],n[1]);Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)}))},e}());function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}var re,oe;(oe=re||(re={})).Pop="POP",oe.Push="PUSH",oe.Replace="REPLACE";const ie="popstate";function ae(e,t){if(!1===e||null==e)throw new Error(t)}function se(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function le(e,t){return{usr:e.state,key:e.key,idx:t}}function ce(e,t,n,r){return void 0===n&&(n=null),ne({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?fe(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function ue(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function fe(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var de,he;function pe(e,t,n){return void 0===n&&(n="/"),function(e,t,n,r){let o=Te(("string"==typeof t?fe(t):t).pathname||"/",n);if(null==o)return null;let i=me(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let e=0;null==a&&e<i.length;++e){let t=Ae(o);a=Ce(i[e],t,r)}return a}(e,t,n,!1)}function me(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(ae(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=Ie([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(ae(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),me(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:ke(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of ge(e.path))o(e,t,n);else o(e,t)})),t}function ge(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=ge(r.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),o&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}(he=de||(de={})).data="data",he.deferred="deferred",he.redirect="redirect",he.error="error",new Set(["lazy","caseSensitive","path","id","index","children"]);const ye=/^:[\w-]+$/,ve=3,be=2,we=1,xe=10,Ee=-2,Se=e=>"*"===e;function ke(e,t){let n=e.split("/"),r=n.length;return n.some(Se)&&(r+=Ee),t&&(r+=be),n.filter((e=>!Se(e))).reduce(((e,t)=>e+(ye.test(t)?ve:""===t?we:xe)),r)}function Ce(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,o={},i="/",a=[];for(let e=0;e<r.length;++e){let s=r[e],l=e===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=Pe({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c),f=s.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=Pe({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),a.push({params:o,pathname:Ie([i,u.pathname]),pathnameBase:Re(Ie([i,u.pathnameBase])),route:f}),"/"!==u.pathnameBase&&(i=Ie([i,u.pathnameBase]))}return a}function Pe(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),se("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function Ae(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return se(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Te(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function _e(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Ne(e,t){let n=function(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function Oe(e,t,n,r){let o;void 0===r&&(r=!1),"string"==typeof e?o=fe(e):(o=ne({},e),ae(!o.pathname||!o.pathname.includes("?"),_e("?","pathname","search",o)),ae(!o.pathname||!o.pathname.includes("#"),_e("#","pathname","hash",o)),ae(!o.search||!o.search.includes("#"),_e("#","search","hash",o)));let i,a=""===e||""===o.pathname,s=a?"/":o.pathname;if(null==s)i=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"==typeof e?fe(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:Le(r),hash:Me(o)}}(o,i),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Ie=e=>e.join("/").replace(/\/\/+/g,"/"),Re=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Le=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Me=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const je=["post","put","patch","delete"],De=(new Set(je),["get",...je]);function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue.apply(this,arguments)}new Set(De),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const Fe=i.createContext(null),Be=i.createContext(null),ze=i.createContext(null),Ve=i.createContext(null),He=i.createContext({outlet:null,matches:[],isDataRoute:!1}),qe=i.createContext(null);function We(){return null!=i.useContext(Ve)}function Ge(){return We()||ae(!1),i.useContext(Ve).location}function Ye(e){i.useContext(ze).static||i.useLayoutEffect(e)}function $e(){let{isDataRoute:e}=i.useContext(He);return e?function(){let{router:e}=function(){let e=i.useContext(Fe);return e||ae(!1),e}(tt.UseNavigateStable),t=rt(nt.UseNavigateStable),n=i.useRef(!1);return Ye((()=>{n.current=!0})),i.useCallback((function(r,o){void 0===o&&(o={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,Ue({fromRouteId:t},o)))}),[e,t])}():function(){We()||ae(!1);let e=i.useContext(Fe),{basename:t,future:n,navigator:r}=i.useContext(ze),{matches:o}=i.useContext(He),{pathname:a}=Ge(),s=JSON.stringify(Ne(o,n.v7_relativeSplatPath)),l=i.useRef(!1);return Ye((()=>{l.current=!0})),i.useCallback((function(n,o){if(void 0===o&&(o={}),!l.current)return;if("number"==typeof n)return void r.go(n);let i=Oe(n,JSON.parse(s),a,"path"===o.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:Ie([t,i.pathname])),(o.replace?r.replace:r.push)(i,o.state,o)}),[t,r,s,a,e])}()}function Ke(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(ze),{matches:o}=i.useContext(He),{pathname:a}=Ge(),s=JSON.stringify(Ne(o,r.v7_relativeSplatPath));return i.useMemo((()=>Oe(e,JSON.parse(s),a,"path"===n)),[e,s,a,n])}function Ze(e,t,n,r){We()||ae(!1);let{navigator:o,static:a}=i.useContext(ze),{matches:s}=i.useContext(He),l=s[s.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let f,d=Ge();if(t){var h;let e="string"==typeof t?fe(t):t;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||ae(!1),f=e}else f=d;let p=f.pathname||"/",m=p;if("/"!==u){let e=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=!a&&n&&n.matches&&n.matches.length>0?n.matches:pe(e,{pathname:m}),y=function(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||ae(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<s.length;e++){let t=s[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:r}=n,o=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||o){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,r,o)=>{let a,f=!1,d=null,h=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||Qe,c&&(u<0&&0===o?(ot[p="route-fallback"]||(ot[p]=!0),f=!0,h=null):u===o&&(f=!0,h=r.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,o+1)),g=()=>{let t;return t=a?d:f?h:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(et,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(Xe,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Ie([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Ie([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,r);return t&&y?i.createElement(Ve.Provider,{value:{location:Ue({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:re.Pop}},y):y}function Je(){let e=function(){var e;let t=i.useContext(qe),n=function(){let e=i.useContext(Be);return e||ae(!1),e}(nt.UseRouteError),r=rt(nt.UseRouteError);return void 0!==t?t:null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:r},n):null,null)}const Qe=i.createElement(Je,null);class Xe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(He.Provider,{value:this.props.routeContext},i.createElement(qe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function et(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(Fe);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(He.Provider,{value:t},r)}var tt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tt||{}),nt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nt||{});function rt(e){let t=function(){let e=i.useContext(He);return e||ae(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||ae(!1),n.route.id}const ot={};function it(e){let{to:t,replace:n,state:r,relative:o}=e;We()||ae(!1);let{future:a,static:s}=i.useContext(ze),{matches:l}=i.useContext(He),{pathname:c}=Ge(),u=$e(),f=Oe(t,Ne(l,a.v7_relativeSplatPath),c,"path"===o),d=JSON.stringify(f);return i.useEffect((()=>u(JSON.parse(d),{replace:n,state:r,relative:o})),[u,d,o,n,r]),null}function at(e){ae(!1)}function st(e){let{basename:t="/",children:n=null,location:r,navigationType:o=re.Pop,navigator:a,static:s=!1,future:l}=e;We()&&ae(!1);let c=t.replace(/^\/*/,"/"),u=i.useMemo((()=>({basename:c,navigator:a,static:s,future:Ue({v7_relativeSplatPath:!1},l)})),[c,l,a,s]);"string"==typeof r&&(r=fe(r));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,g=i.useMemo((()=>{let e=Te(f,c);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:m},navigationType:o}}),[c,f,d,h,p,m,o]);return null==g?null:i.createElement(ze.Provider,{value:u},i.createElement(Ve.Provider,{children:n,value:g}))}function lt(e){let{children:t,location:n}=e;return Ze(ct(t),n)}function ct(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,ct(e.props.children,o));e.type!==at&&ae(!1),e.props.index&&e.props.children&&ae(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ct(e.props.children,o)),n.push(a)})),n}a.startTransition,new Promise((()=>{})),i.Component;var ut=o(961),ft=o.t(ut,2);function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dt.apply(this,arguments)}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ht=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(e){}new Map;const pt=a.startTransition;function mt(e){let{basename:t,children:n,future:r,window:o}=e,a=i.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),function(e,t,n,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s=re.Pop,l=null,c=u();function u(){return(a.state||{idx:null}).idx}function f(){s=re.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:h.location,delta:t})}function d(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"==typeof e?e:ue(e);return n=n.replace(/ $/,"%20"),ae(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,a.replaceState(ne({},a.state,{idx:c}),""));let h={get action(){return s},get location(){return e(o,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(ie,f),l=e,()=>{o.removeEventListener(ie,f),l=null}},createHref:e=>t(o,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=re.Push;let r=ce(h.location,e,t);n&&n(r,e),c=u()+1;let f=le(r,c),d=h.createHref(r);try{a.pushState(f,"",d)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;o.location.assign(d)}i&&l&&l({action:s,location:h.location,delta:1})},replace:function(e,t){s=re.Replace;let r=ce(h.location,e,t);n&&n(r,e),c=u();let o=le(r,c),f=h.createHref(r);a.replaceState(o,"",f),i&&l&&l({action:s,location:h.location,delta:0})},go:e=>a.go(e)};return h}((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return ce("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:ue(t)}),null,s)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},d=i.useCallback((e=>{f&&pt?pt((()=>u(e))):u(e)}),[u,f]);return i.useLayoutEffect((()=>l.listen(d)),[l,d]),i.useEffect((()=>{return null==(e=r)||e.v7_startTransition,void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&t.v7_relativeSplatPath,void(t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation));var e,t}),[r]),i.createElement(st,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}ft.flushSync,a.useId;const gt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,yt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=i.forwardRef((function(e,t){let n,{onClick:r,relative:o,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=e,h=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,ht),{basename:p}=i.useContext(ze),m=!1;if("string"==typeof u&&yt.test(u)&&(n=u,gt))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=Te(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(e){}let g=function(e,t){let{relative:n}=void 0===t?{}:t;We()||ae(!1);let{basename:r,navigator:o}=i.useContext(ze),{hash:a,pathname:s,search:l}=Ke(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:Ie([r,s])),o.createHref({pathname:c,search:l,hash:a})}(u,{relative:o}),y=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:a,relative:s,viewTransition:l}=void 0===t?{}:t,c=$e(),u=Ge(),f=Ke(e,{relative:s});return i.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:ue(u)===ue(f);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,viewTransition:l})}}),[u,c,f,r,o,n,e,a,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:f,relative:o,viewTransition:d});return i.createElement("a",dt({},h,{href:n||g,onClick:m||a?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:c}))}));var bt,wt,xt,Et;(wt=bt||(bt={})).UseScrollRestoration="useScrollRestoration",wt.UseSubmit="useSubmit",wt.UseSubmitFetcher="useSubmitFetcher",wt.UseFetcher="useFetcher",wt.useViewTransitionState="useViewTransitionState",(Et=xt||(xt={})).UseFetcher="useFetcher",Et.UseFetchers="useFetchers",Et.UseScrollRestoration="useScrollRestoration";var St,kt,Ct,Pt,At,Tt,_t=o(5215);function Nt(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function Ot(e){return void 0!==e.redirectSignIn}(kt=St||(St={})).Cognito="COGNITO",kt.Google="Google",kt.Facebook="Facebook",kt.Amazon="LoginWithAmazon",kt.Apple="SignInWithApple",(Pt=Ct||(Ct={})).NoConfig="noConfig",Pt.MissingAuthConfig="missingAuthConfig",Pt.EmptyUsername="emptyUsername",Pt.InvalidUsername="invalidUsername",Pt.EmptyPassword="emptyPassword",Pt.EmptyCode="emptyCode",Pt.SignUpError="signUpError",Pt.NoMFA="noMFA",Pt.InvalidMFA="invalidMFA",Pt.EmptyChallengeResponse="emptyChallengeResponse",Pt.NoUserSession="noUserSession",Pt.Default="default",Pt.DeviceConfig="deviceConfig",Pt.NetworkError="networkError",Pt.AutoSignInError="autoSignInError",(Tt=At||(At={})).API_KEY="API_KEY",Tt.AWS_IAM="AWS_IAM",Tt.OPENID_CONNECT="OPENID_CONNECT",Tt.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",Tt.AWS_LAMBDA="AWS_LAMBDA";var It,Rt=function(){return Rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Rt.apply(this,arguments)},Lt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Mt=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},jt=new X("Hub"),Dt="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Ut=new(function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype._remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void jt.warn("No listeners for ".concat(e));this.patterns=Mt([],Lt(this.patterns.filter((function(e){return e!==n}))),!1)}else{var r=this.listeners[e];if(!r)return void jt.warn("No listeners for ".concat(e));this.listeners[e]=Mt([],Lt(r.filter((function(e){return e.callback!==t}))),!1)}},e.prototype.remove=function(e,t){this._remove(e,t)},e.prototype.dispatch=function(e,t,n,r){void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1&&(r===Dt||jt.warn("WARNING: ".concat(e," is protected and dispatching on it can have unintended consequences")));var o={channel:e,payload:Rt({},t),source:n,patternInfo:[]};try{this._toListeners(o)}catch(e){jt.error(e)}},e.prototype.listen=function(e,t,n){var r,o=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))jt.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var i=this.listeners[e];i||(i=[],this.listeners[e]=i),i.push({name:n,callback:r})}return function(){o._remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){jt.debug("Dispatching to ".concat(t," with "),n);try{r.callback(e)}catch(e){jt.error(e)}})),this.patterns.length>0){if(!n.message)return void jt.warn("Cannot perform pattern matching without a message key");var o=n.message;this.patterns.forEach((function(t){var n=o.match(t.pattern);if(n){var r=Lt(n).slice(1),i=Rt(Rt({},e),{patternInfo:r});try{t.callback(i)}catch(e){jt.error(e)}}}))}},e}())("__default__"),Ft={},Bt=function(){function e(){}return e.setItem=function(e,t){return Ft[e]=t,Ft[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(Ft,e)?Ft[e]:void 0},e.removeItem=function(e){return delete Ft[e]},e.clear=function(){return Ft={}},e}(),zt=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=Bt}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),Vt=o(5606),Ht=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:void 0!==Vt&&null!=Vt.versions&&null!=Vt.versions.node}},qt=(It=function(e,t){return It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},It(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}It(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Wt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Gt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Yt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},$t=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Kt=new X("Util"),Zt=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return qt(t,e),t}(Error),Jt=3e5;function Qt(e){return void 0===e&&(e=Jt),function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}var Xt,en,tn,nn,rn,on,an,sn,ln,cn,un,fn,dn,hn,pn,mn,gn,yn,vn,bn,wn=new X("CognitoCredentials"),xn=new Promise((function(e,t){return Ht().isBrowser?window.gapi&&window.gapi.auth2&&window.gapi.auth2?(wn.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(wn.debug("not in the browser, directly resolved"),e())})),En=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(wn.debug("need to wait for the Google SDK loaded"),[4,xn]);case 1:e.sent(),this.initialized=!0,wn.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))},new((n=void 0)||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}));var e,t,n,r},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return Ht().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(wn.debug("google Auth undefined"),n(new Zt("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(wn.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new Zt("Failed to reload google auth response"))}))):n(new Zt("User is not signed in with Google"))})).catch((function(e){wn.debug("Failed to refresh google token",e),n(new Zt("Failed to refresh google token"))}))})):(wn.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),Sn=new X("CognitoCredentials"),kn=new Promise((function(e,t){return Ht().isBrowser?window.FB?(Sn.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(Sn.debug("not in the browser, directly resolved"),e())})),Cn=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(Sn.debug("need to wait for the Facebook SDK loaded"),[4,kn]);case 1:e.sent(),this.initialized=!0,Sn.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))},new((n=void 0)||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}));var e,t,n,r},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(Ht().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return Sn.debug(t),Promise.reject(new Zt(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,o=r.accessToken,i=1e3*r.expiresIn+(new Date).getTime();o||(a="the jwtToken is undefined",Sn.debug(a),n(new Zt(a))),t({token:o,expires_at:i})}else{var a="no response from facebook when refreshing the jwt token";Sn.debug(a),n(new Zt(a))}}),{scope:"public_profile,email"})}))},e}(),Pn=new En,An=new Cn,Tn={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},_n={partitions:[Tn,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},Nn=function(e){var t,n,r=_n.partitions;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),i=o.next();!i.done;i=o.next()){var a=i.value,s=a.regions,l=a.outputs,c=a.regionRegex,u=new RegExp(c);if(s.includes(e)||u.test(e))return l.dnsSuffix}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return Tn.outputs.dnsSuffix},On=function(){return On=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},On.apply(this,arguments)},In=function(e,t){if(null==t?void 0:t.aborted)return Promise.resolve();var n,r,o=new Promise((function(t){r=t,n=setTimeout(t,e)}));return null==t||t.addEventListener("abort",(function e(o){clearTimeout(n),null==t||t.removeEventListener("abort",e),r()})),o},Rn=function(e,t){var n;"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata=On(On({},null!==(n=e.$metadata)&&void 0!==n?n:{}),{attempts:t}))},Ln=function(e,t){return function(n,r){for(var o={},i=function(t){return e(t,r)},a=t.length-1;a>=0;a--)i=(0,t[a])(r)(i,o);return i(n)}},Mn=(o(916),function(e){var t;return function(){return t||(t=e()),t}}),jn=function(){return jn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},jn.apply(this,arguments)},Dn=function(e){return!["HEAD","GET","DELETE"].includes(e.toUpperCase())},Un=Ln((function(e,t){var n,r,o,i,a=e.url,s=e.method,l=e.headers,c=e.body,u=t.abortSignal;return n=void 0,r=void 0,i=function(){var e,t,n,r,o,i,f;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,fetch(a,{method:s,headers:l,body:Dn(s)?c:void 0,signal:u})];case 1:return e=d.sent(),[3,3];case 2:if((t=d.sent())instanceof TypeError)throw new Error("Network error");throw t;case 3:return n={},null===(i=e.headers)||void 0===i||i.forEach((function(e,t){n[t.toLowerCase()]=e})),r={statusCode:e.status,headers:n,body:null},o=Object.assign(null!==(f=e.body)&&void 0!==f?f:{},{text:Mn((function(){return e.text()})),blob:Mn((function(){return e.blob()})),json:Mn((function(){return e.json()}))}),[2,jn(jn({},r),{body:o})]}}))},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{l(i.next(e))}catch(e){t(e)}}function s(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,s)}l((i=i.apply(n,r||[])).next())}))}),[function(e){var t=e.userAgentHeader,n=void 0===t?"x-amz-user-agent":t,r=e.userAgentValue,o=void 0===r?"":r;return function(e){return function(t){return r=this,i=void 0,s=function(){var r;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(i){switch(i.label){case 0:return 0!==o.trim().length?[3,2]:[4,e(t)];case 1:case 3:return[2,i.sent()];case 2:return r=n.toLowerCase(),t.headers[r]=t.headers[r]?"".concat(t.headers[r]," ").concat(o):o,[4,e(t)]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(n,o)}l((s=s.apply(r,i||[])).next())}));var r,i,a,s}}},function(e){var t=e.maxAttempts,n=void 0===t?3:t,r=e.retryDecider,o=e.computeDelay,i=e.abortSignal;if(n<1)throw new Error("maxAttempts must be greater than 0");return function(e,t){return function(a){var s,l,c,u,f;return l=this,c=void 0,f=function(){var l,c,u,f,d,h;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(p){switch(p.label){case 0:c=null!==(s=t.attemptsCount)&&void 0!==s?s:0,f=function(){if(u)return Rn(u,c),u;throw Rn(l,c),l},p.label=1;case 1:if((null==i?void 0:i.aborted)||!(c<n))return[3,11];p.label=2;case 2:return p.trys.push([2,4,,5]),[4,e(a)];case 3:return u=p.sent(),l=void 0,[3,5];case 4:return d=p.sent(),l=d,u=void 0,[3,5];case 5:return c=t.attemptsCount>c?t.attemptsCount:c+1,t.attemptsCount=c,[4,r(u,l)];case 6:return p.sent()?!(null==i?void 0:i.aborted)&&c<n?(h=o(c),[4,In(h,i)]):[3,8]:[3,9];case 7:p.sent(),p.label=8;case 8:return[3,1];case 9:return[2,f()];case 10:return[3,1];case 11:if(null==i?void 0:i.aborted)throw new Error("Request aborted.");return[2,f()]}}))},new((u=void 0)||(u=Promise))((function(e,t){function n(e){try{o(f.next(e))}catch(e){t(e)}}function r(e){try{o(f.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof u?o:new u((function(e){e(o)}))).then(n,r)}o((f=f.apply(l,c||[])).next())}))}}}]),Fn=function(){return Fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fn.apply(this,arguments)},Bn=function(e){var t,n,r=e.headers,o=e.statusCode;return Fn(Fn({},zn(e)?e.$metadata:{}),{httpStatusCode:o,requestId:null!==(n=null!==(t=r["x-amzn-requestid"])&&void 0!==t?t:r["x-amzn-request-id"])&&void 0!==n?n:r["x-amz-request-id"],extendedRequestId:r["x-amz-id-2"],cfId:r["x-amz-cf-id"]})},zn=function(e){return"object"==typeof(null==e?void 0:e.$metadata)},Vn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Hn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},qn=function(e){return Vn(void 0,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,c;return Hn(this,(function(u){switch(u.label){case 0:return!e||e.statusCode<300?[2]:[4,Wn(e)];case 1:return t=u.sent(),f=null!==(s=null!==(a=null!==(i=e.headers["x-amzn-errortype"])&&void 0!==i?i:t.code)&&void 0!==a?a:t.__type)&&void 0!==s?s:"UnknownError",d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(f.toString().split(/[\,\:]+/),1)[0],n=d.includes("#")?d.split("#")[1]:d,r=null!==(c=null!==(l=t.message)&&void 0!==l?l:t.Message)&&void 0!==c?c:"Unknown error",o=new Error(r),[2,Object.assign(o,{name:n,$metadata:Bn(e)})]}var f,d}))}))},Wn=function(e){return Vn(void 0,void 0,void 0,(function(){var t;return Hn(this,(function(n){switch(n.label){case 0:if(!e.body)throw new Error("Missing response payload");return[4,e.body.json()];case 1:return t=n.sent(),[2,Object.assign(t,{$metadata:Bn(e)})]}}))}))},Gn=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],Yn=function(e){return Gn.includes(e)},$n=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],Kn=["TimeoutError","RequestTimeout","RequestTimeoutException"],Zn=function(e,t){return 429===e||$n.includes(t)},Jn=function(e){return"Network error"===(null==e?void 0:e.name)},Qn=function(e,t){return[500,502,503,504].includes(e)||Kn.includes(t)},Xn=3e5;(en=Xt||(Xt={})).WebUnknown="0",en.React="1",en.NextJs="2",en.Angular="3",en.VueJs="4",en.Nuxt="5",en.Svelte="6",en.ServerSideUnknown="100",en.ReactSSR="101",en.NextJsSSR="102",en.AngularSSR="103",en.VueJsSSR="104",en.NuxtSSR="105",en.SvelteSSR="106",en.ReactNative="201",en.Expo="202",(nn=tn||(tn={})).API="api",nn.Auth="auth",nn.Analytics="analytics",nn.DataStore="datastore",nn.Geo="geo",nn.InAppMessaging="inappmessaging",nn.Interactions="interactions",nn.Predictions="predictions",nn.PubSub="pubsub",nn.PushNotification="pushnotification",nn.Storage="storage",(on=rn||(rn={})).Record="1",on.UpdateEndpoint="2",(sn=an||(an={})).GraphQl="1",sn.Get="2",sn.Post="3",sn.Put="4",sn.Patch="5",sn.Del="6",sn.Head="7",(ln||(ln={})).FederatedSignIn="30",(un=cn||(cn={})).Subscribe="1",un.GraphQl="2",(fn||(fn={})).None="0",(dn||(dn={})).None="0",(hn||(hn={})).None="0",(mn=pn||(pn={})).Convert="1",mn.Identify="2",mn.Interpret="3",(gn||(gn={})).Subscribe="1",(yn||(yn={})).None="0",(bn=vn||(vn={})).Put="1",bn.Get="2",bn.List="3",bn.Copy="4",bn.Remove="5",bn.GetProperties="6";var er,tr="5.3.26",nr=o(5606),rr=function(){return void 0!==o.g},or=function(){return"undefined"!=typeof window},ir=function(){return"undefined"!=typeof document},ar=function(){return void 0!==nr},sr=function(e,t){return!!Object.keys(e).find((function(e){return e.startsWith(t)}))},lr=[{platform:Xt.Expo,detectionMethod:function(){return rr()&&void 0!==o.g.expo}},{platform:Xt.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:Xt.NextJs,detectionMethod:function(){return or()&&window.next&&"object"==typeof window.next}},{platform:Xt.Nuxt,detectionMethod:function(){return or()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:Xt.Angular,detectionMethod:function(){var e=Boolean(ir()&&document.querySelector("[ng-version]")),t=Boolean(or()&&void 0!==window.ng);return e||t}},{platform:Xt.React,detectionMethod:function(){var e=function(e){return e.startsWith("_react")||e.startsWith("__react")};return ir()&&Array.from(document.querySelectorAll("[id]")).some((function(t){return Object.keys(t).find(e)}))}},{platform:Xt.VueJs,detectionMethod:function(){return or()&&sr(window,"__VUE")}},{platform:Xt.Svelte,detectionMethod:function(){return or()&&sr(window,"__SVELTE")}},{platform:Xt.WebUnknown,detectionMethod:function(){return or()}},{platform:Xt.NextJsSSR,detectionMethod:function(){return rr()&&(sr(o.g,"__next")||sr(o.g,"__NEXT"))}},{platform:Xt.NuxtSSR,detectionMethod:function(){return rr()&&void 0!==o.g.__NUXT_PATHS__}},{platform:Xt.ReactSSR,detectionMethod:function(){return ar()&&!!Object.keys("MISSING_ENV_VAR").find((function(e){return e.includes("react")}))}},{platform:Xt.VueJsSSR,detectionMethod:function(){return rr()&&sr(o.g,"__VUE")}},{platform:Xt.AngularSSR,detectionMethod:function(){return ar(),!1}},{platform:Xt.SvelteSSR,detectionMethod:function(){return ar()&&!!Object.keys("MISSING_ENV_VAR").find((function(e){return e.includes("svelte")}))}}],cr=[],ur=!1,fr=function(){if(!er){if(er=(null===(e=lr.find((function(e){return e.detectionMethod()})))||void 0===e?void 0:e.platform)||Xt.ServerSideUnknown,ur)for(;cr.length;)cr.pop()();else cr.forEach((function(e){return e()}));hr(Xt.ServerSideUnknown,10),hr(Xt.WebUnknown,10)}var e;return er},dr=function(e){ur||cr.push(e)};function hr(e,t){er!==e||ur||setTimeout((function(){er=void 0,ur=!0,setTimeout(fr,1e3)}),t)}var pr,mr="aws-amplify",gr=new(function(){function e(){this.userAgent="".concat(mr,"/").concat(tr)}return Object.defineProperty(e.prototype,"framework",{get:function(){return fr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReactNative",{get:function(){return this.framework===Xt.ReactNative||this.framework===Xt.Expo},enumerable:!1,configurable:!0}),e.prototype.observeFrameworkChanges=function(e){dr(e)},e}()),yr=function(e){return(t=e,n=void 0===t?{}:t,r=n.category,o=n.action,n.framework,i=[[mr,tr]],r&&i.push([r,o]),i.push(["framework",fr()]),i).map((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e,2),n=t[0],r=t[1];return"".concat(n,"/").concat(r)})).join(" ");var t,n,r,o,i},vr=Ln(Un,[function(){return function(e,t){return function(t){return n=this,r=void 0,i=function(){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(n){return t.headers["cache-control"]="no-store",[2,e(t)]}))},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{l(i.next(e))}catch(e){t(e)}}function s(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,s)}l((i=i.apply(n,r||[])).next())}));var n,r,o,i}}}]),br={service:"cognito-identity",endpointResolver:function(e){var t=e.region;return{url:new URL("https://cognito-identity.".concat(t,".").concat(Nn(t)))}},retryDecider:(pr=qn,function(e,t){return n=void 0,r=void 0,i=function(){var n,r,o,i;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(a){switch(a.label){case 0:return null==t?[3,1]:(r=t,[3,3]);case 1:return[4,pr(e)];case 2:r=a.sent(),a.label=3;case 3:return n=(null!==(i=r)&&void 0!==i?i:{}).name,o=null==e?void 0:e.statusCode,[2,Jn(t)||Zn(o,n)||Yn(n)||Qn(o,n)]}}))},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{l(i.next(e))}catch(e){t(e)}}function s(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,s)}l((i=i.apply(n,r||[])).next())}));var n,r,o,i}),computeDelay:function(e){var t=Qt(Xn)(e);return!1===t?Xn:t},userAgentValue:yr()};dr((function(){br.userAgentValue=yr()}));var wr=function(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(e)}},xr=function(e,t,n){return{headers:t,url:e.url,body:n,method:"POST"}},Er=function(){return Er=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Er.apply(this,arguments)},Sr=function(e,t,n,r){return function(o,i){return a=void 0,s=void 0,c=function(){var a,s,l,c;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(u){switch(u.label){case 0:return[4,(a=Er(Er({},r),o)).endpointResolver(a,i)];case 1:return s=u.sent(),[4,t(i,s)];case 2:return l=u.sent(),[4,e(l,Er({},a))];case 3:return c=u.sent(),[4,n(c)];case 4:return[2,u.sent()]}}))},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof l?o:new l((function(e){e(o)}))).then(n,r)}o((c=c.apply(a,s||[])).next())}));var a,s,l,c}},kr=Sr(vr,(function(e,t){var n=wr("GetId"),r=JSON.stringify(e);return xr(t,n,r)}),(function(e){return t=void 0,n=void 0,o=function(){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(t){switch(t.label){case 0:return e.statusCode>=300?[4,qn(e)]:[3,2];case 1:throw t.sent();case 2:return[4,Wn(e)];case 3:return[2,{IdentityId:t.sent().IdentityId,$metadata:Bn(e)}]}}))},new((r=void 0)||(r=Promise))((function(e,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}),br),Cr=Sr(vr,(function(e,t){var n=wr("GetCredentialsForIdentity"),r=JSON.stringify(e);return xr(t,n,r)}),(function(e){return t=void 0,n=void 0,o=function(){var t;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(n){switch(n.label){case 0:return e.statusCode>=300?[4,qn(e)]:[3,2];case 1:throw n.sent();case 2:return[4,Wn(e)];case 3:return[2,{IdentityId:(t=n.sent()).IdentityId,Credentials:(r=t.Credentials,void 0===r&&(r={}),{AccessKeyId:r.AccessKeyId,SecretKey:r.SecretKey,SessionToken:r.SessionToken,Expiration:new Date(1e3*r.Expiration)}),$metadata:Bn(e)}]}var r}))},new((r=void 0)||(r=Promise))((function(e,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}),br),Pr=function(){return Pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pr.apply(this,arguments)},Ar=new X("Parser"),Tr=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in,signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=Pr(Pr({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),Ar.debug("parse config",e,"to amplifyconfig",n),n},_r=function(){return _r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_r.apply(this,arguments)},Nr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Or=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Ir=new X("Credentials"),Rr="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Lr=new(function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=Pn.refreshGoogleToken,this._refreshHandlers.facebook=An.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=_r(_r({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new zt).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),Ut.dispatch("core",{event:"credentials_configured",data:null,message:"Credentials has been configured successfully"},"Credentials",Rr),this._config},e.prototype.get=function(){return Ir.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"".concat("CognitoIdentityId-").concat(e)},e.prototype._pickupCredentials=function(){return Ir.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?Ir.debug("getting old cred promise"):(Ir.debug("getting new cred promise"),this._gettingCredPromise=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,o=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return o.isFullfilled=function(){return r},o.isPending=function(){return t},o.isRejected=function(){return n},o}(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return Nr(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return Or(this,(function(s){switch(s.label){case 0:if(Ir.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return Ir.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(Ir.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?te.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,this._setCredentialsForGuest()];if(this._isExpired(e)||!this._isPastTTL())return[3,6];Ir.debug("ttl has passed but token is not yet expired"),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=s.sent(),[4,n.currentSession()];case 3:return o=s.sent(),i=o.refreshToken,[4,new Promise((function(e,t){r.refreshSession(i,(function(n,r){return n?t(n):e(r)}))}))];case 4:return s.sent(),[3,6];case 5:return a=s.sent(),Ir.debug("Error attempting to refreshing the session",a),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){Ir.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,o=e.identity_id,i=e.expires_at;i=1970===new Date(i).getFullYear()?1e3*i:i;var a=this;return Ir.debug("checking if federated jwt token expired"),i>(new Date).getTime()?(Ir.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:o,expires_at:i})):a._refreshHandlers[t]&&"function"==typeof a._refreshHandlers[t]?(Ir.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:a._refreshHandlers[t],provider:t,user:n})):(Ir.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t,n,r,o,i=this,a=e.refreshHandler,s=e.provider,l=e.user;return(t=a,n=[],r=1e4,void 0===r&&(r=Jt),function(e,t,n,r){return Wt(this,void 0,void 0,(function(){var o=this;return Gt(this,(function(i){if("function"!=typeof e)throw Error("functionToRetry must be a function");return[2,new Promise((function(i,a){return Wt(o,void 0,void 0,(function(){var o,s,l,c,u,f,d;return Gt(this,(function(h){switch(h.label){case 0:o=0,s=!1,c=function(){},r&&r.then((function(){s=!0,clearTimeout(l),c()})),f=function(){var r,f,d,h;return Gt(this,(function(p){switch(p.label){case 0:o++,Kt.debug("".concat(e.name," attempt #").concat(o," with this vars: ").concat(JSON.stringify(t))),p.label=1;case 1:return p.trys.push([1,3,,7]),r={},f=i,[4,e.apply(void 0,$t([],Yt(t),!1))];case 2:return[2,(r.value=f.apply(void 0,[p.sent()]),r)];case 3:return d=p.sent(),u=d,Kt.debug("error on ".concat(e.name),d),(m=d)&&m.nonRetryable?(Kt.debug("".concat(e.name," non retryable error"),d),[2,{value:a(d)}]):(h=n(o,t,d),Kt.debug("".concat(e.name," retrying in ").concat(h," ms")),!1===h||s?[2,{value:a(d)}]:[3,4]);case 4:return[4,new Promise((function(e){c=e,l=setTimeout(c,h)}))];case 5:p.sent(),p.label=6;case 6:return[3,7];case 7:return[2]}var m}))},h.label=1;case 1:return s?[3,3]:[5,f()];case 2:return"object"==typeof(d=h.sent())?[2,d.value]:[3,1];case 3:return a(u),[2]}}))}))}))]}))}))}(t,n,Qt(r),o)).then((function(e){return Ir.debug("refresh federated token sucessfully",e),i._setCredentialsFromFederation({provider:s,token:e.token,user:l,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||i.clear(),Ir.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return Ir.debug("no credentials for expiration check"),!0;Ir.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){var e;return Nr(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,c,u,f=this;return Or(this,(function(d){switch(d.label){case 0:return Ir.debug("setting credentials for guest"),(null===(e=this._config)||void 0===e?void 0:e.identityPoolId)||(this._config=Object.assign({},this._config,Tr(this._config||{}).Auth)),t=this._config,n=t.identityPoolId,r=t.region,o=t.mandatorySignIn,i=t.identityPoolRegion,o?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:n?i||r?(s=this,[4,this._getGuestIdentityId()]):(Ir.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(Ir.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return a=s._identityId=d.sent(),l={region:null!=i?i:r},c=function(){return Nr(f,void 0,void 0,(function(){var e,t;return Or(this,(function(r){switch(r.label){case 0:return a?[3,2]:[4,kr(l,{IdentityPoolId:n})];case 1:e=r.sent().IdentityId,this._identityId=e,r.label=2;case 2:return[4,Cr(l,{IdentityId:this._identityId})];case 3:return t=r.sent().Credentials,[2,{identityId:this._identityId,accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretKey,sessionToken:t.SessionToken,expiration:t.Expiration}]}}))}))},u=c().catch((function(e){return Nr(f,void 0,void 0,(function(){return Or(this,(function(t){throw e}))}))})),[2,this._loadCredentials(u,"guest",!1,null).then((function(e){return e})).catch((function(e){return Nr(f,void 0,void 0,(function(){var t,r=this;return Or(this,(function(o){switch(o.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '".concat(a,"' not found.")?[3,2]:(Ir.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return o.sent(),t=function(){return Nr(r,void 0,void 0,(function(){var e,t;return Or(this,(function(r){switch(r.label){case 0:return[4,kr(l,{IdentityPoolId:n})];case 1:return e=r.sent().IdentityId,this._identityId=e,[4,Cr(l,{IdentityId:e})];case 2:return t=r.sent().Credentials,[2,{identityId:e,accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretKey,sessionToken:t.SessionToken,expiration:t.Expiration}]}}))}))},u=t().catch((function(e){return Nr(r,void 0,void 0,(function(){return Or(this,(function(t){throw e}))}))})),[2,this._loadCredentials(u,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=this,n=e.provider,r=e.token,o=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[n]||n;if(!i)return Promise.reject("You must specify a federated provider");var a={};a[i]=r;var s=this._config,l=s.identityPoolId,c=s.region,u=s.identityPoolRegion;if(!l)return Ir.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u&&!c)return Ir.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var f={region:null!=u?u:c},d=Nr(t,void 0,void 0,(function(){var e,t;return Or(this,(function(n){switch(n.label){case 0:return o?[3,2]:[4,kr(f,{IdentityPoolId:l,Logins:a})];case 1:e=n.sent().IdentityId,o=e,n.label=2;case 2:return[4,Cr(f,{IdentityId:o,Logins:a})];case 3:return t=n.sent().Credentials,[2,{identityId:o,accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretKey,sessionToken:t.SessionToken,expiration:t.Expiration}]}}))})).catch((function(e){return Nr(t,void 0,void 0,(function(){return Or(this,(function(t){throw e}))}))}));return this._loadCredentials(d,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;Ir.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,o=r.region,i=r.userPoolId,a=r.identityPoolId,s=r.identityPoolRegion;if(!a)return Ir.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!s&&!o)return Ir.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var l={};l["cognito-idp."+o+".amazonaws.com/"+i]=n;var c={region:null!=s?s:o},u=Nr(t,void 0,void 0,(function(){var e,t,n,r,o,i,s,u,f,d;return Or(this,(function(h){switch(h.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=h.sent())?[3,3]:[4,kr(c,{IdentityPoolId:a,Logins:l})];case 2:n=h.sent().IdentityId,t=n,h.label=3;case 3:return[4,Cr(c,{IdentityId:e||t,Logins:l})];case 4:return r=h.sent(),o=r.Credentials,i=o.AccessKeyId,s=o.Expiration,u=o.SecretKey,f=o.SessionToken,d=r.IdentityId,this._identityId=d,e?(Ir.debug("The guest identity ".concat(e," has been successfully linked to the logins")),e===d&&Ir.debug("The guest identity ".concat(e," has become the primary identity")),[4,this._removeGuestIdentityId()]):[3,6];case 5:h.sent(),h.label=6;case 6:return[2,{accessKeyId:i,secretAccessKey:u,sessionToken:f,expiration:s,identityId:d}]}}))})).catch((function(e){return Nr(t,void 0,void 0,(function(){return Or(this,(function(t){throw e}))}))}));return this._loadCredentials(u,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var o=this,i=this;return new Promise((function(a,s){e.then((function(e){return Nr(o,void 0,void 0,(function(){var o,s,l,c,u;return Or(this,(function(f){switch(f.label){case 0:if(Ir.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),i._credentials=e,i._credentials.authenticated=n,i._credentials_source=t,i._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){o=Object.assign({id:this._credentials.identityId},r.user),s=r.provider,l=r.token,c=r.expires_at,u=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:s,token:l,user:o,expires_at:c,identity_id:u}))}catch(e){Ir.debug("Failed to put federated info into auth storage",e)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:f.sent(),f.label=2;case 2:return a(i._credentials),[2]}}))}))})).catch((function(t){if(t)return Ir.debug("Failed to load credentials",e),Ir.debug("Error loading credentials",t),void s(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(Ir.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return Nr(this,void 0,void 0,(function(){return Or(this,(function(e){return this._credentials=null,this._credentials_source=null,Ir.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return Nr(this,void 0,void 0,(function(){var e,t;return Or(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),Ir.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return Nr(this,void 0,void 0,(function(){var t,n;return Or(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),Ir.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return Nr(this,void 0,void 0,(function(){var e;return Or(this,(function(t){return e=this._config.identityPoolId,Ir.debug("removing ".concat(this._getCognitoIdentityIdStorageKey(e)," from storage")),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}())(null);te.register(Lr);var Mr,jr={},Dr=function(){if(Mr)return jr;Mr=1,jr.parse=function(e,n){if("string"!=typeof e)throw new TypeError("argument str must be a string");var r={},o=e.length;if(o<2)return r;var i=n&&n.decode||l,u=0,f=0,d=0;do{if(-1===(f=e.indexOf("=",u)))break;if(-1===(d=e.indexOf(";",u)))d=o;else if(f>d){u=e.lastIndexOf(";",f-1)+1;continue}var h=a(e,u,f),p=s(e,f,h),m=e.slice(h,p);if(!t.call(r,m)){var g=a(e,f+1,d),y=s(e,d,g);34===e.charCodeAt(g)&&34===e.charCodeAt(y-1)&&(g++,y--);var v=e.slice(g,y);r[m]=c(v,i)}u=d+1}while(u<o);return r},jr.serialize=function(t,a,s){var l=s&&s.encode||encodeURIComponent;if("function"!=typeof l)throw new TypeError("option encode is invalid");if(!n.test(t))throw new TypeError("argument name is invalid");var c=l(a);if(!r.test(c))throw new TypeError("argument val is invalid");var u=t+"="+c;if(!s)return u;if(null!=s.maxAge){var f=Math.floor(s.maxAge);if(!isFinite(f))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+f}if(s.domain){if(!o.test(s.domain))throw new TypeError("option domain is invalid");u+="; Domain="+s.domain}if(s.path){if(!i.test(s.path))throw new TypeError("option path is invalid");u+="; Path="+s.path}if(s.expires){var d=s.expires;if(!function(t){return"[object Date]"===e.call(t)}(d)||isNaN(d.valueOf()))throw new TypeError("option expires is invalid");u+="; Expires="+d.toUTCString()}if(s.httpOnly&&(u+="; HttpOnly"),s.secure&&(u+="; Secure"),s.partitioned&&(u+="; Partitioned"),s.priority)switch("string"==typeof s.priority?s.priority.toLowerCase():s.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return u};var e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,r=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/;function a(e,t,n){do{var r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<n);return n}function s(e,t,n){for(;t>n;){var r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return n}function l(e){return-1!==e.indexOf("%")?decodeURIComponent(e):e}function c(e,t){try{return t(e)}catch(t){return e}}return jr}();function Ur(e,t={}){const n=function(e){return e&&"j"===e[0]&&":"===e[1]?e.substr(2):e}(e);if(!t.doNotParse)try{return JSON.parse(n)}catch(e){}return e}class Fr{constructor(e,t={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const e=this.cookies;this.cookies=Dr.parse(document.cookie),this._checkChanges(e)};const n="undefined"==typeof document?"":document.cookie;this.cookies=function(e){return"string"==typeof e?Dr.parse(e):"object"==typeof e&&null!==e?e:{}}(e||n),this.defaultSetOptions=t,this.HAS_DOCUMENT_COOKIE=function(){const e=void 0===o.g?void 0:o.g.TEST_HAS_DOCUMENT_COOKIE;return"boolean"==typeof e?e:"object"==typeof document&&"string"==typeof document.cookie}()}_emitChange(e){for(let t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)}_checkChanges(e){new Set(Object.keys(e).concat(Object.keys(this.cookies))).forEach((t=>{e[t]!==this.cookies[t]&&this._emitChange({name:t,value:Ur(this.cookies[t])})}))}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(e,t={}){return t.doNotUpdate||this.update(),Ur(this.cookies[e],t)}getAll(e={}){e.doNotUpdate||this.update();const t={};for(let n in this.cookies)t[n]=Ur(this.cookies[n],e);return t}set(e,t,n){n=n?Object.assign(Object.assign({},this.defaultSetOptions),n):this.defaultSetOptions;const r="string"==typeof t?t:JSON.stringify(t);this.cookies=Object.assign(Object.assign({},this.cookies),{[e]:r}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Dr.serialize(e,r,n)),this._emitChange({name:e,value:t,options:n})}remove(e,t){const n=t=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Dr.serialize(e,"",n)),this._emitChange({name:e,value:void 0,options:t})}addChangeListener(e){this.changeListeners.push(e),this.HAS_DOCUMENT_COOKIE&&1===this.changeListeners.length&&("object"==typeof window&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(e){const t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1),this.HAS_DOCUMENT_COOKIE&&0===this.changeListeners.length&&("object"==typeof window&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}var Br,zr=function(){return zr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},zr.apply(this,arguments)},Vr=Ht().isBrowser,Hr=function(){function e(e){void 0===e&&(e={}),this.cookies=new Fr,this.store=Vr?window.localStorage:Object.create(null),this.cookies=e.req?new Fr(decodeURIComponent(e.req.headers.cookie)):new Fr,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!1,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){this.setLocalItem(e,t);var n=e.split(".").pop();["LastAuthUser","accessToken","refreshToken","idToken"].includes(null!=n?n:"")&&this.setUniversalItem(e,t,{expires:new Date(Date.now()+31536e6)})},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t,n){void 0===n&&(n={}),this.cookies.set(e,t,zr(zr({},n),{path:"/",sameSite:!0,secure:!Vr||"localhost"!==window.location.hostname}))},e}(),qr=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,o=t.Password,i=t.AuthParameters,a=t.ClientMetadata;this.validationData=n||{},this.authParameters=i||{},this.clientMetadata=a||{},this.username=r,this.password=o}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),Wr=o(8598);if("undefined"!=typeof window&&window.crypto&&(Br=window.crypto),!Br&&"undefined"!=typeof window&&window.msCrypto&&(Br=window.msCrypto),!Br&&void 0!==o.g&&o.g.crypto&&(Br=o.g.crypto),!Br)try{Br=o(5682)}catch(e){}function Gr(){if(Br){if("function"==typeof Br.getRandomValues)try{return Br.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof Br.randomBytes)try{return Br.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}var Yr=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(Gr());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")}(this)},e}(),$r=o(3523);const Kr=Zr;function Zr(e,t){null!=e&&this.fromString(e,t)}function Jr(){return new Zr(null)}var Qr,Xr="undefined"!=typeof navigator;Xr&&"Microsoft Internet Explorer"==navigator.appName?(Zr.prototype.am=function(e,t,n,r,o,i){for(var a=32767&t,s=t>>15;--i>=0;){var l=32767&this[e],c=this[e++]>>15,u=s*l+c*a;o=((l=a*l+((32767&u)<<15)+n[r]+(1073741823&o))>>>30)+(u>>>15)+s*c+(o>>>30),n[r++]=1073741823&l}return o},Qr=30):Xr&&"Netscape"!=navigator.appName?(Zr.prototype.am=function(e,t,n,r,o,i){for(;--i>=0;){var a=t*this[e++]+n[r]+o;o=Math.floor(a/67108864),n[r++]=67108863&a}return o},Qr=26):(Zr.prototype.am=function(e,t,n,r,o,i){for(var a=16383&t,s=t>>14;--i>=0;){var l=16383&this[e],c=this[e++]>>14,u=s*l+c*a;o=((l=a*l+((16383&u)<<14)+n[r]+o)>>28)+(u>>14)+s*c,n[r++]=268435455&l}return o},Qr=28),Zr.prototype.DB=Qr,Zr.prototype.DM=(1<<Qr)-1,Zr.prototype.DV=1<<Qr,Zr.prototype.FV=Math.pow(2,52),Zr.prototype.F1=52-Qr,Zr.prototype.F2=2*Qr-52;var eo,to,no=new Array;for(eo="0".charCodeAt(0),to=0;to<=9;++to)no[eo++]=to;for(eo="a".charCodeAt(0),to=10;to<36;++to)no[eo++]=to;for(eo="A".charCodeAt(0),to=10;to<36;++to)no[eo++]=to;function ro(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function oo(e,t){var n=no[e.charCodeAt(t)];return null==n?-1:n}function io(e){var t=Jr();return t.fromInt(e),t}function ao(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function so(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function lo(e){return Wr.hp.from((new Yr).random(e).toString(),"hex")}so.prototype.convert=function(e){var t=Jr();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Zr.ZERO)>0&&this.m.subTo(t,t),t},so.prototype.revert=function(e){var t=Jr();return e.copyTo(t),this.reduce(t),t},so.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},so.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},so.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},Zr.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},Zr.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},Zr.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,o=!1,i=0;--r>=0;){var a=oo(e,r);a<0?"-"==e.charAt(r)&&(o=!0):(o=!1,0==i?this[this.t++]=a:i+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-i)-1)<<i,this[this.t++]=a>>this.DB-i):this[this.t-1]|=a<<i,(i+=n)>=this.DB&&(i-=this.DB))}this.clamp(),o&&Zr.ZERO.subTo(this,this)},Zr.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},Zr.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},Zr.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},Zr.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,o=this.DB-r,i=(1<<o)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>o|s,s=(this[n]&i)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},Zr.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,o=this.DB-r,i=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&i)<<o,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&i)<<o),t.t=this.t-n,t.clamp()}},Zr.prototype.subTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},Zr.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),o=n.t;for(t.t=o+r.t;--o>=0;)t[o]=0;for(o=0;o<r.t;++o)t[o+n.t]=n.am(0,r[o],t,o,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&Zr.ZERO.subTo(t,t)},Zr.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},Zr.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var o=this.abs();if(o.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=Jr());var i=Jr(),a=this.s,s=e.s,l=this.DB-ao(r[r.t-1]);l>0?(r.lShiftTo(l,i),o.lShiftTo(l,n)):(r.copyTo(i),o.copyTo(n));var c=i.t,u=i[c-1];if(0!=u){var f=u*(1<<this.F1)+(c>1?i[c-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,p=1<<this.F2,m=n.t,g=m-c,y=null==t?Jr():t;for(i.dlShiftTo(g,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),Zr.ONE.dlShiftTo(c,y),y.subTo(i,i);i.t<c;)i[i.t++]=0;for(;--g>=0;){var v=n[--m]==u?this.DM:Math.floor(n[m]*d+(n[m-1]+p)*h);if((n[m]+=i.am(0,v,n,g,0,c))<v)for(i.dlShiftTo(g,y),n.subTo(y,n);n[m]<--v;)n.subTo(y,n)}null!=t&&(n.drShiftTo(c,t),a!=s&&Zr.ZERO.subTo(t,t)),n.t=c,n.clamp(),l>0&&n.rShiftTo(l,n),a<0&&Zr.ZERO.subTo(n,n)}}},Zr.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},Zr.prototype.addTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},Zr.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,o=!1,i="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(o=!0,i=ro(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(o=!0),o&&(i+=ro(n));return o?i:"0"},Zr.prototype.negate=function(){var e=Jr();return Zr.ZERO.subTo(this,e),e},Zr.prototype.abs=function(){return this.s<0?this.negate():this},Zr.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},Zr.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+ao(this[this.t-1]^this.s&this.DM)},Zr.prototype.mod=function(e){var t=Jr();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Zr.ZERO)>0&&e.subTo(t,t),t},Zr.prototype.equals=function(e){return 0==this.compareTo(e)},Zr.prototype.add=function(e){var t=Jr();return this.addTo(e,t),t},Zr.prototype.subtract=function(e){var t=Jr();return this.subTo(e,t),t},Zr.prototype.multiply=function(e){var t=Jr();return this.multiplyTo(e,t),t},Zr.prototype.divide=function(e){var t=Jr();return this.divRemTo(e,t,null),t},Zr.prototype.modPow=function(e,t,n){var r,o=e.bitLength(),i=io(1),a=new so(t);if(o<=0)return i;r=o<18?1:o<48?3:o<144?4:o<768?5:6;var s=new Array,l=3,c=r-1,u=(1<<r)-1;if(s[1]=a.convert(this),r>1){var f=Jr();for(a.sqrTo(s[1],f);l<=u;)s[l]=Jr(),a.mulTo(f,s[l-2],s[l]),l+=2}var d,h,p=e.t-1,m=!0,g=Jr();for(o=ao(e[p])-1;p>=0;){for(o>=c?d=e[p]>>o-c&u:(d=(e[p]&(1<<o+1)-1)<<c-o,p>0&&(d|=e[p-1]>>this.DB+o-c)),l=r;!(1&d);)d>>=1,--l;if((o-=l)<0&&(o+=this.DB,--p),m)s[d].copyTo(i),m=!1;else{for(;l>1;)a.sqrTo(i,g),a.sqrTo(g,i),l-=2;l>0?a.sqrTo(i,g):(h=i,i=g,g=h),a.mulTo(g,s[d],i)}for(;p>=0&&!(e[p]&1<<o);)a.sqrTo(i,g),h=i,i=g,g=h,--o<0&&(o=this.DB-1,--p)}var y=a.revert(i);return n(null,y),y},Zr.ZERO=io(0),Zr.ONE=io(1);var co=/^[89a-f]/i,uo=function(){function e(e){this.N=new Kr("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new Kr("2",16),this.k=new Kr(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=Wr.hp.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=lo(128).toString("hex");return new Kr(e,16)},t.generateRandomString=function(){return lo(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var o=""+e+t+":"+this.randomPassword,i=this.hash(o),a=lo(16).toString("hex");this.SaltToHashDevices=this.padHex(new Kr(a,16)),this.g.modPow(new Kr(this.hexHash(this.SaltToHashDevices+i),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(Kr.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new Kr(this.UHexHash,16)},t.hash=function(e){var t=new $r.Sha256;t.update(e);var n=t.digestSync(),r=Wr.hp.from(n).toString("hex");return new Array(64-r.length).join("0")+r},t.hexHash=function(e){return this.hash(Wr.hp.from(e,"hex"))},t.computehkdf=function(e,t){var n=Wr.hp.concat([this.infoBits,Wr.hp.from(String.fromCharCode(1),"utf8")]),r=new $r.Sha256(t);r.update(e);var o=r.digestSync(),i=new $r.Sha256(o);return i.update(n),i.digestSync().slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,o){var i=this;if(n.mod(this.N).equals(Kr.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(Kr.ZERO))throw new Error("U cannot be zero.");var a=""+this.poolName+e+":"+t,s=this.hash(a),l=new Kr(this.hexHash(this.padHex(r)+s),16);this.calculateS(l,n,(function(e,t){e&&o(e,null);var n=i.computehkdf(Wr.hp.from(i.padHex(t),"hex"),Wr.hp.from(i.padHex(i.UValue),"hex"));o(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(o,i){o&&n(o,null),t.subtract(r.k.multiply(i)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof Kr))throw new Error("Not a BigInteger");var t=e.compareTo(Kr.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=co.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new Kr(r,16).add(Kr.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),fo=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(Wr.hp.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function ho(e,t){return ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ho(e,t)}var po=function(e){function t(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,ho(n,r),t}(fo);function mo(e,t){return mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mo(e,t)}var go=function(e){function t(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,mo(n,r),t}(fo),yo=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),vo="aws-amplify/5.0.4",bo="undefined"!=typeof navigator&&"ReactNative"===navigator.product,wo=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,o=t.AccessToken,i=t.ClockDrift;if(null==o||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=o,this.clockDrift=void 0===i?this.calculateClockDrift():i}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),xo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Eo=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],So=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=Eo[e.getUTCDay()],n=xo[e.getUTCMonth()],r=e.getUTCDate(),o=e.getUTCHours();o<10&&(o="0"+o);var i=e.getUTCMinutes();i<10&&(i="0"+i);var a=e.getUTCSeconds();return a<10&&(a="0"+a),t+" "+n+" "+r+" "+o+":"+i+":"+a+" UTC "+e.getUTCFullYear()},e}(),ko=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),Co={},Po=function(){function e(){}return e.setItem=function(e,t){return Co[e]=t,Co[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(Co,e)?Co[e]:void 0},e.removeItem=function(e){return delete Co[e]},e.clear=function(){return Co={}},e}(),Ao=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=Po}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),To="undefined"!=typeof navigator?bo?"react-native":navigator.userAgent:"nodejs",_o=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new Ao).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),i={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",i,(function(e,r){if(e)return t.onFailure(e);var o=r.ChallengeName,i=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===o?(n.Session=r.Session,t.customChallenge(i)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,o=this,i=new uo(this.pool.getUserPoolName()),a=new So,s={};null!=this.deviceKey&&(s.DEVICE_KEY=this.deviceKey),s.USERNAME=this.username,i.getLargeAValue((function(l,c){l&&t.onFailure(l),s.SRP_A=c.toString(16),"CUSTOM_AUTH"===o.authenticationFlowType&&(s.CHALLENGE_NAME="SRP_A");var u=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),f={AuthFlow:o.authenticationFlowType,ClientId:o.pool.getClientId(),AuthParameters:s,ClientMetadata:u};o.getUserContextData(o.username)&&(f.UserContextData=o.getUserContextData(o.username)),o.client.request("InitiateAuth",f,(function(s,l){if(s)return t.onFailure(s);var c=l.ChallengeParameters;o.username=c.USER_ID_FOR_SRP,o.userDataKey=o.keyPrefix+"."+o.username+".userData",n=new Kr(c.SRP_B,16),r=new Kr(c.SALT,16),o.getCachedDeviceKeyAndPassword(),i.getPasswordAuthenticationKey(o.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=a.getNowString(),s=Wr.hp.concat([Wr.hp.from(o.pool.getUserPoolName(),"utf8"),Wr.hp.from(o.username,"utf8"),Wr.hp.from(c.SECRET_BLOCK,"base64"),Wr.hp.from(r,"utf8")]),f=new $r.Sha256(n);f.update(s);var d=f.digestSync(),h=Wr.hp.from(d).toString("base64"),p={};p.USERNAME=o.username,p.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,p.TIMESTAMP=r,p.PASSWORD_CLAIM_SIGNATURE=h,null!=o.deviceKey&&(p.DEVICE_KEY=o.deviceKey);var m=function(e,t){return o.client.request("RespondToAuthChallenge",e,(function(n,r){return n&&"ResourceNotFoundException"===n.code&&-1!==n.message.toLowerCase().indexOf("device")?(p.DEVICE_KEY=null,o.deviceKey=null,o.randomPassword=null,o.deviceGroupKey=null,o.clearCachedDeviceKeyAndPassword(),m(e,t)):t(n,r)}))},g={ChallengeName:"PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:p,Session:l.Session,ClientMetadata:u};o.getUserContextData()&&(g.UserContextData=o.getUserContextData()),m(g,(function(e,n){return e?t.onFailure(e):o.authenticateUserInternal(n,i,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var o=new uo(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),a={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData(this.username)&&(a.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",a,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,o,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,o=e.ChallengeName,i=e.ChallengeParameters;if("SMS_MFA"===o)return this.Session=e.Session,n.mfaRequired(o,i);if("SELECT_MFA_TYPE"===o)return this.Session=e.Session,n.selectMFAType(o,i);if("MFA_SETUP"===o)return this.Session=e.Session,n.mfaSetup(o,i);if("SOFTWARE_TOKEN_MFA"===o)return this.Session=e.Session,n.totpRequired(o,i);if("CUSTOM_CHALLENGE"===o)return this.Session=e.Session,n.customChallenge(i);if("NEW_PASSWORD_REQUIRED"===o){this.Session=e.Session;var a=null,s=null,l=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(i&&(a=JSON.parse(e.ChallengeParameters.userAttributes),s=JSON.parse(e.ChallengeParameters.requiredAttributes)),s)for(var u=0;u<s.length;u++)l[u]=s[u].substr(c.length);return n.newPasswordRequired(a,l)}if("DEVICE_SRP_AUTH"===o)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=o,this.cacheTokens();var f=e.AuthenticationResult.NewDeviceMetadata;if(null==f)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(o){if(o)return n.onFailure(o);var i={Salt:Wr.hp.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Wr.hp.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=i.PasswordVerifier,r.deviceGroupKey=f.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:f.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:i,DeviceName:To},(function(t,o){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===o.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,o.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var o=this;if(!e)return n.onFailure(new Error("New password is required."));var i=new uo(this.pool.getUserPoolName()),a=i.getNewPasswordRequiredChallengeUserAttributePrefix(),s={};t&&Object.keys(t).forEach((function(e){s[a+e]=t[e]})),s.NEW_PASSWORD=e,s.USERNAME=this.username;var l={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:s,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",l,(function(e,t){return e?n.onFailure(e):o.authenticateUserInternal(t,i,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new uo(this.deviceGroupKey),o=new So,i={};i.USERNAME=this.username,i.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(a,s){a&&e.onFailure(a),i.SRP_A=s.toString(16);var l={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:i,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(l.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",l,(function(t,i){if(t)return e.onFailure(t);var a=i.ChallengeParameters,s=new Kr(a.SRP_B,16),l=new Kr(a.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,s,l,(function(t,r){if(t)return e.onFailure(t);var s=o.getNowString(),l=Wr.hp.concat([Wr.hp.from(n.deviceGroupKey,"utf8"),Wr.hp.from(n.deviceKey,"utf8"),Wr.hp.from(a.SECRET_BLOCK,"base64"),Wr.hp.from(s,"utf8")]),c=new $r.Sha256(r);c.update(l);var u=c.digestSync(),f=Wr.hp.from(u).toString("base64"),d={};d.USERNAME=n.username,d.PASSWORD_CLAIM_SECRET_BLOCK=a.SECRET_BLOCK,d.TIMESTAMP=s,d.PASSWORD_CLAIM_SIGNATURE=f,d.DEVICE_KEY=n.deviceKey;var h={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:d,Session:i.Session};n.getUserContextData()&&(h.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",h,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var o={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",o,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,o={};o.USERNAME=this.username,o.ANSWER=e;var i=new uo(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,i,t)}))},t.sendMFACode=function(e,t,n,r){var o=this,i={};i.USERNAME=this.username,i.SMS_MFA_CODE=e;var a=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===a&&(i.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:a,ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(o.signInUserSession=o.getCognitoUserSession(n.AuthenticationResult),o.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(o.signInUserSession);var r=new uo(o.pool.getUserPoolName());r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var i={Salt:Wr.hp.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Wr.hp.from(r.getVerifierDevices(),"hex").toString("base64")};o.verifierDevices=i.PasswordVerifier,o.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,o.randomPassword=r.getRandomPassword(),o.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:o.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:i,DeviceName:To},(function(e,r){return e?t.onFailure(e):(o.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,o.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(o.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(o.signInUserSession))}))}))}else o.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e,n){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS",n)}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],o=0;o<n.UserAttributes.length;o++){var i={Name:n.UserAttributes[o].Name,Value:n.UserAttributes[o].Value},a=new ko(i);r.push(a)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",o=n+".accessToken",i=n+".refreshToken",a=n+".clockDrift";if(this.storage.getItem(r)){var s=new go({IdToken:this.storage.getItem(r)}),l=new po({AccessToken:this.storage.getItem(o)}),c=new yo({RefreshToken:this.storage.getItem(i)}),u=parseInt(this.storage.getItem(a),0)||0,f=new wo({IdToken:s,AccessToken:l,RefreshToken:c,ClockDrift:u});if(f.isValid())return this.signInUserSession=f,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,o=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,i={};i.REFRESH_TOKEN=e.getToken();var a="CognitoIdentityServiceProvider."+this.pool.getClientId(),s=a+".LastAuthUser";if(this.storage.getItem(s)){this.username=this.storage.getItem(s);var l=a+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(l),i.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:i,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.requestWithRetry("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),o(t,null);if(n){var i=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(i,"RefreshToken")||(i.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(i),r.cacheTokens(),o(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",o=e+"."+this.username+".clockDrift",i=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(o,""+this.signInUserSession.getClockDrift()),this.storage.setItem(i,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",o=e+".LastAuthUser",i=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(o),this.storage.removeItem(i)},t.getCognitoUserSession=function(e){var t=new go(e),n=new po(e),r=new yo(e);return new wo({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var o={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",o,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"==typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var o={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",o,(function(r,o){return r?t.onFailure(r):(n.Session=o.Session,"SMS_MFA"===e?t.mfaRequired(o.ChallengeName,o.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(o.ChallengeName,o.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var o={};o.USERNAME=r.username;var i={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:o,Session:r.Session};r.getUserContextData()&&(i.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",i,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}();function No(){}No.prototype.userAgent=vo;var Oo=function(e){No.framework=e};function Io(e){var t="function"==typeof Map?new Map:void 0;return Io=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Ro())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&Lo(o,n.prototype),o}(e,arguments,Mo(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Lo(n,e)},Io(e)}function Ro(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ro=function(){return!!e})()}function Lo(e,t){return Lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lo(e,t)}function Mo(e){return Mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mo(e)}var jo=function(e){function t(t,n,r,o){var i;return(i=e.call(this,t)||this).code=n,i.name=r,i.statusCode=o,i}return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,Lo(n,r),t;var n,r}(Io(Error)),Do=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,o){n.request(e,t,(function(e,t){e?o(new jo(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r,o,i=this;(r=[t],o=5e3,void 0===o&&(o=zo),Bo((function(t){return new Promise((function(n,r){i.request(e,t,(function(e,t){e?r(e):n(t)}))}))}),r,function(e){return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(o))).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,o,i,a={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":(r=No.category?" "+No.category:"",o=No.framework?" framework/"+No.framework:"",""+No.prototype.userAgent+r+o),"Cache-Control":"no-store"},s=Object.assign({},this.fetchOptions,{headers:a,method:"POST",mode:"cors",body:JSON.stringify(t)});fetch(this.endpoint,s).then((function(e){return i=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(i.ok)return n(null,e);var t=(e.__type||e.code).split("#").pop(),r=new Error(e.message||e.Message||null);return r.name=t,r.code=t,n(r)})).catch((function(e){if(i&&i.headers&&i.headers.get("x-amzn-errortype"))try{var t=i.headers.get("x-amzn-errortype").split(":")[0],r=new Error(i.status?i.status.toString():null);return r.code=t,r.name=t,r.statusCode=i.status,n(r)}catch(t){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}(),Uo={debug:function(){}},Fo=function(e){return e&&e.nonRetryable};function Bo(e,t,n,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return Uo.debug(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch((function(o){if(Uo.debug("error on "+e.name,o),Fo(o))throw Uo.debug(e.name+" non retryable error",o),o;var i=n(r,t,o);if(Uo.debug(e.name+" retrying in "+i+" ms"),!1!==i)return new Promise((function(e){return setTimeout(e,i)})).then((function(){return Bo(e,t,n,r+1)}));throw o}))}var zo=3e5,Vo=function(){function e(e,t){var n=e||{},r=n.UserPoolId,o=n.ClientId,i=n.endpoint,a=n.fetchOptions,s=n.AdvancedSecurityDataCollectionFlag;if(!r||!o)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var l=r.split("_")[0];this.userPoolId=r,this.clientId=o,this.client=new Do(l,i,a),this.advancedSecurityDataCollectionFlag=!1!==s,this.storage=e.Storage||(new Ao).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,o,i){var a=this,s={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:i};this.getUserContextData(e)&&(s.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",s,(function(t,n){if(t)return o(t,null);var r={Username:e,Pool:a,Storage:a.storage},i={user:new _o(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return o(null,i)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new _o(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),Ho=o(2215),qo=function(){function e(e){if(void 0===e&&(e={}),e.domain&&(this.domain=e.domain),e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),Ho.set(e,t,n),Ho.get(e)},t.getItem=function(e){return Ho.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),Ho.remove(e,t)},t.clear=function(){for(var e=Ho.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}(),Wo=o(1704),Go=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},Yo=o(7094),$o=("undefined"!=typeof Symbol&&"function"==typeof Symbol.for&&Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"),"undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default"),Ko=function(e,t,n){Ut.dispatch("auth",{event:e,data:t,message:n},"Auth",$o)},Zo=new X("OAuth");const Jo=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,o=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||Go,this._config=t,this._cognitoClientId=n,!this.isValidScopes(o))throw Error("scopes must be a String Array");this._scopes=o}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))},e.prototype.oauthSignIn=function(e,t,n,r,o,i){void 0===e&&(e="code"),void 0===o&&(o=St.Cognito);var a=this._generateState(32),s=i?a+"-"+i.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join(""):a;!function(e){window.sessionStorage.setItem("oauth_state",e)}(s);var l,c=this._generateRandom(128);l=c,window.sessionStorage.setItem("ouath_pkce_key",l);var u=this._generateChallenge(c),f=this._scopes.join(" "),d="https://"+t+"/oauth2/authorize?"+Object.entries((0,_t.__assign)((0,_t.__assign)({redirect_uri:n,response_type:e,client_id:r,identity_provider:o,scope:f,state:s},"code"===e?{code_challenge:u}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=(0,_t.__read)(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&");Zo.debug("Redirecting to "+d),this._urlOpener(d,n)},e.prototype._handleCodeFlow=function(e){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,c,u,f,d,h,p,m,g;return(0,_t.__generator)(this,(function(y){switch(y.label){case 0:return t=((0,Wo.qg)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=(0,_t.__read)(t,2),o=r[0],i=r[1];return(0,_t.__assign)((0,_t.__assign)({},e),((n={})[o]=i,n))}),{code:void 0}).code,n=(0,Wo.qg)(e).pathname||"/",r=(0,Wo.qg)(this._config.redirectSignIn).pathname||"/",t&&n===r?(o="https://"+this._config.domain+"/oauth2/token",Ko("codeFlow",{},"Retrieving tokens from "+o),i=Ot(this._config)?this._cognitoClientId:this._config.clientID,a=Ot(this._config)?this._config.redirectSignIn:this._config.redirectUri,v=window.sessionStorage.getItem("ouath_pkce_key"),window.sessionStorage.removeItem("ouath_pkce_key"),s=v,l=(0,_t.__assign)({grant_type:"authorization_code",code:t,client_id:i,redirect_uri:a},s?{code_verifier:s}:{}),Zo.debug("Calling token endpoint: "+o+" with",l),c=Object.entries(l).map((function(e){var t=(0,_t.__read)(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),u={category:tn.Auth,action:ln.FederatedSignIn},[4,fetch(o,{method:"POST",headers:(g={"Content-Type":"application/x-www-form-urlencoded"},g["x-amz-user-agent"]=yr(u),g),body:c})]):[2];case 1:return[4,y.sent().json()];case 2:if(f=y.sent(),d=f.access_token,h=f.refresh_token,p=f.id_token,m=f.error)throw new Error(m);return[2,{accessToken:d,refreshToken:h,idToken:p}]}var v}))}))},e.prototype._handleImplicitFlow=function(e){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,_t.__generator)(this,(function(o){return t=((0,Wo.qg)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=(0,_t.__read)(t,2),o=r[0],i=r[1];return(0,_t.__assign)((0,_t.__assign)({},e),((n={})[o]=i,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,Ko("implicitFlow",{},"Got tokens from "+e),Zo.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return(0,_t.__generator)(this,(function(l){switch(l.label){case 0:if(l.trys.push([0,5,,6]),t=e?(0,_t.__assign)((0,_t.__assign)({},((0,Wo.qg)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=(0,_t.__read)(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})),((0,Wo.qg)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=(0,_t.__read)(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return o=this._validateState(t),Zo.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(i=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,_t.__assign.apply(void 0,[_t.__assign.apply(void 0,i.concat([l.sent()])),{state:o}])];case 2:return a=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,_t.__assign.apply(void 0,[_t.__assign.apply(void 0,a.concat([l.sent()])),{state:o}])];case 4:return[3,6];case 5:throw s=l.sent(),Zo.debug("Error handling auth response.",s),s;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t,n=(t=window.sessionStorage.getItem("oauth_state"),window.sessionStorage.removeItem("oauth_state"),t),r=e.state;if(n&&n!==r)throw new Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,_t.__generator)(this,(function(r){return e="https://"+this._config.domain+"/logout?",t=Ot(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=Ot(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=(0,_t.__read)(e,2);return t[0]+"="+t[1]})).join("&"),Ko("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),Zo.debug("Signing out from "+e),[2,this._urlOpener(e,n)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e;n>0;--n)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.round(61*Math.random())];return t},e.prototype._generateChallenge=function(e){var t=new $r.Sha256;t.update(e);var n=t.digestSync(),r=Yo.hp.from(n).toString("base64");return this._base64URL(r)},e.prototype._base64URL=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=66*Math.random()|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t=[],n=0;n<e.byteLength;n+=1){var r=e[n]%62;t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[r])}return t.join("")},e}();var Qo,Xo;(Xo=Qo||(Qo={})).DEFAULT_MSG="Authentication Error",Xo.EMPTY_EMAIL="Email cannot be empty",Xo.EMPTY_PHONE="Phone number cannot be empty",Xo.EMPTY_USERNAME="Username cannot be empty",Xo.INVALID_USERNAME="The username should either be a string or one of the sign in types",Xo.EMPTY_PASSWORD="Password cannot be empty",Xo.EMPTY_CODE="Confirmation code cannot be empty",Xo.SIGN_UP_ERROR="Error creating account",Xo.NO_MFA="No valid MFA method provided",Xo.INVALID_MFA="Invalid MFA type",Xo.EMPTY_CHALLENGE="Challenge response cannot be empty",Xo.NO_USER_SESSION="Failed to get the session because the user is empty",Xo.NETWORK_ERROR="Network Error",Xo.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",Xo.AUTOSIGNIN_ERROR="Please use your credentials to sign in";var ei=new X("AuthError"),ti=function(e){function t(n){var r=this,o=ri[n],i=o.message,a=o.log;return(r=e.call(this,i)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=a||i,ei.error(r.log),r}return(0,_t.__extends)(t,e),t}(Error),ni=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return(0,_t.__extends)(t,e),t}(ti),ri={noConfig:{message:Qo.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:Qo.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:Qo.EMPTY_USERNAME},invalidUsername:{message:Qo.INVALID_USERNAME},emptyPassword:{message:Qo.EMPTY_PASSWORD},emptyCode:{message:Qo.EMPTY_CODE},signUpError:{message:Qo.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:Qo.NO_MFA},invalidMFA:{message:Qo.INVALID_MFA},emptyChallengeResponse:{message:Qo.EMPTY_CHALLENGE},noUserSession:{message:Qo.NO_USER_SESSION},deviceConfig:{message:Qo.DEVICE_CONFIG},networkError:{message:Qo.NETWORK_ERROR},autoSignInError:{message:Qo.AUTOSIGNIN_ERROR},default:{message:Qo.DEFAULT_MSG}},oi=new X("AuthClass"),ii="aws.cognito.signin.user.admin",ai="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",si=function(e,t,n){Ut.dispatch("auth",{event:e,data:t,message:n},"Auth",ai)},li=new(function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.inflightSessionPromise=null,this.inflightSessionPromiseCounter=0,this.Credentials=Lr,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?si("tokenRefresh",void 0,"New token retrieved"):si("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),Ut.listen("auth",(function(e){switch(e.payload.event){case"verify":case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}})),No.category="auth",Oo(gr.framework),gr.observeFrameworkChanges((function(){Oo(gr.framework)}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};oi.debug("configure Auth");var n=Object.assign({},this._config,Tr(e).Auth,e);this._config=n;var r=this._config,o=r.userPoolId,i=r.userPoolWebClientId,a=r.cookieStorage,s=r.oauth,l=r.region,c=r.identityPoolId,u=r.mandatorySignIn,f=r.refreshHandlers,d=r.identityPoolRegion,h=r.clientMetadata,p=r.endpoint,m=r.storage;if(m){if(!this._isValidAuthStorage(m))throw oi.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=m}else this._storage=a?new qo(a):e.ssr?new Hr:(new zt).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),o){var g={UserPoolId:o,ClientId:i,endpoint:p};g.Storage=this._storage,this.userPool=new Vo(g,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:u,region:l,userPoolId:o,identityPoolId:c,refreshHandlers:f,storage:this._storage,identityPoolRegion:d});var y=s?Ot(this._config.oauth)?s:s.awsCognito:void 0;if(y){var v=Object.assign({cognitoClientId:i,UserPoolId:o,domain:y.domain,scopes:y.scope,redirectSignIn:y.redirectSignIn,redirectSignOut:y.redirectSignOut,responseType:y.responseType,Storage:this._storage,urlOpener:y.urlOpener,clientMetadata:h},y.options);this._oAuthHandler=new Jo({scopes:v.scopes,config:v,cognitoClientId:v.cognitoClientId});var b={};!function(){if(Ht().isBrowser&&window.location)!function(e){var n=e.url;b[n]||(b[n]=!0,t._handleAuthResponse(n))}({url:window.location.href});else if(!Ht().isNode)throw new Error("Not supported")}()}return si("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!=typeof this._storage.getItem||(this.isTrueStorageValue("amplify-polling-started")&&(si("autoSignIn_failure",null,Ct.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")),this._config},e.prototype.signUp=function(e){for(var t,n,r,o=this,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(!this.userPool)return this.rejectNoUserPool();var s,l=null,c=null,u=[],f=null,d={enabled:!1},h={},p={};if(e&&"string"==typeof e){l=e,c=i?i[0]:null;var m=i?i[1]:null,g=i?i[2]:null;m&&u.push(new ko({Name:"email",Value:m})),g&&u.push(new ko({Name:"phone_number",Value:g}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(Ct.SignUpError);l=e.username,c=e.password,e&&e.clientMetadata?s=e.clientMetadata:this._config.clientMetadata&&(s=this._config.clientMetadata);var y=e.attributes;y&&Object.keys(y).map((function(e){u.push(new ko({Name:e,Value:y[e]}))}));var v=e.validationData;v&&(f=[],Object.keys(v).map((function(e){f.push(new ko({Name:e,Value:v[e]}))}))),(d=null!==(t=e.autoSignIn)&&void 0!==t?t:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),h=null!==(n=d.validationData)&&void 0!==n?n:{},p=null!==(r=d.clientMetaData)&&void 0!==r?r:{})}return l?c?(oi.debug("signUp attrs:",u),oi.debug("signUp validation data:",f),new Promise((function(e,t){o.userPool.signUp(l,c,u,f,(function(n,r){n?(si("signUp_failure",n,l+" failed to signup"),t(n)):(si("signUp",r,l+" has signed up successfully"),d.enabled&&o.handleAutoSignIn(l,c,h,p,r),e(r))}),s)}))):this.rejectAuthError(Ct.EmptyPassword):this.rejectAuthError(Ct.EmptyUsername)},e.prototype.handleAutoSignIn=function(e,t,n,r,o){this.autoSignInInitiated=!0;var i=new qr({Username:e,Password:t,ValidationData:n,ClientMetadata:r});o.userConfirmed?this.signInAfterUserConfirmed(i):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(i):this.handleCodeAutoSignIn(i)},e.prototype.handleCodeAutoSignIn=function(e){var t=this,n=function(r){"confirmSignUp"===r.payload.event&&t.signInAfterUserConfirmed(e,n)};Ut.listen("auth",n)},e.prototype.handleLinkAutoSignIn=function(e){var t=this;this._storage.setItem("amplify-polling-started","true");var n=Date.now(),r=setInterval((function(){Date.now()-n>18e4?(clearInterval(r),si("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),t._storage.removeItem("amplify-auto-sign-in")):t.signInAfterUserConfirmed(e,null,r)}),5e3)},e.prototype.signInAfterUserConfirmed=function(e,t,n){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var r,o,i=this;return(0,_t.__generator)(this,(function(a){switch(a.label){case 0:r=this.createCognitoUser(e.getUsername()),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.authenticateUser(e,this.authCallbacks(r,(function(r){si("autoSignIn",r,e.getUsername()+" has signed in successfully"),t&&Ut.remove("auth",t),n&&(clearInterval(n),i._storage.removeItem("amplify-polling-started")),i._storage.removeItem("amplify-auto-sign-in")}),(function(e){oi.error(e),i._storage.removeItem("amplify-auto-sign-in")})))];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),oi.error(o),[3,4];case 4:return[2]}}))}))},e.prototype.confirmSignUp=function(e,t,n){var r=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Ct.EmptyUsername);if(!t)return this.rejectAuthError(Ct.EmptyCode);var o,i=this.createCognitoUser(e),a=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?o=n.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata),new Promise((function(n,s){i.confirmRegistration(t,a,(function(t,o){t?s(t):(si("confirmSignUp",o,e+" has been confirmed successfully"),r.isTrueStorageValue("amplify-auto-sign-in")&&!r.autoSignInInitiated&&(si("autoSignIn_failure",null,Ct.AutoSignInError),r._storage.removeItem("amplify-auto-sign-in")),n(o))}),o)}))},e.prototype.isTrueStorageValue=function(e){var t=this._storage.getItem(e);return!!t&&"true"===t},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Ct.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,o=null,i={};if("string"==typeof e)r=e,o=t;else{if(!e.username)return this.rejectAuthError(Ct.InvalidUsername);void 0!==t&&oi.warn("The password should be defined under the first parameter object!"),r=e.username,o=e.password,i=e.validationData}if(!r)return this.rejectAuthError(Ct.EmptyUsername);var a=new qr({Username:r,Password:o,ValidationData:i,ClientMetadata:n});return o?this.signInWithPassword(a):this.signInWithoutPassword(a)},e.prototype.authCallbacks=function(e,t,n){var r=this,o=this;return{onSuccess:function(i){return(0,_t.__awaiter)(r,void 0,void 0,(function(){var r,a,s,l;return(0,_t.__generator)(this,(function(c){switch(c.label){case 0:oi.debug(i),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(i,"session")];case 3:return r=c.sent(),oi.debug("succeed to get cognito credentials",r),[3,9];case 4:return a=c.sent(),oi.debug("cannot get cognito credentials",a),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return s=c.sent(),o.user=s,si("signIn",s,"A user "+e.getUsername()+" has been signed in"),t(s),[3,8];case 7:return l=c.sent(),oi.error("Failed to get the signed in user",l),n(l),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){oi.debug("signIn failure",t),si("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){oi.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){oi.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){oi.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){oi.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){oi.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){oi.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,o){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,o(e)})))})),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,o){n.initiateAuth(e,t.authCallbacks(n,r,o))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return oi.debug("get MFA Options failed",e),void n(e);oi.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(o,i){var a=n._config.clientMetadata,s=!!t&&t.bypassCache;e.getUserData((function(t,a){return(0,_t.__awaiter)(n,void 0,void 0,(function(){var n,s;return(0,_t.__generator)(this,(function(l){switch(l.label){case 0:if(!t)return[3,5];if(oi.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return l.sent(),[3,4];case 3:return n=l.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:return(s=r._getMfaTypeFromUserData(a))?(o(s),[2]):(i("invalid MFA Type"),[2])}}))}))}),{bypassCache:s,clientMetadata:a})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;r?0===r.length?t="NOMFA":oi.debug("invalid case for getPreferredMFA",e):t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var n=this;return new Promise((function(r,o){e.getUserData((function(t,i){return(0,_t.__awaiter)(n,void 0,void 0,(function(){var n;return(0,_t.__generator)(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(oi.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return n=a.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:r(i),a.label=6;case 6:return[2]}}))}))}),t)}))},e.prototype.setPreferredMFA=function(e,t){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var n,r,o,i,a,s,l=this;return(0,_t.__generator)(this,(function(c){switch(c.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(r=c.sent(),o=null,i=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return a=r.UserMFASettingList,[4,this._getMfaTypeFromUserData(r)];case 5:if("NOMFA"===(s=c.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===s)o={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==s)return[2,this.rejectAuthError(Ct.InvalidMFA)];i={PreferredMfa:!1,Enabled:!1}}return a&&0!==a.length&&a.forEach((function(e){"SMS_MFA"===e?o={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(i={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return oi.debug("no validmfa method provided"),[2,this.rejectAuthError(Ct.NoMFA)];case 7:return[2,new Promise((function(t,r){e.setUserMfaPreference(o,i,(function(o,i){if(o)return oi.debug("Set user mfa preference error",o),r(o);oi.debug("Set user mfa success",i),oi.debug("Caching the latest user data into local"),e.getUserData((function(n,o){return(0,_t.__awaiter)(l,void 0,void 0,(function(){var o;return(0,_t.__generator)(this,(function(a){switch(a.label){case 0:if(!n)return[3,5];if(oi.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),r(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,r(n)];case 5:return[2,t(i)]}}))}))}),{bypassCache:!0,clientMetadata:n})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return oi.debug("disable mfa failed",e),void n(e);oi.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return oi.debug("enable mfa failed",e),void n(e);oi.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){oi.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){oi.debug("associateSoftwareToken success",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){var n;oi.debug("verification totp token",e,t),e&&"function"==typeof e.getSignInUserSession&&(n=e.getSignInUserSession());var r=null==n?void 0:n.isValid();return new Promise((function(n,o){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){oi.debug("verifyTotpToken failed",e),o(e)},onSuccess:function(t){r||si("signIn",e,"A user "+e.getUsername()+" has been signed in"),si("verify",e,"A user "+e.getUsername()+" has been verified"),oi.debug("verifyTotpToken success",t),n(t)}})}))},e.prototype.confirmSignIn=function(e,t,n,r){var o=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(Ct.EmptyCode);var i=this;return new Promise((function(a,s){e.sendMFACode(t,{onSuccess:function(t){return(0,_t.__awaiter)(o,void 0,void 0,(function(){var n,r,o,s;return(0,_t.__generator)(this,(function(l){switch(l.label){case 0:oi.debug(t),l.label=1;case 1:return l.trys.push([1,4,5,10]),[4,this.Credentials.clear()];case 2:return l.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=l.sent(),oi.debug("succeed to get cognito credentials",n),[3,10];case 4:return r=l.sent(),oi.debug("cannot get cognito credentials",r),[3,10];case 5:i.user=e,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,this.currentUserPoolUser()];case 7:return o=l.sent(),e.attributes=o.attributes,[3,9];case 8:return s=l.sent(),oi.debug("cannot get updated Cognito User",s),[3,9];case 9:return si("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 10:return[2]}}))}))},onFailure:function(e){oi.debug("confirm signIn failure",e),s(e)}},n,r)}))},e.prototype.completeNewPassword=function(e,t,n,r){var o=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(Ct.EmptyPassword);var i=this;return new Promise((function(a,s){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return(0,_t.__awaiter)(o,void 0,void 0,(function(){var n,r;return(0,_t.__generator)(this,(function(o){switch(o.label){case 0:oi.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),oi.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=o.sent(),oi.debug("cannot get cognito credentials",r),[3,6];case 5:return i.user=e,si("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 6:return[2]}}))}))},onFailure:function(e){oi.debug("completeNewPassword failure",e),si("completeNewPassword_failure",e,o.user+" failed to complete the new password flow"),s(e)},mfaRequired:function(t,n){oi.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,a(e)},mfaSetup:function(t,n){oi.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)},totpRequired:function(t,n){oi.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)}},r)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;return void 0===n&&(n=this._config.clientMetadata),this.userPool?t?new Promise((function(o,i){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,o,i),n)})):this.rejectAuthError(Ct.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise((function(r,o){n.userSession(e).then((function(n){e.deleteAttributes(t,(function(e,t){return e?o(e):r(t)}))}))}))},e.prototype.deleteUser=function(){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var e,t,n=this;return(0,_t.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),oi.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(e,r){return(0,_t.__awaiter)(n,void 0,void 0,(function(){var n,o=this;return(0,_t.__generator)(this,(function(i){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return oi.debug("Failed to get user from user pool"),[2,r(new Error("No current user."))];n.getSession((function(i,a){return(0,_t.__awaiter)(o,void 0,void 0,(function(){var o,a=this;return(0,_t.__generator)(this,(function(s){switch(s.label){case 0:if(!i)return[3,5];if(oi.debug("Failed to get the user session",i),!this.isSessionInvalid(i))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),r(new Error("Session is invalid due to: "+i.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,r(i)];case 5:n.deleteUser((function(o,i){if(o)r(o);else{si("userDeleted",i,"The authenticated user has been deleted."),n.signOut(),a.user=null;try{a.cleanCachedItems()}catch(e){oi.debug("failed to clear cached items")}t?a.oAuthSignOutRedirect(e,r):(si("signOut",a.user,"A user has been signed out"),e(i))}})),s.label=6;case 6:return[2]}}))}))}))}else oi.debug("no Congito User pool"),r(new Error("Cognito User pool does not exist"));return[2]}))}))}))]}}))}))},e.prototype.updateUserAttributes=function(e,t,n){var r=this;void 0===n&&(n=this._config.clientMetadata);var o=[],i=this;return new Promise((function(a,s){i.userSession(e).then((function(i){for(var l in t)if("sub"!==l&&l.indexOf("_verified")<0){var c={Name:l,Value:t[l]};o.push(c)}e.updateAttributes(o,(function(e,n,o){if(e)return si("updateUserAttributes_failure",e,"Failed to update attributes"),s(e);var i=r.createUpdateAttributesResultList(t,null==o?void 0:o.CodeDeliveryDetailsList);return si("updateUserAttributes",i,"Attributes successfully updated"),a(n)}),n)}))}))},e.prototype.createUpdateAttributesResultList=function(e,t){var n={};return Object.keys(e).forEach((function(e){n[e]={isUpdated:!0};var r=null==t?void 0:t.find((function(t){return t.AttributeName===e}));r&&(n[e].isUpdated=!1,n[e].codeDeliveryDetails=r)})),n},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},o={};return n.email&&(n.email_verified?o.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?o.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:o,unverified:r}}))},e.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isPasswordResetRequiredError=function(e){return this.isErrorWithMessage(e)&&"Password reset required for the user"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)||this.isPasswordResetRequiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var t=this;return(0,_t.__generator)(this,(function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),oi.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise((function(e,n){t.oAuthSignOutRedirect(e,n)}))]:(si("signOut",this.user,"A user has been signed out"),[2])}}))}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return(0,_t.__awaiter)(t,void 0,void 0,(function(){var t,o,i,a,s,l,c=this;return(0,_t.__generator)(this,(function(u){switch(u.label){case 0:return this.isOAuthInProgress()?(oi.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){oi.debug("OAuth signIn in progress timeout"),Ut.remove("auth",n),e()}),1e4);function n(r){var o=r.payload.event;"cognitoHostedUI"!==o&&"cognitoHostedUI_failure"!==o||(oi.debug("OAuth signIn resolved: "+o),clearTimeout(t),Ut.remove("auth",n),e())}Ut.listen("auth",n)}))]):[3,2];case 1:u.sent(),u.label=2;case 2:if(!(t=this.userPool.getCurrentUser()))return oi.debug("Failed to get user from user pool"),r("No current user"),[2];u.label=3;case 3:return u.trys.push([3,7,,8]),[4,this._userSession(t)];case 4:return o=u.sent(),(i=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,6];case 5:u.sent(),u.label=6;case 6:return a=this._config.clientMetadata,(void 0===(s=o.getAccessToken().decodePayload().scope)?"":s).split(" ").includes(ii)?(t.getUserData((function(e,o){return(0,_t.__awaiter)(c,void 0,void 0,(function(){var i,a,s,l,c,u,f;return(0,_t.__generator)(this,(function(d){switch(d.label){case 0:if(!e)return[3,7];if(oi.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return d.sent(),[3,4];case 3:return i=d.sent(),r(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return r(e),[3,6];case 5:n(t),d.label=6;case 6:return[2];case 7:for(a=o.PreferredMfaSetting||"NOMFA",s=[],l=0;l<o.UserAttributes.length;l++)c={Name:o.UserAttributes[l].Name,Value:o.UserAttributes[l].Value},u=new ko(c),s.push(u);return f=this.attributesToObject(s),Object.assign(t,{attributes:f,preferredMFA:a}),[2,n(t)]}}))}))}),{bypassCache:i,clientMetadata:a}),[3,8]):(oi.debug("Unable to get the user data because the "+ii+" is not in the scopes of the access token"),[2,n(t)]);case 7:return l=u.sent(),r(l),[3,8];case 8:return[2]}}))}))})).catch((function(e){return oi.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i;return(0,_t.__generator)(this,(function(a){switch(a.label){case 0:oi.debug("getting current authenticated user"),t=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[3,4];case 3:throw n=a.sent(),oi.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=(0,_t.__assign)((0,_t.__assign)({},r.user),{token:r.token}))}catch(e){oi.debug("cannot load federated user from auth storage")}return t?(this.user=t,oi.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:oi.debug("get current authenticated userpool user"),o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return o=a.sent(),[3,9];case 8:return"No userPool"===(i=a.sent())&&oi.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),oi.debug("The user is not authenticated by the error",i),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=o,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return oi.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){oi.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){oi.debug("Failed to get the current user",e),n(e)}))})):Promise.reject(new Error("No User Pool in the configuration."))},e.prototype._userSession=function(e){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var t,n,r=this;return(0,_t.__generator)(this,(function(o){switch(o.label){case 0:if(!e)return oi.debug("the user is null"),[2,this.rejectAuthError(Ct.NoUserSession)];t=this._config.clientMetadata,0===this.inflightSessionPromiseCounter&&(this.inflightSessionPromise=new Promise((function(n,o){e.getSession((function(t,i){return(0,_t.__awaiter)(r,void 0,void 0,(function(){var r;return(0,_t.__generator)(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(oi.debug("Failed to get the session from user",e),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return r=a.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+r.message)),[2];case 4:return o(t),[2];case 5:return oi.debug("Succeed to get the user session",i),n(i),[2]}}))}))}),{clientMetadata:t})}))),this.inflightSessionPromiseCounter++,o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.inflightSessionPromise];case 2:return n=o.sent(),e.signInUserSession=n,[2,n];case 3:return this.inflightSessionPromiseCounter--,[7];case 4:return[2]}}))}))},e.prototype.userSession=function(e){return this._userSession(e)},e.prototype.currentUserCredentials=function(){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var e,t,n=this;return(0,_t.__generator)(this,(function(r){switch(r.label){case 0:oi.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),oi.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){oi.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return oi.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(){return oi.debug("getting guest credentials"),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return oi.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,o){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return o(e)}},n)}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,o){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){o(e)}})})):this.rejectAuthError(Ct.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var n,r,o=this;return(0,_t.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._storageSync];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),oi.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,i){if(e&&e.global){oi.debug("user global sign out",t);var a=o._config.clientMetadata;t.getSession((function(e,a){return(0,_t.__awaiter)(o,void 0,void 0,(function(){var o,a=this;return(0,_t.__generator)(this,(function(s){switch(s.label){case 0:if(!e)return[3,5];if(oi.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),i(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,i(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(oi.debug("global sign out success"),!r)return n();a.oAuthSignOutRedirect(n,i)},onFailure:function(e){return oi.debug("global sign out failed",e),i(e)}}),[2]}}))}))}),{clientMetadata:a})}else oi.debug("user sign out",t),t.signOut((function(){if(!r)return n();o.oAuthSignOutRedirect(n,i)}))}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){Ht().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e(Error("Signout timeout fail"))}),3e3)},e.prototype.signOut=function(e){return void 0===e&&(e={}),(0,_t.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,_t.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return r.sent(),[3,3];case 2:return r.sent(),oi.debug("failed to clear cached items"),[3,3];case 3:if(!this.userPool)return[3,11];r.label=4;case 4:return r.trys.push([4,6,,7]),[4,this._storageSync];case 5:return r.sent(),[3,7];case 6:throw t=r.sent(),oi.debug("Failed to sync cache info into memory",t),t;case 7:return(n=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,n)]:[3,9];case 8:return r.sent(),[3,10];case 9:oi.debug("no current Cognito user"),r.label=10;case 10:return[3,12];case 11:oi.debug("no Cognito User pool"),r.label=12;case 12:return si("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return(0,_t.__awaiter)(this,void 0,void 0,(function(){return(0,_t.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var o=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(i,a){o.userSession(e).then((function(o){e.changePassword(t,n,(function(e,t){return e?(oi.debug("change password failure",e),a(e)):i(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Ct.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,o){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){oi.debug("forgot password failure",t),si("forgotPassword_failure",t,e+" forgotPassword failed"),o(t)},inputVerificationCode:function(t){si("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Ct.EmptyUsername);if(!t)return this.rejectAuthError(Ct.EmptyCode);if(!n)return this.rejectAuthError(Ct.EmptyPassword);var o=this.createCognitoUser(e);return new Promise((function(i,a){o.confirmPassword(t,n,{onSuccess:function(t){si("forgotPasswordSubmit",o,e+" forgotPasswordSubmit successful"),i(t)},onFailure:function(t){si("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),a(t)}},r)}))},e.prototype.currentUserInfo=function(){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return(0,_t.__generator)(this,(function(s){switch(s.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return oi.error(e)}))];case 1:if(!(a=s.sent()))return[2,null];s.label=2;case 2:return s.trys.push([2,8,,9]),[4,this.userAttributes(a)];case 3:t=s.sent(),n=this.attributesToObject(t),r=null,s.label=4;case 4:return s.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=s.sent(),[3,7];case 6:return o=s.sent(),oi.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:a.getUsername(),attributes:n}];case 8:return i=s.sent(),oi.error("currentUserInfo error",i),[2,{}];case 9:return"federated"===e?[2,(a=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var r,o,i,a,s,l,c,u,f,d,h;return(0,_t.__generator)(this,(function(p){switch(p.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return Nt(e)||(m=e)&&["customProvider"].find((function(e){return m.hasOwnProperty(e)}))||function(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}(e)||void 0===e?(r=e||{provider:St.Cognito},s=Nt(r)?r.provider:r.customProvider,Nt(r),o=r.customState,this._config.userPoolId&&(i=Ot(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,a=Ot(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,a,i,s,o)),[3,4]):[3,1];case 1:s=e;try{(l=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&oi.warn("There is already a signed in user: "+l+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return c=t.token,u=t.identity_id,f=t.expires_at,[4,this.Credentials.set({provider:s,token:c,identity_id:u,user:n,expires_at:f},"federation")];case 2:return d=p.sent(),[4,this.currentAuthenticatedUser()];case 3:return h=p.sent(),si("signIn",h,"A user "+h.username+" has been signed in"),oi.debug("federated sign in credentials",d),[2,d];case 4:return[2]}var m}))}))},e.prototype._handleAuthResponse=function(e){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,c,u,f,d,h,p;return(0,_t.__generator)(this,(function(m){switch(m.label){case 0:if(this.oAuthFlowInProgress)return oi.debug("Skipping URL "+e+" current flow in progress"),[2];m.label=1;case 1:if(m.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(si("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(Ht().isBrowser?window.location.href:""),n=!!((0,Wo.qg)(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=(0,_t.__read)(e,1)[0];return"code"===t||"error"===t})),r=!!((0,Wo.qg)(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=(0,_t.__read)(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),m.label=2;case 2:return m.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return o=m.sent(),i=o.accessToken,a=o.idToken,s=o.refreshToken,l=o.state,c=new wo({IdToken:new go({IdToken:a}),RefreshToken:new yo({RefreshToken:s}),AccessToken:new po({AccessToken:i})}),u=void 0,this._config.identityPoolId?[4,this.Credentials.set(c,"session")]:[3,5];case 4:u=m.sent(),oi.debug("AWS credentials",u),m.label=5;case 5:return f=/-/.test(l),(d=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState(window.history.state,"",this._config.oauth.redirectSignIn),si("signIn",d,"A user "+d.getUsername()+" has been signed in"),si("cognitoHostedUI",d,"A user "+d.getUsername()+" has been signed in via Cognito Hosted UI"),f&&(h=l.split("-").splice(1).join("-"),si("customOAuthState",h.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""),"State for user "+d.getUsername())),[2,u];case 6:return p=m.sent(),oi.debug("Error in cognito hosted auth response",p),window&&void 0!==window.history&&window.history.replaceState(window.history.state,"",this._config.oauth.redirectSignIn),si("signIn_failure",p,"The OAuth response flow failed"),si("cognitoHostedUI_failure",p,"A failure occurred when returning to the Cognito Hosted UI"),si("customState_failure",p,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value})),n},e.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new _o(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?Ct.NoConfig:Ct.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new ti(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new ni(e))},e.prototype.rememberDevice=function(){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,_t.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),oi.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new ti(Ct.DeviceConfig)):"NetworkError"===e.code?n(new ti(Ct.NetworkError)):n(e)}})}))]}}))}))},e.prototype.forgetDevice=function(){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,_t.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),oi.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new ti(Ct.DeviceConfig)):"NetworkError"===e.code?n(new ti(Ct.NetworkError)):n(e)}})}))]}}))}))},e.prototype.fetchDevices=function(){return(0,_t.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,_t.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),oi.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){var r={onSuccess:function(e){var n=e.Devices.map((function(e){var t=e.DeviceAttributes.find((function(e){return"device_name"===e.Name}))||{};return{id:e.DeviceKey,name:t.Value}}));t(n)},onFailure:function(e){"InvalidParameterException"===e.code?n(new ti(Ct.DeviceConfig)):"NetworkError"===e.code?n(new ti(Ct.NetworkError)):n(e)}};e.listDevices(60,null,r)}))]}}))}))},e}())(null);function ci(e){return ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ci(e)}function ui(){ui=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(O([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==ci(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(ci(t)+" is not iterable")}return v.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},k(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function fi(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function di(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fi(i,r,o,a,s,"next",e)}function s(e){fi(i,r,o,a,s,"throw",e)}a(void 0)}))}}function hi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}te.register(li);var mi=o(8858),gi=o(4848),yi=o(9642),vi=o(5422),bi=o(6521),wi=o(7766),xi=o(7167);class Ei extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Si({children:e,isPresent:t,anchorX:n}){const r=(0,i.useId)(),o=(0,i.useRef)(null),a=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=(0,i.useContext)(xi.Q);return(0,i.useInsertionEffect)((()=>{const{width:e,height:i,top:l,left:c,right:u}=a.current;if(t||!o.current||!e||!i)return;const f="left"===n?`left: ${c}`:`right: ${u}`;o.current.dataset.motionPopId=r;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${i}px !important;\n            ${f}px !important;\n            top: ${l}px !important;\n          }\n        `),()=>{document.head.contains(d)&&document.head.removeChild(d)}}),[t]),(0,gi.jsx)(Ei,{isPresent:t,childRef:o,sizeRef:a,children:i.cloneElement(e,{ref:o})})}const ki=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:a,mode:s,anchorX:l})=>{const c=(0,vi.M)(Ci),u=(0,i.useId)();let f=!0,d=(0,i.useMemo)((()=>(f=!1,{id:u,initial:t,isPresent:n,custom:o,onExitComplete:e=>{c.set(e,!0);for(const e of c.values())if(!e)return;r&&r()},register:e=>(c.set(e,!1),()=>c.delete(e))})),[n,c,r]);return a&&f&&(d={...d}),(0,i.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[n]),i.useEffect((()=>{!n&&!c.size&&r&&r()}),[n]),"popLayout"===s&&(e=(0,gi.jsx)(Si,{isPresent:n,anchorX:l,children:e})),(0,gi.jsx)(wi.t.Provider,{value:d,children:e})};function Ci(){return new Map}var Pi=o(905);const Ai=e=>e.key||"";function Ti(e){const t=[];return i.Children.forEach(e,(e=>{(0,i.isValidElement)(e)&&t.push(e)})),t}const _i=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:a="sync",propagate:s=!1,anchorX:l="left"})=>{const[c,u]=(0,Pi.xQ)(s),f=(0,i.useMemo)((()=>Ti(e)),[e]),d=s&&!c?[]:f.map(Ai),h=(0,i.useRef)(!0),p=(0,i.useRef)(f),m=(0,vi.M)((()=>new Map)),[g,y]=(0,i.useState)(f),[v,b]=(0,i.useState)(f);(0,bi.E)((()=>{h.current=!1,p.current=f;for(let e=0;e<v.length;e++){const t=Ai(v[e]);d.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}}),[v,d.length,d.join("-")]);const w=[];if(f!==g){let e=[...f];for(let t=0;t<v.length;t++){const n=v[t],r=Ai(n);d.includes(r)||(e.splice(t,0,n),w.push(n))}return"wait"===a&&w.length&&(e=w),b(Ti(e)),y(f),null}const{forceRender:x}=(0,i.useContext)(yi.L);return(0,gi.jsx)(gi.Fragment,{children:v.map((e=>{const i=Ai(e),g=!(s&&!c)&&(f===v||d.includes(i));return(0,gi.jsx)(ki,{isPresent:g,initial:!(h.current&&!n)&&void 0,custom:t,presenceAffectsLayout:o,mode:a,onExitComplete:g?void 0:()=>{if(!m.has(i))return;m.set(i,!0);let e=!0;m.forEach((t=>{t||(e=!1)})),e&&(x?.(),b(p.current),s&&u?.(),r&&r())},anchorX:l,children:e},i)}))})};function Ni({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Oi=i.forwardRef(Ni);function Ii({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"}))}const Ri=i.forwardRef(Ii);function Li({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const Mi=i.forwardRef(Li);var ji=o(4361);function Di({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ui=i.forwardRef(Di);function Fi({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Bi=i.forwardRef(Fi);function zi({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Vi=i.forwardRef(zi);function Hi({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const qi=i.forwardRef(Hi);function Wi({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}))}const Gi=i.forwardRef(Wi);function Yi({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const $i=i.forwardRef(Yi);var Ki={events:{},emit:function(e,t){this.events[e]&&this.events[e].forEach((function(e){return e(t)}))},on:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)},off:function(e,t){this.events[e]&&(this.events[e]=this.events[e].filter((function(e){return e!==t})))}};function Zi(e){return Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zi(e)}function Ji(e){return function(e){if(Array.isArray(e))return na(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ta(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qi(){Qi=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(O([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Zi(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Zi(t)+" is not iterable")}return v.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},k(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Xi(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||ta(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ta(e,t){if(e){if("string"==typeof e)return na(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?na(e,t):void 0}}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ra=function(e){var t=e.isMini,n=void 0!==t&&t;return i.createElement(mi.P.div,{className:"bg-gray-800 rounded-lg overflow-hidden border border-gray-700 shadow-md\n                ".concat(n?"w-32 sm:w-36":"w-full"),initial:{opacity:.6},animate:{opacity:[.6,.8,.6],transition:{repeat:1/0,duration:1.5,ease:"linear"}}},i.createElement("div",{className:"aspect-[2/3] bg-gray-700 ".concat(n?"h-48 sm:h-54":"h-64 sm:h-72 md:h-80")}),i.createElement("div",{className:"p-2 ".concat(n?"space-y-1":"space-y-2")},i.createElement("div",{className:"h-4 bg-gray-700 rounded ".concat(n?"w-3/4":"w-3/4 mb-1")}),i.createElement("div",{className:"h-3 bg-gray-700 rounded ".concat("w-1/2")}),!n&&i.createElement("div",{className:"flex justify-between items-center mt-1 pt-1"},i.createElement("div",{className:"w-10 h-3 bg-gray-700 rounded"}),i.createElement("div",{className:"w-10 h-3 bg-gray-700 rounded"}))))},oa=o(3081);function ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function aa(e){var t,n=e.title,r=e.IconEmpty,o=e.inHeader,a=void 0!==o&&o,s=e.isOpen,l=e.currentUser,c=e.isAuthenticated,u=e.cacheKey,f=e.endpoint,d=e.mapItem,h=e.eventKey,p=e.cardPropsFactory,m=function(e){var t=e.currentUser,n=e.isAuthenticated,r=(e.inHeader,e.isOpen),o=void 0!==r&&r,a=e.cacheKeyPrefix,s=e.fetchEndpoint,l=e.mapItem,c=e.eventName,u=ea((0,i.useState)([]),2),f=u[0],d=u[1],h=ea((0,i.useState)(!0),2),p=h[0],m=h[1],g=ea((0,i.useState)(null),2),y=g[0],v=g[1],b=ea((0,i.useState)("dateAdded"),2),w=b[0],x=b[1],E=ea((0,i.useState)(!1),2),S=E[0],k=E[1],C=(0,i.useRef)(null),P=(0,i.useRef)(null),A=(0,i.useRef)(null),T=(0,i.useRef)(0),_=function(e){try{localStorage.removeItem("".concat(a,"_").concat(e))}catch(e){}},N=function(e){try{var t=localStorage.getItem("".concat(a,"_").concat(e));if(!t)return null;var n=JSON.parse(t),r=n.data,o=n.timestamp;return Date.now()-o<9e5?r:(_(e),null)}catch(t){return _(e),null}},O=function(e,t){try{var n={data:t,timestamp:Date.now()};localStorage.setItem("".concat(a,"_").concat(e),JSON.stringify(n))}catch(e){}},I=function(){var e,n=(e=Qi().mark((function e(){var n,r,o,i,a,c,u,h,p,g,y,b=arguments;return Qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=b.length>0&&void 0!==b[0]&&b[0],null!=t&&null!==(n=t.signInUserSession)&&void 0!==n&&null!==(n=n.accessToken)&&void 0!==n&&n.jwtToken){e.next=5;break}return v("Authentication token missing"),m(!1),e.abrupt("return");case 5:if(i=t.username||(null===(r=t.attributes)||void 0===r?void 0:r.sub)){e.next=10;break}return v("User identifier missing"),m(!1),e.abrupt("return");case 10:if(a=Date.now(),o||!(a-T.current<5e3)){e.next=14;break}return f.length>0&&m(!1),e.abrupt("return");case 14:if(m(!0),v(null),T.current=a,e.prev=17,c=o?null:N(i),u=null,!c){e.next=24;break}u=c,e.next=35;break;case 24:return e.next=26,fetch("".concat("https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod").concat(s),{headers:{Authorization:"Bearer ".concat(t.signInUserSession.accessToken.jwtToken),"Content-Type":"application/json"},credentials:"include"});case 26:if((h=e.sent).ok){e.next=29;break}throw new Error("Failed to fetch: ".concat(h.status," ").concat(h.statusText));case 29:return e.next=31,h.json();case 31:p=e.sent,g=p.items&&Array.isArray(p.items)?p.items:Array.isArray(p)?p:[],u=g,O(i,g);case 35:y=u.map(l).filter(Boolean),d(y),e.next=42;break;case 39:e.prev=39,e.t0=e.catch(17),v(e.t0.message);case 42:return e.prev=42,m(!1),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[17,39,42,45]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Xi(i,r,o,a,s,"next",e)}function s(e){Xi(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}(),R=i.useMemo((function(){if(!f.length)return[];var e=Ji(f);switch(w){case"alphabetical":return e.sort((function(e,t){return e.title.localeCompare(t.title)}));case"rating":return e.sort((function(e,t){return t.vote_average-e.vote_average}));default:return e}}),[f,w]);return(0,i.useEffect)((function(){o&&n&&I()}),[o,n,t]),(0,i.useEffect)((function(){var e=function(e){var n=e.detail||{},r=n.mediaId,o=n.isInList,i=n.item;r&&d((function(e){var n,a=e;if(o&&i){var s=l(i);e.some((function(e){return String(e.id)===String(s.id)}))||(a=[s].concat(Ji(e)))}else a=e.filter((function(e){return String(e.id)!==String(r)}));var c=t.username||(null===(n=t.attributes)||void 0===n?void 0:n.sub);return O(c,a),a}))};return document.addEventListener(c,e),function(){return document.removeEventListener(c,e)}}),[c,l,t]),{items:R,isLoading:p,error:y,sortOption:w,setSortOption:x,showSortMenu:S,setShowSortMenu:k,panelRef:C,sortMenuRef:P,scrollRef:A,fetchList:I,setItems:d}}({currentUser:l,isAuthenticated:c,inHeader:a,isOpen:s,cacheKeyPrefix:u,fetchEndpoint:f,mapItem:d,eventName:h}),g=m.items,y=m.isLoading,v=m.error,b=m.sortOption,w=m.setSortOption,x=m.showSortMenu,E=m.setShowSortMenu,S=m.panelRef,k=m.sortMenuRef,C=m.scrollRef,P=m.fetchList;return c&&a?i.createElement(mi.P.div,{ref:S,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1,transition:{duration:.15,ease:"easeOut"}},exit:{opacity:0,scale:.95,transition:{duration:.1,ease:"easeIn"}},className:"absolute top-16 right-0 bg-gray-800 rounded-lg shadow-xl overflow-hidden border border-gray-700 w-72 sm:w-80 md:w-96 max-w-[90vw] z-50",onMouseDown:function(e){return e.stopPropagation()}},i.createElement("div",{className:"p-3 sm:p-4"},i.createElement("div",{className:"flex justify-between items-center mb-3"},i.createElement("h2",{className:"text-lg font-bold text-white"},n),i.createElement("div",{className:"flex items-center space-x-2"},i.createElement("div",{className:"relative"},i.createElement("button",{onClick:function(){return E(!x)},className:"text-gray-400 hover:text-white p-1 rounded-full hover:bg-gray-700 transition-colors","aria-label":"Sort"},p().icons.sort),i.createElement(_i,null,x&&i.createElement(mi.P.div,{ref:k,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg border border-gray-700 z-50"},i.createElement("div",{className:"py-1"},i.createElement("button",{onClick:function(){w("dateAdded"),E(!1)},className:"block w-full text-left px-4 py-2 text-sm ".concat("dateAdded"===b?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700")},"Date Added"),i.createElement("button",{onClick:function(){w("alphabetical"),E(!1)},className:"block w-full text-left px-4 py-2 text-sm ".concat("alphabetical"===b?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700")},"AZ"),i.createElement("button",{onClick:function(){w("rating"),E(!1)},className:"block w-full text-left px-4 py-2 text-sm ".concat("rating"===b?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700")},"Rating"))))),i.createElement("button",{onClick:function(){return P(!0)},className:"text-gray-400 hover:text-white p-1 rounded-full hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Refresh",disabled:y},p().icons.refresh),i.createElement("button",{onClick:function(){return p().onClose()},className:"text-gray-400 hover:text-white p-1 rounded-full hover:bg-gray-700 transition-colors","aria-label":"Close"},p().icons.close))),y&&0===g.length&&i.createElement("div",{className:"grid grid-cols-2 gap-3 pb-2"},(t=Array(4),function(e){if(Array.isArray(e))return ia(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return ia(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ia(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e,t){return i.createElement(ra,{key:t,isMini:!0})}))),v&&i.createElement("div",{className:"text-center py-6"},i.createElement("p",{className:"text-red-400 mb-3"},v),i.createElement("button",{onClick:function(){return P(!0)},className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm"},"Try Again")),!y&&0===g.length&&i.createElement("div",{className:"text-center py-6 space-y-3"},i.createElement("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-700/50 mb-2"},r),i.createElement("p",{className:"text-white font-medium mb-1"},"Your ".concat(n.toLowerCase()," is empty")),i.createElement("p",{className:"text-gray-400 text-xs max-w-sm mx-auto"},p().emptyText)),!v&&g.length>0&&i.createElement("div",{ref:C,className:"grid grid-cols-2 gap-3 pb-2 max-h-[400px] overflow-y-auto pr-1 custom-scrollbar"},i.createElement(_i,{initial:!1},g.map((function(e){return i.createElement(mi.P.div,{key:"".concat(n,"-").concat(e.id),variants:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",duration:.5}},exit:{opacity:0,scale:.8,transition:{duration:.2}}},initial:"hidden",animate:"visible",exit:"exit",layout:!0},i.createElement(oa.default,p(e)))})))))):null}var sa=function(e){return null!=e&&e.mediaId?{id:e.mediaId,media_type:e.mediaType||"movie",title:e.title,name:e.title,poster_path:e.posterPath||e.poster_path||null,backdrop_path:e.backdropPath||e.backdrop_path||null,release_date:e.releaseDate||e.firstAirDate||e.release_date||null,first_air_date:e.firstAirDate||e.releaseDate||e.first_air_date||e.release_date||null,vote_average:parseFloat(e.voteAverage||e.vote_average||0),popularity:e.popularity||0,genre_ids:Array.isArray(e.genreIds)?e.genreIds:[]}:null};function la(e){return i.createElement(aa,{title:"Your Favorites",IconEmpty:i.createElement(ji.A,{className:"h-8 w-8 text-gray-400"}),inHeader:e.inHeader,isOpen:e.isOpen,currentUser:e.currentUser,isAuthenticated:e.isAuthenticated,cacheKey:"user_favorites_cache",endpoint:"/favourite",mapItem:sa,eventKey:"favorites-updated",cardPropsFactory:function(t){return{result:t,currentUser:e.currentUser,isMiniCard:e.inHeader,fromFavorites:!0,initialIsFavorited:!0,onFavoriteToggle:function(){return e.onClose&&e.onClose(t.id)},icons:{sort:i.createElement(Gi,{className:"h-5 w-5"}),refresh:i.createElement($i,{className:"h-5 w-5"}),close:i.createElement(Vi,{className:"h-5 w-5"})},emptyText:"Browse movies and shows and click the heart icon to add them to your favorites",onClose:e.onClose}}})}function ca(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ua(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ua(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var fa={initial:{scale:1},hover:{scale:1.1,transition:{type:"spring",stiffness:400,damping:10}}},da={hidden:{opacity:0,y:-5,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:500,damping:30}},exit:{opacity:0,y:-5,scale:.95,transition:{duration:.2}}};const ha=(0,i.memo)((function(e){var t,n,r,o=e.currentUser,a=e.isAuthenticated,s=e.onSearchClick,l=e.showSearch,c=e.onPreferencesClick,u=e.onFavoritesClick,f=e.showFavorites,d=e.onWatchlistClick,h=e.showWatchlist,p=e.onSignout,m=e.onAccountClick,g=e.hasBasicPreferencesOnly,y=void 0!==g&&g,v=$e(),b=ca((0,i.useState)(null),2),w=b[0],x=b[1],E=ca((0,i.useState)(!1),2),S=E[0],k=E[1],C=ca((0,i.useState)(!1),2),P=C[0],A=C[1],T=(0,i.useCallback)((function(e,t){k(!1);var n=function(e){"search"!==e&&l&&s(!1),"favorites"!==e&&f&&u(!1),"watchlist"!==e&&h&&d(!1)};switch(e){case"search":s&&(void 0!==t?(t&&n("search"),s(t)):(l||n("search"),s(!l)));break;case"favorites":u&&(void 0!==t?(t&&n("favorites"),u(t)):(f||n("favorites"),u(!f)));break;case"watchlist":d&&(void 0!==t?(t&&n("watchlist"),d(t)):(h||n("watchlist"),d(!h)));break;case"preferences":c&&(n("preferences"),c());break;case"account":m&&(n("account"),m())}P&&A(!1)}),[l,f,h,P,s,u,d,c,m]),_=(0,i.useCallback)((function(){k((function(e){return!e}))}),[]),N=(0,i.useCallback)((function(){A((function(e){return!e}))}),[]),O=(0,i.useCallback)((function(){p&&(p(),k(!1),A(!1))}),[p]);(0,i.useEffect)((function(){var e=function(){k(!1),A(!1)};return document.addEventListener("modal-opened",e,{passive:!0}),function(){return document.removeEventListener("modal-opened",e)}}),[]),(0,i.useEffect)((function(){var e=function(){k(!1),A(!1)};return window.addEventListener("resize",e,{passive:!0}),function(){return window.removeEventListener("resize",e)}}),[]);var I=(0,i.useMemo)((function(){return[{name:"Search",icon:i.createElement(Oi,{className:"w-5 h-5"}),onClick:function(){return T("search",!l)},active:l,show:!0},{name:"Blog",icon:i.createElement(Ri,{className:"w-5 h-5"}),onClick:function(){v("/blog"),A(!1)},active:!1,show:!0},{name:"Preferences",icon:i.createElement(Mi,{className:"w-5 h-5"}),onClick:function(){return T("preferences")},active:!1,show:a},{name:"Favorites",icon:i.createElement(ji.A,{className:"w-5 h-5"}),onClick:function(){return T("favorites",!f)},active:f,show:a},{name:"Watchlist",icon:i.createElement(Ui,{className:"w-5 h-5"}),onClick:function(){return T("watchlist",!h)},active:h,show:a},{name:"Account Settings",icon:i.createElement(Bi,{className:"w-5 h-5"}),onClick:function(){return T("account")},active:!1,show:a}]}),[a,l,f,h,T]);return i.createElement(mi.P.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},className:"fixed top-0 left-0 right-0 z-40 px-4 sm:px-6 py-4 bg-gray-900 border-b border-gray-800/50 shadow-md"},i.createElement("div",{className:"max-w-7xl mx-auto flex items-center justify-between"},i.createElement(mi.P.div,{whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},className:"flex-shrink-0"},i.createElement(vt,{to:"/",className:"flex items-center"},i.createElement("img",{src:"/logo.png",alt:"MovieRec Logo",className:"h-8 mr-2",width:"32",height:"32",loading:"eager"}),i.createElement("span",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-500 to-indigo-400"},"MovieRec"))),i.createElement("div",{className:"md:hidden"},i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:N,className:"p-2.5 rounded-full transition-all duration-300 ".concat(P?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md shadow-purple-500/30":"text-gray-300 hover:bg-gray-800/70 hover:text-white"),"aria-label":"Toggle menu","aria-expanded":P,"aria-controls":"mobile-menu"},i.createElement("div",{className:"relative w-6 h-6 flex items-center justify-center"},i.createElement(_i,{initial:!1,mode:"wait"},P?i.createElement(mi.P.div,{key:"close",initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2}},i.createElement(Vi,{className:"w-6 h-6"})):i.createElement(mi.P.div,{key:"menu",initial:{opacity:0,rotate:90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:-90},transition:{duration:.2}},i.createElement(qi,{className:"w-6 h-6"})))))),i.createElement("div",{className:"hidden md:flex items-center space-x-1 sm:space-x-2"},i.createElement(mi.P.button,{variants:fa,initial:"initial",whileHover:"hover",whileTap:{scale:.95},onClick:function(){return T("search",!l)},onMouseEnter:function(){return x("search")},onMouseLeave:function(){return x(null)},className:"relative p-2.5 rounded-full transition-colors duration-200 ".concat(l?"bg-purple-600 text-white":"text-gray-300 hover:bg-gray-800/70 hover:text-white"),title:"Search movies","aria-label":"Search movies","aria-pressed":l},i.createElement(Oi,{className:"w-5 h-5"}),"search"===w&&i.createElement(mi.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap px-2 py-1 bg-gray-800 text-xs text-gray-200 rounded shadow-lg pointer-events-none"},"Search")),i.createElement(mi.P.button,{variants:fa,initial:"initial",whileHover:"hover",whileTap:{scale:.95},onClick:function(){return v("/blog")},onMouseEnter:function(){return x("blog")},onMouseLeave:function(){return x(null)},className:"relative p-2.5 rounded-full text-gray-300 hover:bg-gray-800/70 hover:text-white transition-colors duration-200",title:"Blog","aria-label":"Blog"},i.createElement(Ri,{className:"w-5 h-5"}),"blog"===w&&i.createElement(mi.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap px-2 py-1 bg-gray-800 text-xs text-gray-200 rounded shadow-lg pointer-events-none"},"Blog")),a&&i.createElement(i.Fragment,null,i.createElement(mi.P.button,{variants:fa,initial:"initial",whileHover:"hover",whileTap:{scale:.95},onClick:function(){return T("preferences")},onMouseEnter:function(){return x("preferences")},onMouseLeave:function(){return x(null)},className:"relative p-2.5 rounded-full transition-colors duration-200 ".concat(y?"text-white bg-gradient-to-r from-purple-600/80 to-indigo-600/80 shadow-lg shadow-purple-500/30 animate-pulse-subtle":"text-gray-300 hover:bg-gray-800/70 hover:text-white"),title:y?"Continue with more preference questions":"Set movie preferences","aria-label":y?"Continue with more preference questions":"Set movie preferences"},i.createElement(Mi,{className:"w-5 h-5"}),"preferences"===w&&i.createElement(mi.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap px-2 py-1 bg-gray-800 text-xs text-gray-200 rounded shadow-lg pointer-events-none"},y?"Continue with more questions":"Preferences")),i.createElement(mi.P.button,{variants:fa,initial:"initial",whileHover:"hover",whileTap:{scale:.95},onMouseDown:function(e){return e.stopPropagation()},onClick:function(){return T("favorites",!f)},onMouseEnter:function(){return x("favorites")},onMouseLeave:function(){return x(null)},className:"relative p-2.5 rounded-full transition-colors duration-200 ".concat(f?"bg-purple-600 text-white":"text-gray-300 hover:bg-gray-800/70 hover:text-white"),title:"View favorites","aria-label":"View favorites","aria-pressed":f},i.createElement(ji.A,{className:"w-5 h-5"}),"favorites"===w&&i.createElement(mi.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap px-2 py-1 bg-gray-800 text-xs text-gray-200 rounded shadow-lg pointer-events-none"},"Favorites")),i.createElement(mi.P.button,{variants:fa,initial:"initial",whileHover:"hover",whileTap:{scale:.95},onMouseDown:function(e){return e.stopPropagation()},onClick:function(){return T("watchlist",!h)},onMouseEnter:function(){return x("watchlist")},onMouseLeave:function(){return x(null)},className:"relative p-2.5 rounded-full transition-colors duration-200 ".concat(h?"bg-purple-600 text-white":"text-gray-300 hover:bg-gray-800/70 hover:text-white"),title:"View watchlist","aria-label":"View watchlist","aria-pressed":h},i.createElement(Ui,{className:"w-5 h-5"}),"watchlist"===w&&i.createElement(mi.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap px-2 py-1 bg-gray-800 text-xs text-gray-200 rounded shadow-lg pointer-events-none"},"Watchlist"))),a?i.createElement("div",{className:"relative"},i.createElement(mi.P.button,{variants:fa,initial:"initial",whileHover:"hover",whileTap:{scale:.95},onClick:_,onBlur:function(){return setTimeout((function(){return k(!1)}),100)},className:"p-2.5 text-gray-300 hover:bg-gray-800/70 hover:text-white rounded-full transition-colors duration-200",title:(null==o||null===(t=o.attributes)||void 0===t?void 0:t.email)||"Account","aria-label":"User account","aria-expanded":S,"aria-controls":"user-dropdown"},i.createElement(Bi,{className:"w-5 h-5"})),i.createElement(_i,null,S&&i.createElement(mi.P.div,{id:"user-dropdown",variants:da,initial:"hidden",animate:"visible",exit:"exit",className:"absolute right-0 mt-2 w-60 bg-gray-800 rounded-lg shadow-lg border border-gray-700/50 overflow-hidden z-50"},i.createElement("div",{onClick:function(){k(!1),T("account")},className:"px-4 py-3 border-b border-gray-700/50 cursor-pointer hover:bg-gray-700/50 transition-colors duration-150",role:"menuitem"},i.createElement("div",{className:"font-medium text-white text-sm"},"Account"),i.createElement("div",{className:"text-xs text-gray-300 truncate"},null==o||null===(n=o.attributes)||void 0===n?void 0:n.email)),i.createElement("button",{onClick:O,className:"w-full px-4 py-2.5 text-left text-sm text-gray-300 hover:bg-gray-700/50 transition-colors duration-150 flex items-center",role:"menuitem"},i.createElement("span",null,"Sign out"))))):i.createElement(mi.P.div,{whileHover:{scale:1.03},whileTap:{scale:.97}},i.createElement(vt,{to:"/auth",className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-lg text-sm font-medium transition-all shadow-md"},"Sign In")))),i.createElement(_i,null,P&&i.createElement(i.Fragment,null,i.createElement(mi.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"md:hidden fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:N,"aria-hidden":"true"}),i.createElement(mi.P.div,{id:"mobile-menu",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeOut"},className:"md:hidden absolute left-2 right-2 top-full mt-2 bg-gray-900/95 backdrop-blur-sm shadow-xl rounded-xl overflow-hidden z-50 border border-gray-800/50",role:"menu"},i.createElement("div",{className:"p-4"},a&&i.createElement("div",{className:"mb-4 pb-4 border-b border-gray-800/80"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement("div",{className:"p-2 bg-gradient-to-r from-purple-600/30 to-indigo-600/30 rounded-full"},i.createElement(Bi,{className:"w-6 h-6 text-purple-400"})),i.createElement("div",{className:"flex-1 min-w-0"},i.createElement("p",{className:"text-sm font-medium text-white truncate"},(null==o||null===(r=o.attributes)||void 0===r?void 0:r.email)||"User"),i.createElement("p",{className:"text-xs text-gray-400"},"Logged in")))),i.createElement(mi.P.div,{className:"space-y-2"},I.map((function(e,t){return e.show&&i.createElement(mi.P.div,{key:e.name,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t,duration:.2},role:"none"},i.createElement("button",{onClick:e.onClick,className:"w-full flex items-center px-4 py-3 text-left rounded-lg transition-all duration-200 ".concat(e.active?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md":"text-gray-300 hover:bg-gray-800/70 hover:text-white"),role:"menuitem","aria-pressed":e.active},i.createElement("div",{className:"mr-3"},e.icon),i.createElement("span",null,e.name)))})),a&&i.createElement(mi.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.25,duration:.2},role:"none"},i.createElement("div",{className:"pt-2 mt-2 border-t border-gray-800/80"},i.createElement("button",{onClick:O,className:"w-full flex items-center px-4 py-3 text-left text-gray-400 hover:text-white hover:bg-gray-800/50 rounded-lg transition-all duration-200",role:"menuitem"},i.createElement("span",null,"Sign out")))),!a&&i.createElement(mi.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1,duration:.2},role:"none"},i.createElement(vt,{to:"/auth",onClick:N,className:"block w-full px-4 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-center text-white rounded-lg font-medium shadow-md transition-all duration-200",role:"menuitem"},"Sign In"))))))))}));function pa(e){return pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pa(e)}function ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ga(r.key),r)}}function ga(e){var t=function(e){if("object"!=pa(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=pa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pa(t)?t:t+""}var ya=function(e,t){var n;return function(){if(!n){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];e.apply(this,o),n=!0,setTimeout((function(){return n=!1}),t)}}},va=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768};const ba=function(){var e=(0,i.useRef)(null),t=(0,i.useRef)([]),n=(0,i.useRef)({x:null,y:null}),r=(0,i.useRef)(null),o=(0,i.useRef)({r:20,g:20,b:20}),a=(0,i.useRef)(null),s=(0,i.useRef)(window.devicePixelRatio||1),l=(0,i.useRef)(va()),c=(0,i.useRef)({circleCount:va()?8:15,blurAmount:va()?15:30,interactionRadius:va()?150:200,colorTransitionSpeed:.05,defaultColorTransitionSpeed:.03}),u=(0,i.useCallback)((function(e){if(e){var t=e.replace(/[^\d,]/g,"").split(",").map(Number);3!==t.length||t.some(isNaN)?console.error("Invalid color format:",e):r.current={r:t[0],g:t[1],b:t[2]}}else r.current=null}),[]);return(0,i.useEffect)((function(){return Ki.on("accentColor",u),function(){Ki.off("accentColor",u)}}),[u]),(0,i.useEffect)((function(){var i=e.current,u=i.getContext("2d",{alpha:!1}),f=function(){var e=i.getBoundingClientRect(),t=e.width,n=e.height;i.width=t*s.current,i.height=n*s.current,u.scale(s.current,s.current),i.style.width="".concat(t,"px"),i.style.height="".concat(n,"px")};f();var d=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.radius=60+60*Math.random(),this.x=Math.random()*(i.width/s.current),this.y=Math.random()*(i.height/s.current),this.dx=.4*(Math.random()-.5),this.dy=.4*(Math.random()-.5),this.baseSize=this.radius,this.updateGradient()},(t=[{key:"updateGradient",value:function(){var e=document.createElement("canvas"),t=2*this.radius;e.width=t,e.height=t;var n=e.getContext("2d"),r=n.createRadialGradient(t/2,t/2,.3*this.radius,t/2,t/2,this.radius);r.addColorStop(0,"rgba(255,255,255,0.1)"),r.addColorStop(1,"rgba(0,0,0,0)"),n.fillStyle=r,n.beginPath(),n.arc(t/2,t/2,this.radius,0,2*Math.PI),n.fill(),this.gradientCache=e}},{key:"draw",value:function(){Math.abs(this.radius-this.lastDrawnRadius)>5&&(this.updateGradient(),this.lastDrawnRadius=this.radius),u.filter="blur(".concat(c.current.blurAmount,"px)"),u.drawImage(this.gradientCache,this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius),u.filter="none"}},{key:"update",value:function(){if(n.current.x&&n.current.y){var e=n.current.x-this.x,t=n.current.y-this.y,r=Math.sqrt(e*e+t*t);if(r<c.current.interactionRadius){var o=(c.current.interactionRadius-r)/50;this.dx-=e/r*o,this.dy-=t/r*o,this.radius=Math.max(.6*this.baseSize,this.radius-.8)}else this.radius=Math.min(this.baseSize,this.radius+.5)}var a=i.width/s.current,l=i.height/s.current;(this.x+this.radius>a||this.x-this.radius<0)&&(this.dx*=-1),(this.y+this.radius>l||this.y-this.radius<0)&&(this.dy*=-1),this.dx*=.97,this.dy*=.97,this.x+=this.dx,this.y+=this.dy,this.draw()}}])&&ma(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),h=function(){t.current=[];for(var e=0;e<c.current.circleCount;e++)t.current.push(new d)},p=function(){r.current?(o.current.r+=(r.current.r-o.current.r)*c.current.colorTransitionSpeed,o.current.g+=(r.current.g-o.current.g)*c.current.colorTransitionSpeed,o.current.b+=(r.current.b-o.current.b)*c.current.colorTransitionSpeed):(o.current.r+=(20-o.current.r)*c.current.defaultColorTransitionSpeed,o.current.g+=(20-o.current.g)*c.current.defaultColorTransitionSpeed,o.current.b+=(20-o.current.b)*c.current.defaultColorTransitionSpeed),o.current.r=Math.max(10,Math.min(50,o.current.r)),o.current.g=Math.max(10,Math.min(50,o.current.g)),o.current.b=Math.max(10,Math.min(50,o.current.b)),u.fillStyle="rgb(".concat(Math.round(o.current.r),",\n                          ").concat(Math.round(o.current.g),",\n                          ").concat(Math.round(o.current.b),")"),u.fillRect(0,0,i.width/s.current,i.height/s.current),t.current.forEach((function(e){return e.update()})),a.current=requestAnimationFrame(p)},m=ya((function(){l.current=va(),c.current.circleCount=l.current?8:15,c.current.blurAmount=l.current?15:30,c.current.interactionRadius=l.current?150:200,s.current=window.devicePixelRatio||1,f(),h()}),250),g=ya((function(e){n.current={x:e.clientX,y:e.clientY}}),16);return window.addEventListener("resize",m,{passive:!0}),window.addEventListener("mousemove",g,{passive:!0}),window.addEventListener("touchmove",(function(e){e.touches.length>0&&g({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}),{passive:!0}),h(),a.current=requestAnimationFrame(p),function(){window.removeEventListener("resize",m),window.removeEventListener("mousemove",g),window.removeEventListener("touchmove",g),a.current&&cancelAnimationFrame(a.current)}}),[]),i.createElement("canvas",{ref:e,style:{position:"fixed",top:0,left:0,zIndex:0,width:"100%",height:"100%",touchAction:"none"}})};function wa(e){return wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(e)}function xa(){xa=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(O([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==wa(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(wa(t)+" is not iterable")}return v.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},k(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Ea(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Sa(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ea(i,r,o,a,s,"next",e)}function s(e){Ea(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ca(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ca(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Pa=function(e){var t=e.onSignupSuccess,n=e.onSigninSuccess,r=e.initialMode,o=void 0===r?"signin":r,a=ka((0,i.useState)("signup"===o),2),s=a[0],l=a[1],c=ka((0,i.useState)(!1),2),u=c[0],f=c[1],d=ka((0,i.useState)(""),2),h=d[0],p=d[1],m=ka((0,i.useState)(""),2),g=m[0],y=m[1],v=ka((0,i.useState)(""),2),b=v[0],w=v[1],x=ka((0,i.useState)(""),2),E=x[0],S=x[1],k=ka((0,i.useState)(""),2),C=k[0],P=k[1],A=ka((0,i.useState)(""),2),T=A[0],_=A[1],N=ka((0,i.useState)(!1),2),O=N[0],I=N[1],R=ka((0,i.useState)(!1),2),L=R[0],M=R[1],j=ka((0,i.useState)(!1),2),D=j[0],U=j[1],F=ka((0,i.useState)(""),2),B=F[0],z=F[1],V=ka((0,i.useState)(""),2),H=V[0],q=V[1],W=ka((0,i.useState)(!1),2),G=W[0],Y=W[1],$=ka((0,i.useState)(!1),2),K=$[0],Z=$[1],J=ka((0,i.useState)(!1),2),Q=J[0],X=J[1],ee=ka((0,i.useState)(!1),2),te=ee[0],ne=ee[1],re=$e(),oe=Ge();(0,i.useEffect)((function(){"/signup"===oe.pathname?l(!0):"/signin"===oe.pathname&&l(!1)}),[oe.pathname]);var ie=function(){var e=Sa(xa().mark((function e(t){var n;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),g===b){e.next=4;break}return z("Passwords do not match"),e.abrupt("return");case 4:return U(!0),z(""),e.prev=6,e.next=9,li.signUp({username:h,password:g,attributes:{email:h}});case 9:I(!0),q("Account created successfully. Please check your email for the verification code."),setTimeout((function(){return q("")}),5e3),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(6),n="Error signing up. Please try again.","UsernameExistsException"===e.t0.code?n="An account with this email already exists. Please sign in or use a different email.":"InvalidPasswordException"===e.t0.code?n="Password must be at least 8 characters with uppercase, lowercase, and numbers.":"InvalidParameterException"===e.t0.code?n="Please enter a valid email address.":e.t0.message&&(n=e.t0.message),z(n),console.error("Sign up error:",e.t0);case 20:return e.prev=20,U(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[6,14,20,23]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Sa(xa().mark((function e(n){var r,o;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),U(!0),z(""),e.prev=3,e.next=6,li.confirmSignUp(h,E);case 6:return e.next=8,li.signIn(h,g);case 8:r=e.sent,t(r),re("/onboarding"),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(3),o="Error verifying account","CodeMismatchException"===e.t0.code?o="Invalid verification code. Please try again.":"NotAuthorizedException"===e.t0.code?o="Incorrect email or password.":e.t0.message&&(o=e.t0.message),z(o),console.error("Verification error:",e.t0);case 19:return e.prev=19,U(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,13,19,22]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Sa(xa().mark((function e(){var t;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),z(""),q(""),e.prev=3,e.next=6,li.resendSignUp(h);case 6:q("Verification code resent successfully."),setTimeout((function(){return q("")}),5e3),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),t="Error resending verification code","LimitExceededException"===e.t0.code?t="Attempt limit exceeded. Please try again later.":e.t0.message&&(t=e.t0.message),z(t);case 15:return e.prev=15,U(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,10,15,18]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Sa(xa().mark((function e(t){var r,o;return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),U(!0),z(""),e.prev=3,e.next=6,li.signIn(h,g);case 6:o=e.sent,console.log("[AuthPage] Sign-in successful, calling onSigninSuccess with user",{userId:(null==o||null===(r=o.attributes)||void 0===r?void 0:r.sub)||(null==o?void 0:o.username)}),n(o),re("/"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("[AuthPage] Sign-in error:",e.t0),z(e.t0.message||"Error signing in");case 16:return e.prev=16,U(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Sa(xa().mark((function e(t){return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),U(!0),z(""),q(""),e.prev=4,e.next=7,li.forgotPassword(h);case 7:q("Verification code sent to your email."),M(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("[AuthPage] Forgot password error:",e.t0),z(e.t0.message||"Error requesting password reset");case 15:return e.prev=15,U(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,11,15,18]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Sa(xa().mark((function e(t){return xa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),C===T){e.next=4;break}return z("Passwords do not match"),e.abrupt("return");case 4:return U(!0),z(""),q(""),e.prev=7,e.next=10,li.forgotPasswordSubmit(h,E,C);case 10:q("Password has been reset successfully. You can now sign in with your new password."),setTimeout((function(){f(!1),M(!1),y(""),P(""),_(""),S(""),q("")}),3e3),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),console.error("[AuthPage] Reset password confirmation error:",e.t0),z(e.t0.message||"Error resetting password");case 18:return e.prev=18,U(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[7,14,18,21]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){f(!1),M(!1),z(""),q("")},de={hidden:{opacity:0,scale:.98},visible:{opacity:1,scale:1,transition:{duration:.3}},exit:{opacity:0,scale:.98,transition:{duration:.2}}},he={hidden:{y:10,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}};return i.createElement(mi.P.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}},className:"min-h-[80vh] flex flex-col items-center justify-center px-4 py-12"},i.createElement("div",{className:"w-full max-w-md"},i.createElement(mi.P.div,{className:"text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5}},i.createElement("h1",{className:"text-4xl font-bold"},i.createElement(vt,{to:"/",className:"bg-clip-text text-transparent bg-gradient-to-r from-purple-500 to-indigo-400 hover:from-purple-600 hover:to-indigo-500 transition-colors"},"MovieRec")),i.createElement("p",{className:"mt-2 text-gray-300"},u?L?"Reset Your Password":"Forgot Password":s?"Create Your Account":O?"Verify Your Account":"Welcome Back")),i.createElement(mi.P.div,{className:"bg-gray-800 bg-opacity-70 shadow-lg rounded-xl p-8 border border-gray-700 min-h-[360px] w-full flex flex-col custom-scrollbar"},B&&i.createElement(mi.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-4 p-3 bg-red-900/50 border border-red-500 text-red-200 text-sm rounded"},B),H&&i.createElement(mi.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-4 p-3 bg-green-900/50 border border-green-500 text-green-200 text-sm rounded"},H),i.createElement(_i,{mode:"wait"},u&&L?i.createElement(mi.P.form,{key:"reset-form",variants:de,initial:"hidden",animate:"visible",exit:"exit",onSubmit:ue,className:"space-y-6"},i.createElement(mi.P.div,{className:"mb-4",variants:he},i.createElement("h3",{className:"text-xl font-bold text-white mb-1"},"Reset Password"),i.createElement("p",{className:"text-sm text-gray-400"},"Enter the verification code and your new password.")),i.createElement(mi.P.div,{variants:he},i.createElement("label",{htmlFor:"reset-code",className:"block text-sm font-medium text-gray-300"},"Verification Code"),i.createElement("input",{id:"reset-code",name:"reset-code",type:"text",autoComplete:"one-time-code",required:!0,value:E,onChange:function(e){return S(e.target.value)},className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter code from email"})),i.createElement(mi.P.div,{variants:he},i.createElement("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-300"},"New Password"),i.createElement("div",{className:"mt-1 relative"},i.createElement("input",{id:"new-password",name:"new-password",type:Q?"text":"password",autoComplete:"new-password",required:!0,value:C,onChange:function(e){return P(e.target.value)},placeholder:"8+ characters",className:"appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500"}),i.createElement("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-200",onClick:function(){return X(!Q)},tabIndex:"-1"},Q?i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},i.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),i.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})):i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),i.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))))),i.createElement(mi.P.div,{variants:he},i.createElement("label",{htmlFor:"confirm-new-password",className:"block text-sm font-medium text-gray-300"},"Confirm New Password"),i.createElement("div",{className:"mt-1 relative"},i.createElement("input",{id:"confirm-new-password",name:"confirm-new-password",type:te?"text":"password",autoComplete:"new-password",required:!0,value:T,onChange:function(e){return _(e.target.value)},placeholder:"Confirm password",className:"appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500"}),i.createElement("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-200",onClick:function(){return ne(!te)},tabIndex:"-1"},te?i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},i.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),i.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})):i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),i.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))))),i.createElement(mi.P.div,{variants:he,className:"mt-6"},i.createElement("button",{type:"submit",disabled:D,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50"},D?"Resetting...":"Reset Password")),i.createElement(mi.P.div,{variants:he,className:"mt-4 text-center"},i.createElement("button",{type:"button",onClick:fe,className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none"},"Back to Sign In"))):u?i.createElement(mi.P.form,{key:"forgot-form",variants:de,initial:"hidden",animate:"visible",exit:"exit",onSubmit:ce,className:"space-y-6"},i.createElement(mi.P.div,{className:"mb-4",variants:he},i.createElement("h3",{className:"text-xl font-bold text-white mb-1"},"Reset Your Password"),i.createElement("p",{className:"text-sm text-gray-400"},"We'll send a verification code to your email.")),i.createElement(mi.P.div,{variants:he},i.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300"},"Email Address"),i.createElement("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:h,onChange:function(e){return p(e.target.value)},className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"you@example.com"})),i.createElement(mi.P.div,{variants:he,className:"mt-6"},i.createElement("button",{type:"submit",disabled:D,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50"},D?"Sending...":"Send Reset Code")),i.createElement(mi.P.div,{variants:he,className:"mt-4 text-center"},i.createElement("button",{type:"button",onClick:fe,className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none"},"Back to Sign In"))):s?i.createElement(mi.P.form,{key:"signup-form",variants:de,initial:"hidden",animate:"visible",exit:"exit",onSubmit:ie,className:"space-y-6"},i.createElement(mi.P.div,{className:"mb-4",variants:he},i.createElement("h3",{className:"text-xl font-bold text-white mb-1"},"Create Your Account"),i.createElement("p",{className:"text-sm text-gray-400"},"Join ",i.createElement(vt,{to:"/",className:"text-indigo-400 hover:text-indigo-300 transition-colors"},"MovieRec")," to get personalized recommendations")),i.createElement(mi.P.div,{variants:he},i.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300"},"Email Address"),i.createElement("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:h,onChange:function(e){return p(e.target.value)},className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"you@example.com"})),i.createElement(mi.P.div,{variants:he},i.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300"},"Password"),i.createElement("div",{className:"mt-1 relative"},i.createElement("input",{id:"password",name:"password",type:G?"text":"password",autoComplete:"new-password",required:!0,value:g,onChange:function(e){return y(e.target.value)},className:"appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"8+ characters"}),i.createElement("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-200",onClick:function(){return Y(!G)},tabIndex:"-1"},G?i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},i.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),i.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})):i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),i.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))))),i.createElement(mi.P.div,{variants:he},i.createElement("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-300"},"Confirm Password"),i.createElement("div",{className:"mt-1 relative"},i.createElement("input",{id:"confirm-password",name:"confirm-password",type:K?"text":"password",autoComplete:"new-password",required:!0,value:b,onChange:function(e){return w(e.target.value)},className:"appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"Re-enter your password"}),i.createElement("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-200",onClick:function(){return Z(!K)},tabIndex:"-1"},K?i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},i.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),i.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})):i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),i.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))))),i.createElement(mi.P.div,{variants:he,className:"mt-6"},i.createElement("button",{type:"submit",disabled:D,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50"},D?"Creating account...":"Create Account")),i.createElement(mi.P.div,{variants:he,className:"mt-4 text-center"},i.createElement("button",{type:"button",onClick:function(){l(!1),re("/signin")},className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none"},"Already have an account? Sign in"))):O?i.createElement(mi.P.form,{key:"verify-form",variants:de,initial:"hidden",animate:"visible",exit:"exit",onSubmit:ae,className:"space-y-6"},i.createElement(mi.P.div,{className:"mb-4",variants:he},i.createElement("h3",{className:"text-xl font-bold text-white mb-1"},"Verify Your Account"),i.createElement("p",{className:"text-sm text-gray-400"},"Enter the verification code sent to your email.")),i.createElement(mi.P.div,{variants:he},i.createElement("label",{htmlFor:"verification-code",className:"block text-sm font-medium text-gray-300"},"Verification Code"),i.createElement("input",{id:"verification-code",name:"verification-code",type:"text",autoComplete:"one-time-code",required:!0,value:E,onChange:function(e){return S(e.target.value)},className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter verification code"})),i.createElement(mi.P.div,{variants:he},i.createElement("p",{className:"mt-2 text-sm text-gray-400"},"Please check your email (including spam folder) for the verification code."),i.createElement("p",{className:"mt-2 text-sm text-gray-400"},"Didn't receive the code?"," ",i.createElement("button",{type:"button",onClick:se,disabled:D,className:"text-indigo-400 hover:text-indigo-300"},"Resend code"))),i.createElement(mi.P.div,{variants:he,className:"mt-6"},i.createElement("button",{type:"submit",disabled:D,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50"},D?"Verifying...":"Verify Account"))):i.createElement(mi.P.form,{key:"signin-form",variants:de,initial:"hidden",animate:"visible",exit:"exit",onSubmit:le,className:"space-y-6"},i.createElement(mi.P.div,{className:"mb-4",variants:he},i.createElement("h3",{className:"text-xl font-bold text-white mb-1"},"Welcome Back"),i.createElement("p",{className:"text-sm text-gray-400"},"Sign in to your account")),i.createElement(mi.P.div,{variants:he},i.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300"},"Email Address"),i.createElement("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:h,onChange:function(e){return p(e.target.value)},className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"you@example.com"})),i.createElement(mi.P.div,{variants:he},i.createElement("div",{className:"flex items-center justify-between"},i.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300"},"Password"),i.createElement("button",{type:"button",onClick:function(){return f(!0)},className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none"},"Forgot password?")),i.createElement("div",{className:"mt-1 relative"},i.createElement("input",{id:"password",name:"password",type:G?"text":"password",autoComplete:"current-password",required:!0,value:g,onChange:function(e){return y(e.target.value)},className:"appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 bg-gray-700 text-gray-100 focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter your password"}),i.createElement("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-200",onClick:function(){return Y(!G)},tabIndex:"-1"},G?i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},i.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),i.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})):i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),i.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))))),i.createElement(mi.P.div,{variants:he,className:"mt-6"},i.createElement("button",{type:"submit",disabled:D,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50"},D?"Signing in...":"Sign In")),i.createElement(mi.P.div,{variants:he,className:"mt-4 text-center"},i.createElement("button",{type:"button",onClick:function(){l(!0),re("/signup")},className:"text-sm text-indigo-400 hover:text-indigo-300 focus:outline-none"},"Don't have an account? Sign up"))))),i.createElement(mi.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-6 text-center"},i.createElement("p",{className:"text-sm text-gray-400"},"By signing up, you agree to our Terms of Service and Privacy Policy"))))};function Aa(e){return Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(e)}function Ta(){Ta=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(O([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Aa(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Aa(t)+" is not iterable")}return v.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},k(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function _a(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Na(e){return function(e){if(Array.isArray(e))return ja(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ma(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){Ra(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ra(e,t,n){return(t=function(e){var t=function(e){if("object"!=Aa(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Aa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Aa(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function La(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Ma(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ma(e,t){if(e){if("string"==typeof e)return ja(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ja(e,t):void 0}}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Da=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],Ua=[{id:"exciting",name:"Exciting & Action-packed"},{id:"thoughtful",name:"Thoughtful & Profound"},{id:"funny",name:"Funny & Light-hearted"},{id:"scary",name:"Scary & Thrilling"},{id:"emotional",name:"Emotional & Moving"}],Fa=[{id:"classic",name:"Classic (Pre-1980)"},{id:"modern",name:"Modern (1980-2010)"},{id:"recent",name:"Recent (2010-Present)"}],Ba=[{id:"en",name:"English"},{id:"es",name:"Spanish"},{id:"fr",name:"French"},{id:"de",name:"German"},{id:"hi",name:"Hindi"},{id:"ja",name:"Japanese"},{id:"ko",name:"Korean"},{id:"zh",name:"Chinese"},{id:"any",name:"Any Language"}],za=[{id:"superhero",name:"Superhero"},{id:"spy",name:"Spy/Espionage"},{id:"disaster",name:"Disaster"},{id:"dystopian",name:"Dystopian"},{id:"cyberpunk",name:"Cyberpunk"},{id:"biographical",name:"Biographical"},{id:"psychological",name:"Psychological"},{id:"satire",name:"Satire"},{id:"slasher",name:"Slasher"},{id:"noir",name:"Film Noir"},{id:"comingofage",name:"Coming of Age"},{id:"historical",name:"Historical Fiction"}],Va=[{id:"visuallyStunning",name:"Visually Stunning"},{id:"minimalist",name:"Minimalist"},{id:"colorful",name:"Colorful/Vibrant"},{id:"darkMoody",name:"Dark & Moody"},{id:"retro",name:"Retro Style"},{id:"experimental",name:"Experimental"}],Ha=[{id:"linear",name:"Linear Storytelling"},{id:"nonlinear",name:"Non-linear/Time Jumps"},{id:"anthology",name:"Anthology/Multiple Stories"},{id:"openEnded",name:"Open-ended"},{id:"twist",name:"Surprise Endings"}],qa=[{id:"complexProtagonist",name:"Complex Protagonists"},{id:"strongFemale",name:"Strong Female Characters"},{id:"antiHero",name:"Anti-heroes"},{id:"ensemble",name:"Ensemble Casts"},{id:"character-driven",name:"Character-driven Stories"}],Wa=[{id:"family",name:"Family-friendly"},{id:"teen",name:"Teen-oriented"},{id:"mature",name:"Mature Content"},{id:"graphic",name:"Graphic/Intense"}],Ga=[{id:"simple",name:"Simple & Straightforward"},{id:"moderate",name:"Moderately Complex"},{id:"intricate",name:"Intricate & Layered"},{id:"puzzle",name:"Puzzle-like/Mystery"}],Ya=[{id:"greatScore",name:"Great Musical Score"},{id:"immersiveSound",name:"Immersive Sound Design"},{id:"musical",name:"Musical Elements"},{id:"iconicSoundtrack",name:"Iconic Soundtrack"}],$a=[{id:"american",name:"American"},{id:"european",name:"European"},{id:"asian",name:"Asian"},{id:"latinAmerican",name:"Latin American"},{id:"middleEastern",name:"Middle Eastern"},{id:"african",name:"African"},{id:"international",name:"International/Global"}],Ka=[{id:"bookAdaptation",name:"Book Adaptations"},{id:"comicAdaptation",name:"Comic/Graphic Novel Adaptations"},{id:"remake",name:"Remakes/Reboots"},{id:"original",name:"Original Stories"},{id:"trueStory",name:"Based on True Stories"}],Za=[{id:"awardWinning",name:"Award-winning Films/Shows"},{id:"criticallyAcclaimed",name:"Critically Acclaimed"},{id:"cultClassic",name:"Cult Classics"},{id:"underrated",name:"Underrated Gems"},{id:"blockbuster",name:"Popular Blockbusters"}],Ja=[{id:"method",name:"Method Acting/Intense Performances"},{id:"naturalistic",name:"Naturalistic/Understated"},{id:"theatrical",name:"Theatrical/Stylized"},{id:"comedic",name:"Strong Comedic Performances"},{id:"chemistry",name:"Great Cast Chemistry"}],Qa=[{id:"fast",name:"Fast-paced"},{id:"moderate",name:"Moderate Pacing"},{id:"slow",name:"Slow & Deliberate"},{id:"atmospheric",name:"Atmospheric/Mood-driven"}],Xa=[{id:"unpredictable",name:"Unpredictable/Surprising"},{id:"comforting",name:"Familiar/Comforting"},{id:"clever",name:"Clever/Thought-provoking"},{id:"twist",name:"Plot Twists"}],es=[{id:"specialEffects",name:"Special Effects Heavy"},{id:"practical",name:"Practical Effects/Stunts"},{id:"visuallyImpressive",name:"Visually Impressive"},{id:"minimalistEffects",name:"Minimal Effects/Realistic"}],ts=[{id:"dialogue",name:"Dialogue-driven"},{id:"action",name:"Action-driven"},{id:"visualStorytelling",name:"Visual Storytelling"},{id:"narration",name:"Voiceover/Narration"}],ns=[{id:"blockbuster",name:"Big-budget Studio Films"},{id:"independent",name:"Independent Films"},{id:"lowBudget",name:"Low-budget Indie"},{id:"foreign",name:"Foreign Productions"}],rs=[{id:"comfortWatch",name:"Comfort Viewing"},{id:"challenging",name:"Challenging Content"},{id:"thoughtProvoking",name:"Thought-provoking"},{id:"educational",name:"Educational/Informative"}],os=[{id:"highRewatch",name:"High Rewatchability"},{id:"oneTime",name:"One-time Viewing Experience"},{id:"deeperEachTime",name:"Gets Better with Rewatches"}];const is=function(e){var t=e.currentUser,n=e.onComplete,r=e.onSkip,o=e.isModal,a=void 0!==o&&o,s=e.onClose,l=void 0===s?function(){}:s,c=e.existingPreferences,u=void 0===c?null:c,f=(e.isUpdate,e.onPreferencesUpdated),d=void 0===f?null:f,h=e.skipBasicQuestions,p=void 0!==h&&h,m=$e(),g=La((0,i.useState)(1),2),y=g[0],v=g[1],b=La((0,i.useState)(!1),2),w=b[0],x=b[1],E=La((0,i.useState)(!1),2),S=E[0],k=E[1],C=La((0,i.useState)(5),1)[0],P=La((0,i.useState)(5),2),A=P[0],T=P[1],_=La((0,i.useState)({favoriteGenres:[],contentType:"both",moodPreferences:[],eraPreferences:[],languagePreferences:[],runtimePreference:"any",favoritePeople:{actors:[],directors:[]},subgenrePreferences:[],aestheticPreferences:[],storyStructurePreferences:[],characterPreferences:[],maturityPreference:[],plotComplexityPreference:[],musicSoundPreferences:[],culturalSettingPreferences:[],adaptationPreferences:[],criticalAcclaimPreferences:[],actingStylePreferences:[],pacingPreferences:[],predictabilityPreferences:[],effectsPreferences:[],storytellingStylePreferences:[],productionScalePreferences:[],contentChallengePreferences:[],rewatchabilityPreferences:[],questionnaireCompleted:!1,detailedQuestionsCompleted:!1}),2),N=_[0],O=_[1],I=La((0,i.useState)(!1),2),R=I[0],L=I[1],M=La((0,i.useState)(null),2),j=M[0],D=M[1],U=La((0,i.useState)(!1),2),F=U[0],B=U[1],z=La((0,i.useState)({actor:"",director:""}),2),V=z[0],H=z[1];(0,i.useEffect)((function(){u?(O((function(e){return Ia(Ia(Ia({},e),u),{},{favoritePeople:u.favoritePeople||{actors:[],directors:[]}})})),u.questionnaireCompleted||u.detailedQuestionsCompleted?p&&u.questionnaireCompleted&&!u.detailedQuestionsCompleted?(k(!0),T(C+19),v(C+1),x(!0)):u.detailedQuestionsCompleted?(k(!0),T(C+19),v(C),x(!0)):u.questionnaireCompleted&&(x(!0),v(C)):(v(1),x(!1),k(!1),T(C))):(v(1),T(C),x(!1),k(!1))}),[u,C,p]);var q=function(e,n){O((function(r){var o=Ia(Ia({},r),{},Ra({},e,n));return t&&Y(!0,o),o}))},W=function(e,n){O((function(r){var o=r[e]||[],i=Ia(Ia({},r),{},Ra({},e,o.includes(n)?o.filter((function(e){return e!==n})):[].concat(Na(o),[n])));return t&&Y(!0,i),i}))},G=function(e){V[e]&&!N.favoritePeople[e+"s"].includes(V[e])&&(O((function(n){var r=Ia(Ia({},n),{},{favoritePeople:Ia(Ia({},n.favoritePeople),{},Ra({},e+"s",[].concat(Na(n.favoritePeople[e+"s"]),[V[e]])))});return t&&Y(!0,r),r})),H((function(t){return Ia(Ia({},t),{},Ra({},e,""))})))},Y=function(){var e,r=(e=Ta().mark((function e(){var r,o,i,a,s,l,c,u=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=u.length>0&&void 0!==u[0]&&u[0],i=u.length>1&&void 0!==u[1]?u[1]:null,t&&null!=t&&null!==(r=t.signInUserSession)&&void 0!==r&&null!==(r=r.accessToken)&&void 0!==r&&r.jwtToken){e.next=6;break}return B(!0),D("Please log in to save preferences."),e.abrupt("return");case 6:a=i||Ia(Ia({},N),{},{questionnaireCompleted:!o&&y===A,detailedQuestionsCompleted:!o&&S&&y===A}),L(!0),e.prev=8,s=t.signInUserSession.accessToken.jwtToken,e.next=13;break;case 13:return console.log("Saving preferences to API:","".concat("https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod","/preferences")),e.next=16,fetch("".concat("https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod","/preferences"),{method:"POST",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},body:JSON.stringify(a)});case 16:if((l=e.sent).ok){e.next=31;break}return e.next=20,l.text().catch((function(){return null}));case 20:if(c=e.sent,console.error("API error (".concat(l.status,"):"),c||"No error details available"),401!==l.status&&403!==l.status){e.next=26;break}throw new Error("Authentication error. Please try signing in again.");case 26:if(500!==l.status){e.next=30;break}throw new Error("Server error. Our team has been notified.");case 30:throw new Error("Failed to save preferences (Status: ".concat(l.status,")"));case 31:try{localStorage.setItem("userPrefs_".concat(t.attributes.sub),JSON.stringify(a)),localStorage.setItem("questionnaire_completed_".concat(t.attributes.sub),a.questionnaireCompleted.toString())}catch(e){console.warn("Could not save preferences to localStorage:",e)}d&&d(a),!o&&y===A&&n&&n(),e.next=40;break;case 36:e.prev=36,e.t0=e.catch(8),console.error("Error saving preferences:",e.t0),"TypeError"===e.t0.name&&e.t0.message.includes("fetch")?D("Network error. Please check your connection and try again."):e.t0.message.includes("Authentication")?(B(!0),D(e.t0.message)):D(e.t0.message||"Failed to save preferences. Please try again.");case 40:return e.prev=40,L(!1),e.finish(40);case 43:case"end":return e.stop()}}),e,null,[[8,36,40,43]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_a(i,r,o,a,s,"next",e)}function s(e){_a(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),$=function(){k(!0),T(C+19),v(C+1)},K=function(){Y(!0),l&&l()},Z=function(){return y/A*100};return i.createElement("div",{className:"w-full max-h-[90vh] overflow-y-auto custom-scrollbar"},i.createElement("div",{className:"relative bg-gray-900/60 p-6 rounded-xl"},i.createElement("div",{className:"flex justify-between items-center mb-6"},i.createElement("h2",{className:"text-xl text-white font-semibold"},"Your Preferences"),a&&i.createElement("button",{onClick:function(){var e=Ia(Ia({},N),{},{questionnaireCompleted:y>=C,detailedQuestionsCompleted:S&&y===A});Y(!0,e),l()},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white hover:bg-gray-700 transition-colors","aria-label":"Close"},i.createElement(Vi,{className:"w-5 h-5"}))),i.createElement("div",{className:"flex items-center justify-between mb-8"},i.createElement("div",{className:"text-xs text-gray-400 mr-2"},"Progress"),i.createElement("div",{className:"w-full bg-gray-700 rounded-full h-2.5"},i.createElement("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 h-2.5 rounded-full transition-all",style:{width:"".concat(Z(),"%")}})),i.createElement("div",{className:"ml-2 text-xs font-medium text-gray-400"},Math.round(Z()),"%")),j&&i.createElement("div",{className:"mb-6 p-4 bg-red-900/50 border border-red-700 text-red-200 rounded-lg"},i.createElement("p",null,j),F&&i.createElement("button",{onClick:function(){return m("/login")},className:"mt-3 px-4 py-2 bg-red-700 hover:bg-red-600 text-white rounded-md text-sm"},"Go to Login")),i.createElement(_i,{mode:"wait"},i.createElement(mi.P.div,{key:y,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"mb-8"},i.createElement("h3",{className:"text-xl sm:text-2xl font-semibold text-white mb-2"},w&&y===C?"You've completed the basic questions!":S&&y>C?function(e){switch(e){case 1:return"Any specific subgenres you like?";case 2:return"What visual style do you prefer?";case 3:return"How do you like your stories told?";case 4:return"What types of characters do you enjoy?";case 5:return"What level of maturity do you prefer?";case 6:return"How complex do you like your plots?";case 7:return"How important is music and sound?";case 8:return"Any preferred cultural settings?";case 9:return"Original stories or adaptations?";case 10:return"Do awards and acclaim matter to you?";case 11:return"What acting styles do you appreciate?";case 12:return"How fast do you like your pacing?";case 13:return"Predictable or surprising stories?";case 14:return"What's your take on special effects?";case 15:return"How should the story be delivered?";case 16:return"Blockbusters or indie films?";case 17:return"Comfort or challenging content?";case 18:return"Do you enjoy rewatching?";case 19:return"Favorite actors or directors?";default:return"Tell us more about your preferences"}}(y-C):function(e){switch(e){case 1:return"What genres do you enjoy?";case 2:return"What type of content do you prefer?";case 3:return"What mood are you usually in?";case 4:return"Do you have a preferred era?";case 5:return"Any language preferences?";default:return"Tell us your preferences"}}(y)),i.createElement("p",{className:"text-sm sm:text-base text-gray-300 mb-8"},w&&y===C?"Would you like to answer more detailed questions? This will help us better understand what you really like and tailor recommendations for you.":S&&y>C?function(e){switch(e){case 1:return"Select specific subgenres that interest you.";case 2:return"What visual aesthetics do you enjoy?";case 3:return"How do you prefer stories to be structured?";case 4:return"What character types engage you most?";case 5:return"What maturity levels suit you?";case 6:return"Do you like simple or intricate plots?";case 7:return"How much do soundtracks matter to you?";case 8:return"Any cultural settings you love?";case 9:return"Prefer adaptations or original content?";case 10:return"Does critical acclaim influence you?";case 11:return"What acting performances stand out to you?";case 12:return"Fast-paced or slow and deliberate?";case 13:return"Predictable comfort or surprises?";case 14:return"Special effects or practical stunts?";case 15:return"How do you like stories communicated?";case 16:return"Big studio films or indie projects?";case 17:return"Easy watches or thought-provoking?";case 18:return"Do you rewatch favorites often?";case 19:return"Name actors/directors you love.";default:return""}}(y-C):function(e){switch(e){case 1:return"Select all the genres that match your taste. You can choose multiple options.";case 2:return"Let us know if you're interested in movies, TV shows, or both.";case 3:return"What kind of experience do you typically look for? Select all that apply.";case 4:return"Choose your preferred time periods for content.";case 5:return"Select the languages you're comfortable watching. You can choose multiple options.";default:return""}}(y)),function(e){var t=function(e){return"p-3 rounded-lg text-sm font-medium w-full ".concat(e?"bg-purple-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700")};if(w&&e===C)return i.createElement("div",{className:"space-y-6 max-w-lg mx-auto"},i.createElement("div",{className:"bg-gray-800/70 p-6 rounded-lg text-center"},i.createElement("h4",{className:"text-lg font-medium text-white mb-4"},"You've completed the basic questions!"),i.createElement("p",{className:"text-gray-300 mb-8"},"Would you like to answer more detailed questions? This will help us better understand what you really like and tailor recommendations for you."),i.createElement("div",{className:"flex flex-col sm:flex-row gap-4 justify-center"},i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:$,className:"px-6 py-3 text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 rounded-lg font-medium text-center"},"Yes, more questions"),i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:K,className:"px-6 py-3 text-gray-300 bg-gray-800 hover:bg-gray-700 rounded-lg font-medium text-center"},"No, finish now"))));if(S&&e>C){var n=e-C;if(19===n)return i.createElement("div",{className:"space-y-5 max-w-lg mx-auto"},i.createElement("div",{className:"bg-gray-800/70 p-4 rounded-lg"},i.createElement("label",{className:"text-white mb-3 block text-base font-medium"},"Favorite Actors"),i.createElement("div",{className:"flex space-x-2"},i.createElement("input",{type:"text",value:V.actor,onChange:function(e){return H((function(t){return Ia(Ia({},t),{},{actor:e.target.value})}))},className:"p-3 rounded-lg bg-gray-700 text-white w-full focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"e.g., Tom Hanks"}),i.createElement(mi.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:function(){return G("actor")},className:"p-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 min-w-[70px]"},"Add")),i.createElement("div",{className:"mt-3 flex flex-wrap gap-2"},N.favoritePeople.actors.map((function(e){return i.createElement("span",{key:e,className:"bg-gray-700 text-white px-3 py-1.5 rounded-full text-sm flex items-center"},e,i.createElement("button",{onClick:function(){return O((function(t){return Ia(Ia({},t),{},{favoritePeople:Ia(Ia({},t.favoritePeople),{},{actors:t.favoritePeople.actors.filter((function(t){return t!==e}))})})}))},className:"ml-2 text-red-400 hover:text-red-300"},""))})))),i.createElement("div",{className:"bg-gray-800/70 p-4 rounded-lg"},i.createElement("label",{className:"text-white mb-3 block text-base font-medium"},"Favorite Directors"),i.createElement("div",{className:"flex space-x-2"},i.createElement("input",{type:"text",value:V.director,onChange:function(e){return H((function(t){return Ia(Ia({},t),{},{director:e.target.value})}))},className:"p-3 rounded-lg bg-gray-700 text-white w-full focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"e.g., Christopher Nolan"}),i.createElement(mi.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:function(){return G("director")},className:"p-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 min-w-[70px]"},"Add")),i.createElement("div",{className:"mt-3 flex flex-wrap gap-2"},N.favoritePeople.directors.map((function(e){return i.createElement("span",{key:e,className:"bg-gray-700 text-white px-3 py-1.5 rounded-full text-sm flex items-center"},e,i.createElement("button",{onClick:function(){return O((function(t){return Ia(Ia({},t),{},{favoritePeople:Ia(Ia({},t.favoritePeople),{},{directors:t.favoritePeople.directors.filter((function(t){return t!==e}))})})}))},className:"ml-2 text-red-400 hover:text-red-300"},""))})))));switch(n){case 1:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},za.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.subgenrePreferences.includes(e.id)),onClick:function(){return W("subgenrePreferences",e.id)}},e.name)})));case 2:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},Va.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.aestheticPreferences.includes(e.id)),onClick:function(){return W("aestheticPreferences",e.id)}},e.name)})));case 3:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},Ha.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.storyStructurePreferences.includes(e.id)),onClick:function(){return W("storyStructurePreferences",e.id)}},e.name)})));case 4:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},qa.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.characterPreferences.includes(e.id)),onClick:function(){return W("characterPreferences",e.id)}},e.name)})));case 5:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-w-md mx-auto"},Wa.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.maturityPreference.includes(e.id)),onClick:function(){return W("maturityPreference",e.id)}},e.name)})));case 6:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-w-md mx-auto"},Ga.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.plotComplexityPreference.includes(e.id)),onClick:function(){return W("plotComplexityPreference",e.id)}},e.name)})));case 7:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},Ya.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.musicSoundPreferences.includes(e.id)),onClick:function(){return W("musicSoundPreferences",e.id)}},e.name)})));case 8:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},$a.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.culturalSettingPreferences.includes(e.id)),onClick:function(){return W("culturalSettingPreferences",e.id)}},e.name)})));case 9:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},Ka.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.adaptationPreferences.includes(e.id)),onClick:function(){return W("adaptationPreferences",e.id)}},e.name)})));case 10:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},Za.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.criticalAcclaimPreferences.includes(e.id)),onClick:function(){return W("criticalAcclaimPreferences",e.id)}},e.name)})));case 11:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},Ja.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.actingStylePreferences.includes(e.id)),onClick:function(){return W("actingStylePreferences",e.id)}},e.name)})));case 12:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-w-md mx-auto"},Qa.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.pacingPreferences.includes(e.id)),onClick:function(){return W("pacingPreferences",e.id)}},e.name)})));case 13:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-w-md mx-auto"},Xa.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.predictabilityPreferences.includes(e.id)),onClick:function(){return W("predictabilityPreferences",e.id)}},e.name)})));case 14:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},es.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.effectsPreferences.includes(e.id)),onClick:function(){return W("effectsPreferences",e.id)}},e.name)})));case 15:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},ts.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.storytellingStylePreferences.includes(e.id)),onClick:function(){return W("storytellingStylePreferences",e.id)}},e.name)})));case 16:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},ns.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.productionScalePreferences.includes(e.id)),onClick:function(){return W("productionScalePreferences",e.id)}},e.name)})));case 17:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-w-md mx-auto"},rs.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.contentChallengePreferences.includes(e.id)),onClick:function(){return W("contentChallengePreferences",e.id)}},e.name)})));case 18:return i.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 max-w-md mx-auto"},os.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.rewatchabilityPreferences.includes(e.id)),onClick:function(){return W("rewatchabilityPreferences",e.id)}},e.name)})));default:return null}}switch(e){case 1:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},Da.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.favoriteGenres.includes(e.id)),onClick:function(){return W("favoriteGenres",e.id)}},e.name)})));case 2:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-w-md mx-auto"},i.createElement(mi.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:t("movies"===N.contentType),onClick:function(){return q("contentType","movies")}},"Movies"),i.createElement(mi.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:t("tv"===N.contentType),onClick:function(){return q("contentType","tv")}},"TV Shows"),i.createElement(mi.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:t("both"===N.contentType),onClick:function(){return q("contentType","both")}},"Both"));case 3:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},Ua.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.moodPreferences.includes(e.id)),onClick:function(){return W("moodPreferences",e.id)}},e.name)})));case 4:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-w-md mx-auto"},Fa.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.eraPreferences.includes(e.id)),onClick:function(){return W("eraPreferences",e.id)}},e.name)})));case 5:return i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},Ba.map((function(e){return i.createElement(mi.P.button,{key:e.id,whileHover:{scale:1.02},whileTap:{scale:.98},className:t(N.languagePreferences.includes(e.id)),onClick:function(){return W("languagePreferences",e.id)}},e.name)})));default:return null}}(y))),i.createElement("div",{className:"flex justify-between pt-6 border-t border-gray-700 mt-8"},i.createElement("div",null,y>1&&i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:function(){y>1&&v((function(e){return e-1})),w&&y===C+1&&x(!1)},className:"px-5 py-2.5 text-sm sm:text-base text-gray-300 hover:text-white bg-gray-800 hover:bg-gray-700 rounded-lg"},"Previous")),i.createElement("div",{className:"flex space-x-3 sm:space-x-4"},!(w&&y===C)&&i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:function(){r&&r()},className:"px-4 py-2.5 text-sm text-gray-400 hover:text-gray-300"},"Skip for now"),!(w&&y===C)&&(y<A?i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:function(){y<A?v((function(e){return e+1})):Y(!1),y!==C||w||x(!0)},className:"px-5 py-2.5 text-sm sm:text-base text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 rounded-lg font-medium"},"Next"):i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:function(){return Y(!1)},disabled:R,className:"px-6 py-2.5 text-sm sm:text-base text-white rounded-lg font-medium ".concat(R?"bg-gray-600":"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700")},R?"Saving...":"Finish"))))))};var as=o(1083);function ss(e){return ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(e)}function ls(){ls=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(O([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==ss(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(ss(t)+" is not iterable")}return v.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},k(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(n),!0).forEach((function(t){fs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fs(e,t,n){return(t=function(e){var t=function(e){if("object"!=ss(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ss(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ss(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ds(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function hs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||ps(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ps(e,t){if(e){if("string"==typeof e)return ms(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ms(e,t):void 0}}function ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const gs=function(e){var t,n=e.currentUser,r=e.onMediaClick,o=hs((0,i.useState)([]),2),a=o[0],s=o[1],l=hs((0,i.useState)(!0),2),c=l[0],u=l[1],f=hs((0,i.useState)("day"),2),d=f[0],h=f[1],p=hs((0,i.useState)("day"),2),m=p[0],g=p[1];return(0,i.useEffect)((function(){var e=function(){var e,t=(e=ls().mark((function e(){var t,n;return ls().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,as.A.get("https://api.themoviedb.org/3/trending/all/".concat(d),{params:{api_key:"b484a8d608caf759d5d575db3ec03bbc"}});case 4:t=e.sent,n=t.data.results.map((function(e){return us(us({},e),{},{score:Math.round(10*e.vote_average)})})).slice(0,6),s(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching trending content:",e.t0);case 12:return e.prev=12,u(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ds(i,r,o,a,s,"next",e)}function s(e){ds(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[d]),i.createElement("section",{className:"mb-12 max-w-7xl mx-auto px-4"},i.createElement("div",{className:"flex items-center justify-between mb-6"},i.createElement("h2",{className:"text-2xl font-bold text-white"},"Trending Today"),i.createElement("div",{className:"flex space-x-2"},i.createElement("button",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("day"===m?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),onClick:function(){"day"===m?(g(null),h("day")):(g("day"),h("day"))}},"Today"),i.createElement("button",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("week"===m?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),onClick:function(){"week"===m?(g(null),h("day")):(g("week"),h("week"))}},"This Week"))),i.createElement(_i,{mode:"wait"},c?i.createElement(mi.P.div,{key:"skeleton",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},(t=Array(6),function(e){if(Array.isArray(e))return ms(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||ps(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e,t){return i.createElement("div",{key:t,className:"bg-gray-800 rounded-xl overflow-hidden h-[350px] shadow-lg animate-pulse max-w-full"},i.createElement("div",{className:"h-[180px] bg-gray-700"}),i.createElement("div",{className:"p-4 space-y-3"},i.createElement("div",{className:"h-5 bg-gray-700 rounded w-3/4"}),i.createElement("div",{className:"h-4 bg-gray-700 rounded w-1/2"}),i.createElement("div",{className:"h-4 bg-gray-700 rounded w-full"}),i.createElement("div",{className:"flex justify-between pt-2"},i.createElement("div",{className:"h-4 bg-gray-700 rounded w-16"}),i.createElement("div",{className:"h-4 bg-gray-700 rounded w-12"}))))}))):i.createElement(mi.P.div,{key:"content",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},a.map((function(e){return i.createElement(oa.default,{key:e.id,result:e,currentUser:n,onClick:r,promptLogin:function(){}})})))))};function ys({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M4.5 4.5a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h8.25a3 3 0 0 0 3-3v-9a3 3 0 0 0-3-3H4.5ZM19.94 18.75l-2.69-2.69V7.94l2.69-2.69c.944-.945 2.56-.276 2.56 1.06v11.38c0 1.336-1.616 2.005-2.56 1.06Z"}))}const vs=i.forwardRef(ys);function bs({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 18.375V5.625Zm1.5 0v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5A.375.375 0 0 0 3 5.625Zm16.125-.375a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5A.375.375 0 0 0 21 7.125v-1.5a.375.375 0 0 0-.375-.375h-1.5ZM21 9.375A.375.375 0 0 0 20.625 9h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5ZM4.875 18.75a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5ZM3.375 15h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375Zm0-3.75h1.5a.375.375 0 0 0 .375-.375v-1.5A.375.375 0 0 0 4.875 9h-1.5A.375.375 0 0 0 3 9.375v1.5c0 .207.168.375.375.375Zm4.125 0a.75.75 0 0 0 0 1.5h9a.75.75 0 0 0 0-1.5h-9Z",clipRule:"evenodd"}))}const ws=i.forwardRef(bs);function xs({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M19.5 6h-15v9h15V6Z"}),i.createElement("path",{fillRule:"evenodd",d:"M3.375 3C2.339 3 1.5 3.84 1.5 4.875v11.25C1.5 17.16 2.34 18 3.375 18H9.75v1.5H6A.75.75 0 0 0 6 21h12a.75.75 0 0 0 0-1.5h-3.75V18h6.375c1.035 0 1.875-.84 1.875-1.875V4.875C22.5 3.839 21.66 3 20.625 3H3.375Zm0 13.5h17.25a.375.375 0 0 0 .375-.375V4.875a.375.375 0 0 0-.375-.375H3.375A.375.375 0 0 0 3 4.875v11.25c0 .207.168.375.375.375Z",clipRule:"evenodd"}))}const Es=i.forwardRef(xs);function Ss({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const ks=i.forwardRef(Ss);function Cs({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M12 .75a8.25 8.25 0 0 0-4.135 15.39c.686.398 1.115 1.008 1.134 1.623a.75.75 0 0 0 .577.706c.352.083.71.148 1.074.195.323.041.6-.218.6-.544v-4.661a6.714 6.714 0 0 1-.937-.171.75.75 0 1 1 .374-1.453 5.261 5.261 0 0 0 2.626 0 .75.75 0 1 1 .374 1.452 6.712 6.712 0 0 1-.937.172v4.66c0 .327.277.586.6.545.364-.047.722-.112 1.074-.195a.75.75 0 0 0 .577-.706c.02-.615.448-1.225 1.134-1.623A8.25 8.25 0 0 0 12 .75Z"}),i.createElement("path",{fillRule:"evenodd",d:"M9.013 19.9a.75.75 0 0 1 .877-.597 11.319 11.319 0 0 0 4.22 0 .75.75 0 1 1 .28 1.473 12.819 12.819 0 0 1-4.78 0 .75.75 0 0 1-.597-.876ZM9.754 22.344a.75.75 0 0 1 .824-.668 13.682 13.682 0 0 0 2.844 0 .75.75 0 1 1 .156 1.492 15.156 15.156 0 0 1-3.156 0 .75.75 0 0 1-.668-.824Z",clipRule:"evenodd"}))}const Ps=i.forwardRef(Cs);function As(e){return As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(e)}function Ts(){Ts=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(O([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==As(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(As(t)+" is not iterable")}return v.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},k(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function _s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(n),!0).forEach((function(t){Os(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Os(e,t,n){return(t=function(e){var t=function(e){if("object"!=As(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=As(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==As(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Is(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var Rs="https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod",Ls=function(){var e,t=(e=Ts().mark((function e(){var t,n,r,o,i,a,s,l,c,u,f,d,h,p,m,g,y,v,b,w,x,E,S,k,C,P,A,T,_,N,O,I,R=arguments;return Ts().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=R.length>0&&void 0!==R[0]?R[0]:{}).mediaType,r=void 0===n?"both":n,o=t.limit,i=void 0===o?6:o,a=t.excludeIds,s=void 0===a?[]:a,l=t.token,c=t.preferences,u=void 0===c?{}:c,f=t.favoriteIds,d=void 0===f?[]:f,h=t.watchlistIds,p=void 0===h?[]:h,m=t.forceRefresh,g=void 0!==m&&m,y=s.map(String),v=d.map(String),b=p.map(String),w=JSON.stringify({v:2,mediaType:r,limit:i,excludeIds:y.sort(),preferences:u,favoriteIds:v.sort(),watchlistIds:b.sort()}),x="media_rec_cache_v2_"+btoa(unescape(encodeURIComponent(w))),g){e.next=31;break}if(e.prev=8,!(E=localStorage.getItem(x))){e.next=23;break}if(S=JSON.parse(E),k=S.timestamp,C=S.data,Ms(k)){e.next=21;break}if(console.log("[MediaCache] Using client-side cache (forceRefresh=false)"),!(C&&C.items&&C.source)){e.next=18;break}return e.abrupt("return",C);case 18:localStorage.removeItem(x);case 19:e.next=23;break;case 21:console.log("[MediaCache] Client cache expired"),localStorage.removeItem(x);case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(8),console.warn("[MediaCache] Error reading client cache:",e.t0),localStorage.removeItem(x);case 29:e.next=32;break;case 31:console.log("[MediaCache] Bypassing client cache (forceRefresh=true)");case 32:if(e.prev=32,console.log("[MediaCache] Attempting to fetch from Personalized API (forceRefresh=".concat(g,")")),Rs){e.next=37;break}return console.error("[MediaCache] API_GATEWAY_URL is not defined. Check environment variables."),e.abrupt("return",{items:[],source:"error"});case 37:return P="".concat(Rs,"/media-recommendations"),console.log("[MediaCache] Fetching from: ".concat(P)),e.next=41,as.A.get(P,{params:Ns(Ns(Ns({mediaType:r,exclude:y.join(",")},Object.keys(u).length>0&&{preferences:JSON.stringify(u)}),v.length>0&&{favorites:v.join(",")}),b.length>0&&{watchlist:b.join(",")}),headers:l?{Authorization:"Bearer ".concat(l)}:{},timeout:15e3});case 41:if(200!==(A=e.sent).status||!A.data||!Array.isArray(A.data.items)){e.next=50;break}T=A.data.items,_=A.data.source||"personalized_lambda",console.log("[MediaCache] Successfully fetched ".concat(T.length," items from ").concat(_)),N=T.map((function(e){return{id:parseInt(e.mediaId,10),media_type:e.mediaType,title:e.title,name:e.title,overview:e.overview,poster_path:e.posterPath,backdrop_path:e.backdropPath,vote_average:e.voteAverage,release_date:e.releaseDate,popularity:e.popularity,genre_ids:e.genres?e.genres.split("|").map((function(e){return parseInt(e,10)})).filter(Number.isFinite):[],genre:e.genre||null}})),O={items:N,source:_};try{localStorage.setItem(x,JSON.stringify({timestamp:(new Date).toISOString(),data:O}))}catch(e){console.warn("[MediaCache] Error writing to client cache:",e)}return e.abrupt("return",O);case 50:return console.log("[MediaCache] No valid response from API"),e.abrupt("return",{items:[],source:"error"});case 54:return e.prev=54,e.t1=e.catch(32),I=e.t1.message,e.t1.response?(I="Status: ".concat(e.t1.response.status,", Data: ").concat(JSON.stringify(e.t1.response.data),", Headers: ").concat(JSON.stringify(e.t1.response.headers)),console.error("[MediaCache] API Error Response:",e.t1.response)):e.t1.request?(I="No response received from server.",console.error("[MediaCache] API No Response:",e.t1.request)):console.error("[MediaCache] API Request Setup Error:",e.t1.message),console.error("[MediaCache] Full Error fetching from API: ".concat(I),e.t1),e.abrupt("return",{items:[],source:"error"});case 60:case"end":return e.stop()}}),e,null,[[8,25],[32,54]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Is(i,r,o,a,s,"next",e)}function s(e){Is(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),Ms=function(e){if(!e)return!0;var t="number"==typeof e?e:new Date(e).getTime();return!!isNaN(t)||Date.now()-t>864e5};function js(e){return js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(e)}function Ds(e){return function(e){if(Array.isArray(e))return Ws(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Us(){Us=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(O([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==js(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(js(t)+" is not iterable")}return v.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},k(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Fs(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Bs(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Fs(i,r,o,a,s,"next",e)}function s(e){Fs(i,r,o,a,s,"throw",e)}a(void 0)}))}}function zs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zs(Object(n),!0).forEach((function(t){Hs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hs(e,t,n){return(t=function(e){var t=function(e){if("object"!=js(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=js(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==js(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qs(e,t){if(e){if("string"==typeof e)return Ws(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ws(e,t):void 0}}function Ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Gs=function(e,t){console.error("[PersonalRecs] ".concat(e),t)},Ys=(0,i.forwardRef)((function(e,t){var n,r,o,a=e.currentUser,s=e.isAuthenticated,l=e.propUserPreferences,c=e.propHasCompletedQuestionnaire,u=e.initialAppLoadComplete,f=void 0!==u&&u,d=e.onMediaClick,h=s?null==a||null===(n=a.attributes)||void 0===n?void 0:n.sub:null,p=(r=(0,i.useState)({allRecommendations:[],recommendations:[],displayIndex:0,dataSource:null,recommendationReason:"",shownItemsHistory:new Set,isLoading:!1,isThinking:!1,isRefreshing:!1,hasError:!1,errorMessage:"",refreshCounter:0,contentTypeFilter:"both"}),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(r,o)||qs(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=p[0],g=p[1],y=m.allRecommendations,v=m.recommendations,b=m.displayIndex,w=m.dataSource,x=m.recommendationReason,E=m.shownItemsHistory,S=m.isLoading,k=m.isThinking,C=m.hasError,P=m.errorMessage,A=m.refreshCounter,T=m.contentTypeFilter,_=(0,i.useRef)(!1),N=(0,i.useRef)(0),O=(0,i.useRef)(!0),I=(0,i.useRef)(null),R=(0,i.useRef)(null),L=(0,i.useRef)(null),M=(0,i.useRef)(!1);(0,i.useEffect)((function(){return O.current=!0,function(){O.current=!1,I.current&&clearTimeout(I.current)}}),[]);var j=(0,i.useCallback)((function(e){O.current&&g((function(t){return Vs(Vs({},t),e)}))}),[]);(0,i.useEffect)((function(){var e,t=null==a||null===(e=a.attributes)||void 0===e?void 0:e.sub;t!==L.current&&(j({allRecommendations:[],recommendations:[],displayIndex:0,dataSource:null,recommendationReason:"",shownItemsHistory:new Set,isLoading:!1,isThinking:!1,isRefreshing:!1,hasError:!1,errorMessage:"",refreshCounter:0,contentTypeFilter:"both"}),_.current=!1,M.current=!1,N.current=0,R.current=null,L.current=t)}),[a,j]);var D=(0,i.useCallback)(function(){var e=Bs(Us().mark((function e(t){var n,r,o,i,s,l,c,u,f,d=arguments;return Us().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:new Set,r=d.length>2&&void 0!==d[2]?d[2]:{},o=d.length>3&&void 0!==d[3]?d[3]:[],i=d.length>4&&void 0!==d[4]?d[4]:[],s=d.length>5&&void 0!==d[5]&&d[5],n.size,o.length,i.length,e.prev=6,c=null==a||null===(l=a.signInUserSession)||void 0===l||null===(l=l.accessToken)||void 0===l?void 0:l.jwtToken,u="both"===t?"both":"movies"===t?"movie":"tv",e.next=11,Ls({mediaType:u,excludeIds:Array.from(n),token:c,preferences:r,favoriteIds:o,watchlistIds:i,forceRefresh:s});case 11:if(!((f=e.sent).items&&f.items.length>0)){e.next=15;break}return"Successfully fetched ".concat(f.items.length," items via fetchCachedMedia. Source: ").concat(f.source),e.abrupt("return",{success:!0,recommendations:f.items,dataSource:f.source,reason:"client-cache"===f.source?"From your recent recommendations":"Fresh recommendations for you"});case 15:return e.abrupt("return",{success:!1,dataSource:f.source});case 19:return e.prev=19,e.t0=e.catch(6),Gs("Error calling fetchCachedMedia",e.t0),e.abrupt("return",{success:!1,dataSource:"error"});case 23:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}(),[a]),U=(0,i.useCallback)(Bs(Us().mark((function e(){var t,n,r,o,i,c,u,d,p,m,g,y,v=arguments;return Us().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v.length>0&&void 0!==v[0]&&v[0],s&&h&&f&&!_.current){e.next=5;break}return _.current||j({isLoading:!1,isThinking:!1,isRefreshing:!1}),_.current,e.abrupt("return",!1);case 5:return"Starting fetchRecommendations (forceRefresh: ".concat(t,")"),_.current=!0,M.current=!0,N.current=0,j({isRefreshing:t,isThinking:!0,hasError:!1,errorMessage:"",isLoading:!0}),I.current&&clearTimeout(I.current),I.current=setTimeout((function(){_.current&&O.current&&(Gs("Loading timeout reached"),j({isLoading:!1,isThinking:!1,isRefreshing:!1,hasError:!0,errorMessage:"Loading recommendations timed out. Please try refreshing.",dataSource:"error",allRecommendations:[],recommendations:[],displayIndex:0}),_.current=!1)}),15e3),n=!1,r="none",o="",i=[],e.prev=16,null==a||null===(c=a.signInUserSession)||void 0===c||null===(c=c.accessToken)||void 0===c||c.jwtToken,u=l||{},d=new Set(Array.from(E)),p=[],m=[],e.next=25,D(T,d,u,p,m,t);case 25:(g=e.sent).success&&g.recommendations.length>0?(i=g.recommendations,r=g.dataSource,o=g.reason,n=!0,"Fetch successful, received ".concat(i.length," items. Source: ").concat(r),y=new Set([].concat(Ds(Array.from(E)),Ds(i.map((function(e){var t;return null===(t=e.id)||void 0===t?void 0:t.toString()})))).slice(-150)),j({allRecommendations:i,recommendations:i.slice(0,3),displayIndex:0,dataSource:r,recommendationReason:o,hasError:!1,errorMessage:"",shownItemsHistory:y})):j({allRecommendations:[],recommendations:[],displayIndex:0,dataSource:g.dataSource||"none",recommendationReason:"Could not find recommendations matching your profile. Try adjusting preferences or adding favorites!",hasError:"error"===g.dataSource,errorMessage:"error"===g.dataSource?"Failed to fetch recommendations from the server.":""}),e.next=41;break;case 29:if(e.prev=29,e.t0=e.catch(16),Gs("Fetch recommendations main error",e.t0),!(N.current<2)){e.next=39;break}return N.current++,"Retrying fetch (".concat(N.current,"/").concat(2,")..."),_.current=!1,I.current&&clearTimeout(I.current),setTimeout((function(){return U(t)}),1500),e.abrupt("return",!1);case 39:j({allRecommendations:[],recommendations:[],displayIndex:0,dataSource:"error",recommendationReason:"Error fetching recommendations",hasError:!0,errorMessage:e.t0.message||"An unexpected error occurred"}),n=!1;case 41:return e.prev=41,I.current&&clearTimeout(I.current),O.current&&j({isLoading:!1,isThinking:!1,isRefreshing:!1}),_.current=!1,e.finish(41);case 46:return e.abrupt("return",n&&N.current<2);case 47:case"end":return e.stop()}}),e,null,[[16,29,41,46]])}))),[a,s,h,f,l,T,E,D,j]),F=(0,i.useCallback)((function(e,t){"Media favorite status changed: ".concat(e," - ").concat(t?"Added to":"Removed from"," favorites"),t&&j((function(t){return{recommendations:t.recommendations.filter((function(t){var n;return(null===(n=t.id)||void 0===n?void 0:n.toString())!==(null==e?void 0:e.toString())})),allRecommendations:t.allRecommendations.filter((function(t){var n;return(null===(n=t.id)||void 0===n?void 0:n.toString())!==(null==e?void 0:e.toString())})),shownItemsHistory:new Set([].concat(Ds(t.shownItemsHistory),[null==e?void 0:e.toString()]))}}))}),[j]),B=(0,i.useCallback)((function(e,t){"Media watchlist status changed: ".concat(e," - ").concat(t?"Added to":"Removed from"," watchlist"),t&&j((function(t){return{recommendations:t.recommendations.filter((function(t){var n;return(null===(n=t.id)||void 0===n?void 0:n.toString())!==(null==e?void 0:e.toString())})),allRecommendations:t.allRecommendations.filter((function(t){var n;return(null===(n=t.id)||void 0===n?void 0:n.toString())!==(null==e?void 0:e.toString())})),shownItemsHistory:new Set([].concat(Ds(t.shownItemsHistory),[null==e?void 0:e.toString()]))}}))}),[j]),z=(0,i.useCallback)(Bs(Us().mark((function e(){return Us().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.current&&h&&s){e.next=2;break}return e.abrupt("return");case 2:if(!(0===b&&y.length>3)){e.next=8;break}j({isThinking:!0,recommendations:y.slice(3,6),displayIndex:1,refreshCounter:m.refreshCounter+1}),setTimeout((function(){return j({isThinking:!1})}),300),e.next=12;break;case 8:return j({isLoading:!0,isThinking:!0,isRefreshing:!0,refreshCounter:m.refreshCounter+1}),e.next=12,U(!0);case 12:case"end":return e.stop()}}),e)}))),[h,s,b,y,U,j,m.refreshCounter]);if((0,i.useEffect)((function(){s&&h&&f&&!M.current?(j({isLoading:!0,isThinking:!0}),U(!1)):M.current}),[s,h,f,U,j]),(0,i.useEffect)((function(){if(f&&c){var e=JSON.stringify(l||null);null!==R.current&&R.current!==e&&z(),R.current=e}}),[f,c,l,z]),(0,i.useImperativeHandle)(t,(function(){return{refreshRecommendations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(R.current=JSON.stringify(e)),z()}}})),(0,i.useEffect)((function(){var e=function(e){var t=e.detail||{},n=t.mediaId,r=t.type;n&&("External ".concat(r," update detected for: ").concat(n,". Removing from current display."),j((function(e){return{recommendations:e.recommendations.filter((function(e){var t;return(null===(t=e.id)||void 0===t?void 0:t.toString())!==(null==n?void 0:n.toString())})),allRecommendations:e.allRecommendations.filter((function(e){var t;return(null===(t=e.id)||void 0===t?void 0:t.toString())!==(null==n?void 0:n.toString())})),shownItemsHistory:new Set([].concat(Ds(e.shownItemsHistory),[null==n?void 0:n.toString()]))}})))},t=function(t){return e(Vs(Vs({},t),{},{detail:Vs(Vs({},t.detail),{},{type:"favorite"})}))},n=function(t){return e(Vs(Vs({},t),{},{detail:Vs(Vs({},t.detail),{},{type:"watchlist"})}))};return document.addEventListener("favorites-updated",t),document.addEventListener("watchlist-updated",n),function(){document.removeEventListener("favorites-updated",t),document.removeEventListener("watchlist-updated",n)}}),[j]),!s||!f)return null;var V,H=S,q=!S&&v.length>0,W=!S&&C,G=!S&&!C&&M.current&&0===v.length;V=H?i.createElement(mi.P.div,{key:"loading-".concat(A),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},i.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6"},Ds(Array(3)).map((function(e,t){return i.createElement("div",{key:t,className:"bg-gray-800 rounded-xl h-[350px] shadow-md overflow-hidden animate-pulse"},i.createElement("div",{className:"h-3/5 bg-gray-700"}),i.createElement("div",{className:"p-4 space-y-3"},i.createElement("div",{className:"h-5 bg-gray-700 rounded w-3/4"}),i.createElement("div",{className:"h-4 bg-gray-700 rounded w-1/2"}),i.createElement("div",{className:"h-4 bg-gray-700 rounded w-full"})))})))):q?i.createElement(mi.P.div,{key:"recommendations-".concat(A,"-").concat(b),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 lg:gap-6"},v.map((function(e){return i.createElement(mi.P.div,{key:e.id,initial:"hidden",animate:"visible",variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}}},i.createElement(oa.default,{result:e,currentUser:a,onFavoriteToggle:F,onWatchlistToggle:B,onClick:d}))}))):W?i.createElement(mi.P.div,{key:"error",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"text-center py-12 bg-gray-800/50 rounded-xl p-8 border border-red-700"},i.createElement("div",{className:"mb-4 text-5xl text-red-400"},""),i.createElement("h3",{className:"text-xl font-semibold text-white mb-3"},"Something went wrong"),i.createElement("p",{className:"text-gray-400 mb-6"},P||"We couldn't load recommendations"),i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:z,disabled:k,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 rounded-full ".concat(k?"opacity-50 cursor-not-allowed":"")},k?"Trying...":"Try Again")):G?i.createElement(mi.P.div,{key:"empty",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"text-center py-12 bg-gray-800/50 rounded-xl p-8 border border-gray-700"},i.createElement("div",{className:"mb-4 text-5xl text-indigo-400"},""),i.createElement("h3",{className:"text-xl font-semibold text-white mb-3"},"No Recommendations Found"),i.createElement("p",{className:"text-gray-400 mb-6"},x||"We couldn't find anything matching your profile right now."),i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:z,disabled:k,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 rounded-full ".concat(k?"opacity-50 cursor-not-allowed":"")},k?"Loading...":"Get New Recommendations")):i.createElement("div",{key:"fallback",className:"min-h-[200px]"});var Y="Recommendations For You";return"error"===w?Y="Error Loading":"client-cache"===w?Y="Recent Recommendations":"personalized_lambda"===w||"dynamo_personalized"===w?Y="Fresh Recommendations":"none"===w&&(Y="No Recommendations Found"),i.createElement(mi.P.section,{initial:{opacity:0},animate:{opacity:1},className:"mb-12 max-w-7xl mx-auto px-4"},i.createElement("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-3"},i.createElement("h2",{className:"text-xl sm:text-2xl font-bold text-white"},Y),i.createElement("div",{className:"flex flex-wrap gap-2"},i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:function(){j({contentTypeFilter:"both"}),z()},className:"flex items-center space-x-1 px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs sm:text-sm ".concat("both"===T?"bg-indigo-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"),disabled:k},i.createElement(vs,{className:"h-3 w-3 sm:h-4 sm:w-4"})," ",i.createElement("span",null,"Both")),i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:function(){j({contentTypeFilter:"movies"}),z()},className:"flex items-center space-x-1 px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs sm:text-sm ".concat("movies"===T?"bg-indigo-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"),disabled:k},i.createElement(ws,{className:"h-3 w-3 sm:h-4 sm:w-4"})," ",i.createElement("span",null,"Movies")),i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:function(){j({contentTypeFilter:"tv"}),z()},className:"flex items-center space-x-1 px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs sm:text-sm ".concat("tv"===T?"bg-indigo-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"),disabled:k},i.createElement(Es,{className:"h-3 w-3 sm:h-4 sm:w-4"})," ",i.createElement("span",null,"TV Shows")),i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:z,disabled:k,className:"flex items-center space-x-1 px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs sm:text-sm ".concat(k?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700")},i.createElement(mi.P.div,{animate:k?{rotate:360}:{rotate:0},transition:k?{repeat:1/0,duration:1,ease:"linear"}:{duration:.3}},i.createElement(ks,{className:"h-3 w-3 sm:h-4 sm:w-4"})),i.createElement("span",null,k?"Loading...":"Get New Recommendations")))),!S&&!C&&x&&v.length>0&&i.createElement(mi.P.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-4 text-gray-300 text-sm flex items-center"},i.createElement(Ps,{className:"h-4 w-4 text-yellow-400 mr-1.5 flex-shrink-0"}),i.createElement("span",null,x)),i.createElement(_i,{mode:"wait"},V))}));Ys.displayName="PersonalizedRecommendations";const $s=Ys;function Ks(e){return Ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(e)}function Zs(){Zs=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(O([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Ks(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Ks(t)+" is not iterable")}return v.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},k(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Js(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Qs(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Js(i,r,o,a,s,"next",e)}function s(e){Js(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Xs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return el(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?el(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function el(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tl=[{id:28,name:"Action",icon:""},{id:35,name:"Comedy",icon:""},{id:18,name:"Drama",icon:""},{id:27,name:"Horror",icon:""},{id:878,name:"Sci-Fi",icon:""},{id:10749,name:"Romance",icon:""},{id:12,name:"Adventure",icon:""},{id:16,name:"Animation",icon:""}];const nl=function(e){var t=e.onCategorySelect,n=Xs((0,i.useState)(null),2),r=n[0],o=n[1],a=Xs((0,i.useState)({}),2),s=a[0],l=a[1],c=Xs((0,i.useState)(!0),2),u=c[0],f=c[1];return(0,i.useEffect)((function(){var e=function(){var e=Qs(Zs().mark((function e(){var t,n,r;return Zs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),t=tl.map(function(){var e=Qs(Zs().mark((function e(t){var n,r;return Zs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,as.A.get("https://api.themoviedb.org/3/discover/movie",{params:{api_key:"b484a8d608caf759d5d575db3ec03bbc",with_genres:t.id,sort_by:"popularity.desc"}});case 2:if(!((n=e.sent).data.results.length>0)){e.next=6;break}return r=n.data.results[0],e.abrupt("return",{id:t.id,backdrop:r.backdrop_path});case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.all(t);case 5:n=e.sent,r={},n.filter(Boolean).forEach((function(e){r[e.id]=e.backdrop})),l(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching category backgrounds:",e.t0);case 14:return e.prev=14,f(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),i.createElement("section",{className:"mb-12 max-w-7xl mx-auto px-4"},i.createElement("h2",{className:"text-2xl font-bold text-white mb-6"},"Browse Categories"),i.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},tl.map((function(e){return i.createElement(mi.P.div,{key:e.id,onClick:function(){return n=e.id,o(n),void(t&&t(n));var n},className:"relative overflow-hidden rounded-lg cursor-pointer h-32 ".concat(r===e.id?"ring-2 ring-indigo-500":""),whileHover:{scale:1.05},whileTap:{scale:.95}},u?i.createElement("div",{className:"absolute inset-0 bg-gray-800 animate-pulse"},i.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center"},i.createElement("div",{className:"w-12 h-12 rounded-full bg-gray-700 mb-2"}),i.createElement("div",{className:"h-5 bg-gray-700 rounded w-24"}))):i.createElement(i.Fragment,null,s[e.id]&&i.createElement("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(https://image.tmdb.org/t/p/w500".concat(s[e.id],")"),filter:"brightness(60%)"}}),i.createElement("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),i.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center"},i.createElement("span",{className:"text-2xl mb-2"},e.icon),i.createElement("h3",{className:"text-white text-lg font-semibold"},e.name))))}))))};function rl(e){return rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(e)}function ol(){ol=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(O([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==rl(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(rl(t)+" is not iterable")}return v.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},k(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function il(e){return function(e){if(Array.isArray(e))return dl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?al(Object(n),!0).forEach((function(t){ll(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ll(e,t,n){return(t=function(e){var t=function(e){if("object"!=rl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=rl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cl(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ul(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||fl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fl(e,t){if(e){if("string"==typeof e)return dl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dl(e,t):void 0}}function dl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const hl=function(e){var t=e.genreId,n=e.mediaType,r=void 0===n?"movie":n,o=e.currentUser,a=e.onMediaClick,s=ul((0,i.useState)([]),2),l=s[0],c=s[1],u=ul((0,i.useState)(!1),2),f=u[0],d=u[1],h=ul((0,i.useState)(1),2),p=h[0],m=h[1];return(0,i.useEffect)((function(){if(t){var e=function(){var e,n=(e=ol().mark((function e(){var n,o;return ol().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,as.A.get("https://api.themoviedb.org/3/discover/".concat(r),{params:{api_key:"b484a8d608caf759d5d575db3ec03bbc",with_genres:t,page:p,sort_by:"popularity.desc"}});case 4:n=e.sent,o=n.data.results.map((function(e){return sl(sl({},e),{},{media_type:r,score:Math.round(e.vote_average/10*100)})})),c((function(e){return 1===p?o:[].concat(il(e),il(o))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching genre results:",e.t0);case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cl(i,r,o,a,s,"next",e)}function s(e){cl(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();e()}}),[t,r,p]),t?f&&0===l.length?i.createElement("section",{className:"mb-12"},i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},il(Array(6)).map((function(e,t){return i.createElement("div",{key:t,className:"bg-gray-800 rounded-xl overflow-hidden h-[350px] shadow-lg animate-pulse"},i.createElement("div",{className:"h-[180px] bg-gray-700"}),i.createElement("div",{className:"p-4 space-y-3"},i.createElement("div",{className:"h-5 bg-gray-700 rounded w-3/4"}),i.createElement("div",{className:"h-4 bg-gray-700 rounded w-1/2"}),i.createElement("div",{className:"h-4 bg-gray-700 rounded w-full"}),i.createElement("div",{className:"flex justify-between pt-2"},i.createElement("div",{className:"h-4 bg-gray-700 rounded w-16"}),i.createElement("div",{className:"h-4 bg-gray-700 rounded w-12"}))))})))):0===l.length?null:i.createElement("section",{className:"mb-12"},i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},l.map((function(e){return i.createElement(oa.default,{key:"".concat(e.id,"-").concat(e.media_type),result:e,currentUser:o,onClick:a,promptLogin:function(){}})}))),l.length>=6&&i.createElement("div",{className:"flex justify-center"},i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:function(){m((function(e){return e+1}))},disabled:f,className:"px-6 py-3 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 transition-colors"},f?"Loading...":"Load More"))):null};var pl=function(e){return null!=e&&e.mediaId?{id:e.mediaId,media_type:e.mediaType||"movie",title:e.title||e.name||"Unknown Title",name:e.name||e.title||"Unknown Title",poster_path:e.posterPath||e.poster_path||null,backdrop_path:e.backdropPath||e.backdrop_path||null,release_date:e.releaseDate||e.firstAirDate||e.release_date||null,first_air_date:e.firstAirDate||e.releaseDate||e.first_air_date||e.release_date||null,vote_average:"number"==typeof e.voteAverage?e.voteAverage:parseFloat(e.vote_average||0),popularity:"number"==typeof e.popularity?e.popularity:0,genre_ids:Array.isArray(e.genreIds)?e.genreIds:Array.isArray(e.genre_ids)?e.genre_ids:[]}:null};function ml(e){return i.createElement(aa,{title:"Your Watchlist",IconEmpty:i.createElement(Ui,{className:"h-8 w-8 text-gray-400"}),inHeader:e.inHeader,isOpen:e.isOpen,currentUser:e.currentUser,isAuthenticated:e.isAuthenticated,cacheKey:"user_watchlist_cache",endpoint:"/watchlist",mapItem:pl,eventKey:"watchlist-updated",cardPropsFactory:function(t){return{result:t,currentUser:e.currentUser,isMiniCard:e.inHeader,fromWatchlist:!0,initialIsInWatchlist:!0,onWatchlistToggle:function(){return e.onClose&&e.onClose(t.id)},icons:{sort:i.createElement(Gi,{className:"h-5 w-5"}),refresh:i.createElement($i,{className:"h-5 w-5"}),close:i.createElement(Vi,{className:"h-5 w-5"})},emptyText:"Add movies and shows using the clock icon.",onClose:e.onClose}}})}function gl(e){return gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(e)}function yl(){yl=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(O([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==gl(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(gl(t)+" is not iterable")}return v.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},k(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function vl(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function bl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){vl(i,r,o,a,s,"next",e)}function s(e){vl(i,r,o,a,s,"throw",e)}a(void 0)}))}}function wl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const El=function(e){var t,n,r=e.currentUser,o=e.onClose,a=wl((0,i.useState)("profile"),2),s=a[0],l=a[1],c=(0,i.useRef)(null),u=wl((0,i.useState)("request"),2),f=u[0],d=u[1],h=wl((0,i.useState)(""),2),p=h[0],m=h[1],g=wl((0,i.useState)(""),2),y=g[0],v=g[1],b=wl((0,i.useState)(""),2),w=b[0],x=b[1],E=wl((0,i.useState)(""),2),S=E[0],k=E[1],C=wl((0,i.useState)(""),2),P=C[0],A=C[1],T=wl((0,i.useState)(!1),2),_=T[0],N=T[1],O=wl((0,i.useState)(""),2),I=O[0],R=O[1],L=wl((0,i.useState)(""),2),M=L[0],j=L[1],D=wl((0,i.useState)(!1),2),U=D[0],F=D[1],B=wl((0,i.useState)(""),2),z=(B[0],B[1],wl((0,i.useState)(""),2)),V=z[0],H=z[1],q=wl((0,i.useState)(!1),2),W=q[0],G=q[1],Y=((0,i.useCallback)((function(e){c.current&&!c.current.contains(e.target)&&o()}),[o]),(0,i.useMemo)((function(){var e,t,n;return(null==r||null===(e=r.attributes)||void 0===e?void 0:e.email_verified_at)||(null==r||null===(t=r.attributes)||void 0===t?void 0:t.created)||(null==r||null===(n=r.signInUserSession)||void 0===n||null===(n=n.idToken)||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.auth_time)}),[r]));(0,i.useMemo)((function(){var e,t;return(null==r||null===(e=r.attributes)||void 0===e?void 0:e.sub)||(null==r?void 0:r.username)||(null==r||null===(t=r.signInUserSession)||void 0===t||null===(t=t.idToken)||void 0===t||null===(t=t.payload)||void 0===t?void 0:t.sub)||"N/A"}),[r]),(0,i.useMemo)((function(){return(e=Y)?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";var e}),[Y]),(0,i.useEffect)((function(){var e;null!=r&&null!==(e=r.attributes)&&void 0!==e&&e.email&&m(r.attributes.email)}),[r]);var $=function(){var e=bl(yl().mark((function e(t){return yl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),R(""),j(""),N(!0),e.prev=4,e.next=7,li.forgotPassword(p);case 7:j("Verification code sent to your email."),d("confirm"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Request reset error:",e.t0),R(e.t0.message||"Failed to request password reset. Please try again.");case 15:return e.prev=15,N(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,11,15,18]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=bl(yl().mark((function e(t){return yl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),R(""),j(""),w===S){e.next=6;break}return R("Passwords do not match."),e.abrupt("return");case 6:return N(!0),e.prev=7,e.next=10,li.forgotPasswordSubmit(p,y,w);case 10:j("Password reset successful! You can now sign in with your new password."),v(""),x(""),k(""),setTimeout((function(){d("request"),j("")}),5e3),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(7),console.error("Confirm reset error:",e.t0),R(e.t0.message||"Failed to reset password. Please try again.");case 21:return e.prev=21,N(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[7,17,21,24]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=bl(yl().mark((function e(t){var n;return yl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),R(""),j(""),w===S){e.next=6;break}return R("Passwords do not match."),e.abrupt("return");case 6:return N(!0),e.prev=7,e.next=10,li.currentAuthenticatedUser();case 10:return n=e.sent,e.next=13,li.changePassword(n,P,w);case 13:j("Password changed successfully!"),A(""),x(""),k(""),setTimeout((function(){d("request"),j("")}),5e3),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(7),console.error("Change password error:",e.t0),"NotAuthorizedException"===e.t0.code?R("Current password is incorrect. Please try again."):"InvalidPasswordException"===e.t0.code?R("New password does not meet requirements. It must include uppercase, lowercase, numbers, and special characters."):R(e.t0.message||"Failed to change password. Please try again.");case 24:return e.prev=24,N(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[7,20,24,27]])})));return function(t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){R(""),j(""),d("request")}),[s]);var J=function(){var e=bl(yl().mark((function e(t){return yl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),H(""),G(!0),e.prev=3,e.next=6,li.currentAuthenticatedUser();case 6:return e.sent,e.next=9,li.deleteUser();case 9:o(),document.dispatchEvent(new CustomEvent("account-deleted")),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Delete account error:",e.t0),H(e.t0.message||"Failed to delete account. Please try again or contact support.");case 17:return e.prev=17,G(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,13,17,20]])})));return function(t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var e=window.scrollY,t=document.body.style.overflow,n=document.body.style.position,r=document.body.style.top,o=document.body.style.width;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top="-".concat(e,"px"),document.body.style.width="100%",function(){document.body.style.overflow=t,document.body.style.position=n,document.body.style.top=r,document.body.style.width=o,window.scrollTo(0,e)}}),[]);var Q=(0,i.useCallback)((function(e){l(e)}),[]);return i.createElement(mi.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/75 backdrop-blur-md",onClick:function(){return o()}},i.createElement(mi.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",bounce:.3},className:"bg-gradient-to-b from-gray-900 to-gray-950 rounded-xl shadow-2xl w-full max-w-lg overflow-hidden max-h-[90vh] flex flex-col border border-gray-800/50",onClick:function(e){return e.stopPropagation()},ref:c},i.createElement("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-800/50 to-gray-900/50 border-b border-gray-800/80 flex justify-between items-center"},i.createElement("h2",{className:"text-xl font-semibold text-white bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-indigo-400"},"Account Details"),i.createElement("button",{onClick:o,className:"text-gray-400 hover:text-white p-1.5 rounded-full hover:bg-purple-500/20 transition-all duration-200","aria-label":"Close"},i.createElement(Vi,{className:"w-5 h-5"}))),i.createElement("div",{className:"border-b border-gray-800/80 bg-gray-900/40"},i.createElement("div",{className:"flex px-2"},i.createElement("button",{className:"px-4 py-3 font-medium text-sm transition-all duration-200 ".concat("profile"===s?"border-b-2 border-purple-500 text-purple-300":"text-gray-400 hover:text-gray-200 hover:bg-purple-500/10"),onClick:function(){return Q("profile")}},"Profile"),i.createElement("button",{className:"px-4 py-3 font-medium text-sm transition-all duration-200 ".concat("security"===s?"border-b-2 border-purple-500 text-purple-300":"text-gray-400 hover:text-gray-200 hover:bg-purple-500/10"),onClick:function(){return Q("security")}},"Security"),i.createElement("button",{className:"px-4 py-3 font-medium text-sm transition-all duration-200 ".concat("preferences"===s?"border-b-2 border-purple-500 text-purple-300":"text-gray-400 hover:text-gray-200 hover:bg-purple-500/10"),onClick:function(){return Q("preferences")}},"Preferences"))),i.createElement("div",{className:"overflow-y-auto custom-scrollbar px-6 py-5 flex-grow bg-gradient-to-b from-gray-900/80 to-gray-900"},"profile"===s&&i.createElement("div",{className:"space-y-4 sm:space-y-6"},i.createElement("div",{className:"bg-gray-800/30 hover:bg-gray-800/40 transition-colors duration-200 rounded-lg p-3 sm:p-4 border border-gray-700/30 shadow-sm"},i.createElement("h3",{className:"text-xs sm:text-sm text-purple-300 mb-2 font-medium"},"Email"),i.createElement("p",{className:"text-base sm:text-lg text-white break-all"},(null==r||null===(t=r.attributes)||void 0===t?void 0:t.email)||(null==r||null===(n=r.signInUserSession)||void 0===n||null===(n=n.idToken)||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.email)||"N/A")),i.createElement("div",{className:"bg-gray-800/30 hover:bg-gray-800/40 transition-colors duration-200 rounded-lg p-3 sm:p-4 border border-gray-700/30 shadow-sm"},i.createElement("h3",{className:"text-xs sm:text-sm text-purple-300 mb-2 font-medium"},"Account Status"),i.createElement("div",{className:"flex items-center"},i.createElement("div",{className:"w-3 h-3 bg-green-500 rounded-full relative"},i.createElement("div",{className:"absolute inset-0 bg-green-500 rounded-full animate-ping opacity-75",style:{animationDuration:"2s"}})),i.createElement("p",{className:"ml-2 text-base text-white"},"Active")))),"security"===s&&i.createElement("div",{className:"space-y-4 sm:space-y-6"},i.createElement("div",{className:"bg-gray-800/30 hover:bg-gray-800/40 transition-colors duration-200 rounded-lg p-3 sm:p-4 border border-gray-700/30 shadow-sm"},i.createElement("h3",{className:"text-sm text-purple-300 font-medium mb-2"},"Change Password"),i.createElement("p",{className:"text-gray-400 text-sm mb-3"},"Update your password while logged in."),i.createElement("button",{onClick:function(){return d("change")},className:"w-full px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white text-sm font-medium rounded-md shadow-sm transition-all duration-200 transform hover:translate-y-[-1px]"},"Change Password")),i.createElement("div",{className:"bg-gray-800/30 hover:bg-gray-800/40 transition-colors duration-200 rounded-lg p-3 sm:p-4 border border-gray-700/30 shadow-sm"},i.createElement("h3",{className:"text-sm text-purple-300 font-medium mb-2"},"Forgot Password"),i.createElement("p",{className:"text-gray-400 text-sm mb-3"},"request"===f?"Request a password reset code sent to your email.":"confirm"===f?"Enter the verification code and your new password.":"Reset your password if you forgot it."),I&&i.createElement("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 text-red-200 text-sm rounded"},I),M&&i.createElement("div",{className:"mb-4 p-3 bg-green-900/50 border border-green-500 text-green-200 text-sm rounded"},M),"change"===f?i.createElement("form",{onSubmit:Z,className:"space-y-4"},i.createElement("div",null,i.createElement("label",{className:"block text-xs text-gray-400 mb-1"},"Current Password"),i.createElement("input",{type:"password",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500",value:P,onChange:function(e){return A(e.target.value)},required:!0,disabled:_})),i.createElement("div",null,i.createElement("label",{className:"block text-xs text-gray-400 mb-1"},"New Password"),i.createElement("input",{type:"password",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500",value:w,onChange:function(e){return x(e.target.value)},required:!0,placeholder:"8+ characters with letters & numbers",minLength:"8",disabled:_})),i.createElement("div",null,i.createElement("label",{className:"block text-xs text-gray-400 mb-1"},"Confirm New Password"),i.createElement("input",{type:"password",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500",value:S,onChange:function(e){return k(e.target.value)},required:!0,placeholder:"Confirm new password",disabled:_})),i.createElement("div",{className:"flex items-center justify-between pt-2"},i.createElement("button",{type:"button",className:"text-sm text-gray-400 hover:text-gray-300",onClick:function(){return d("request")},disabled:_},"Cancel"),i.createElement("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white text-sm font-medium rounded-md shadow-sm disabled:opacity-50",disabled:_},_?"Changing...":"Change Password"))):"request"===f?i.createElement("form",{onSubmit:$,className:"space-y-4"},i.createElement("div",null,i.createElement("label",{className:"block text-xs text-gray-400 mb-1"},"Email Address"),i.createElement("input",{type:"email",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500",value:p,onChange:function(e){return m(e.target.value)},required:!0,disabled:_})),i.createElement("div",{className:"flex items-center justify-end pt-2"},i.createElement("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white text-sm font-medium rounded-md shadow-sm disabled:opacity-50",disabled:_},_?"Sending...":"Send Reset Code"))):i.createElement("form",{onSubmit:K,className:"space-y-4"},i.createElement("div",null,i.createElement("label",{className:"block text-xs text-gray-400 mb-1"},"Verification Code"),i.createElement("input",{type:"text",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500",value:y,onChange:function(e){return v(e.target.value)},required:!0,placeholder:"Enter code from email",disabled:_})),i.createElement("div",null,i.createElement("label",{className:"block text-xs text-gray-400 mb-1"},"New Password"),i.createElement("input",{type:"password",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500",value:w,onChange:function(e){return x(e.target.value)},required:!0,placeholder:"8+ characters with letters & numbers",minLength:"8",disabled:_})),i.createElement("div",null,i.createElement("label",{className:"block text-xs text-gray-400 mb-1"},"Confirm New Password"),i.createElement("input",{type:"password",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-200 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500",value:S,onChange:function(e){return k(e.target.value)},required:!0,placeholder:"Confirm new password",disabled:_})),i.createElement("div",{className:"flex items-center justify-between pt-2"},i.createElement("button",{type:"button",className:"text-sm text-gray-400 hover:text-gray-300",onClick:function(){return d("request")},disabled:_},"Request new code"),i.createElement("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white text-sm font-medium rounded-md shadow-sm disabled:opacity-50",disabled:_},_?"Resetting...":"Reset Password")))),i.createElement("div",{className:"bg-gray-800/50 rounded-lg p-3 sm:p-4 border border-gray-700/50"},i.createElement("h3",{className:"text-sm text-gray-300 font-medium mb-2"},"Security Tips"),i.createElement("ul",{className:"text-sm text-gray-400 list-disc list-inside space-y-1"},i.createElement("li",null,"Use a strong, unique password"),i.createElement("li",null,"Enable two-factor authentication when available"),i.createElement("li",null,"Never share your password with others"),i.createElement("li",null,"Update your password regularly"))),i.createElement("div",{className:"bg-gray-800/50 rounded-lg p-3 sm:p-4 border border-red-900/30 mt-8"},i.createElement("h3",{className:"text-sm text-red-300 font-medium mb-2"},"Delete Account"),i.createElement("p",{className:"text-gray-300 text-sm mb-4"},"This action is permanent and cannot be undone. All your data, including favorites, watchlist, and preferences will be permanently deleted."),V&&i.createElement("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 text-red-200 text-sm rounded"},V),U?i.createElement("div",{className:"border border-red-500/40 rounded-lg p-4 bg-red-900/20"},i.createElement("p",{className:"text-white text-sm font-medium mb-4"},"Are you absolutely sure you want to delete your account?"),i.createElement("form",{onSubmit:J,className:"space-y-4"},i.createElement("div",{className:"flex items-center justify-between"},i.createElement("button",{type:"button",className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white text-sm font-medium rounded-md",onClick:function(){F(!1),H("")},disabled:W},"Cancel"),i.createElement("button",{type:"submit",className:"px-4 py-2 bg-red-700 hover:bg-red-800 text-white text-sm font-medium rounded-md shadow-sm disabled:opacity-70",disabled:W},W?"Deleting...":"Confirm Delete")))):i.createElement("button",{onClick:function(){return F(!0)},className:"w-full px-4 py-2 bg-red-700 hover:bg-red-800 text-white text-sm font-medium rounded-md shadow-sm transition-colors"},"Delete Account"))),"preferences"===s&&i.createElement("div",{className:"space-y-4 sm:space-y-6"},i.createElement("div",{className:"bg-gray-800/50 rounded-lg p-3 sm:p-4 border border-gray-700/50"},i.createElement("h3",{className:"text-sm text-gray-400 mb-2"},"Content Preferences"),i.createElement("p",{className:"text-white text-sm sm:text-base"},"Personalize your movie and TV show recommendations by updating your preferences.")),i.createElement("div",{className:"flex justify-center"},i.createElement("button",{onClick:function(){o(),setTimeout((function(){return document.dispatchEvent(new CustomEvent("open-preferences"))}),100)},className:"px-6 sm:px-8 py-2.5 sm:py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-lg transition-all duration-200 text-sm shadow-md hover:shadow-lg transform hover:translate-y-[-1px]"},"Edit Preferences")))),i.createElement("div",{className:"bg-gradient-to-r from-gray-800/40 to-gray-900/40 backdrop-blur-sm px-6 py-4 border-t border-gray-700/30 flex justify-end"},i.createElement("button",{onClick:o,className:"px-4 py-2 bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-600 hover:to-gray-700 text-white rounded-md text-sm font-medium transition-all duration-200 shadow-sm"},"Close"))))};var Sl=o(5858),kl=o.n(Sl);function Cl({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"}))}const Pl=i.forwardRef(Cl);function Al({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const Tl=i.forwardRef(Al);function _l({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Nl=i.forwardRef(_l);function Ol({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const Il=i.forwardRef(Ol);function Rl({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 3.75H6A2.25 2.25 0 0 0 3.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0 1 20.25 6v1.5m0 9V18A2.25 2.25 0 0 1 18 20.25h-1.5m-9 0H6A2.25 2.25 0 0 1 3.75 18v-1.5M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ll=i.forwardRef(Rl);function Ml({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const jl=i.forwardRef(Ml);function Dl({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ul=i.forwardRef(Dl);function Fl({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const Bl=i.forwardRef(Fl);function zl({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M5.25 2.25a3 3 0 0 0-3 3v4.318a3 3 0 0 0 .879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 0 0 5.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 0 0-2.122-.879H5.25ZM6.375 7.5a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z",clipRule:"evenodd"}))}const Vl=i.forwardRef(zl);var Hl=o(3218);function ql({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M12.963 2.286a.75.75 0 0 0-1.071-.136 9.742 9.742 0 0 0-3.539 6.176 7.547 7.547 0 0 1-1.705-1.715.75.75 0 0 0-1.152-.082A9 9 0 1 0 15.68 4.534a7.46 7.46 0 0 1-2.717-2.248ZM15.75 14.25a3.75 3.75 0 1 1-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 0 1 1.925-3.546 3.75 3.75 0 0 1 3.255 3.718Z",clipRule:"evenodd"}))}const Wl=i.forwardRef(ql);function Gl({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M6 3a3 3 0 0 0-3 3v1.5a.75.75 0 0 0 1.5 0V6A1.5 1.5 0 0 1 6 4.5h1.5a.75.75 0 0 0 0-1.5H6ZM16.5 3a.75.75 0 0 0 0 1.5H18A1.5 1.5 0 0 1 19.5 6v1.5a.75.75 0 0 0 1.5 0V6a3 3 0 0 0-3-3h-1.5ZM12 8.25a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5ZM4.5 16.5a.75.75 0 0 0-1.5 0V18a3 3 0 0 0 3 3h1.5a.75.75 0 0 0 0-1.5H6A1.5 1.5 0 0 1 4.5 18v-1.5ZM21 16.5a.75.75 0 0 0-1.5 0V18a1.5 1.5 0 0 1-1.5 1.5h-1.5a.75.75 0 0 0 0 1.5H18a3 3 0 0 0 3-3v-1.5Z"}))}const Yl=i.forwardRef(Gl);function $l(e){return $l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(e)}function Kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(n),!0).forEach((function(t){Jl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jl(e,t,n){return(t=function(e){var t=function(e){if("object"!=$l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ql(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Xl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xl(e,t){if(e){if("string"==typeof e)return ec(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ec(e,t):void 0}}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tc=function(e){var t=e.activeFilters,n=e.setActiveFilters,r=Ql((0,i.useState)(null),2),o=r[0],a=r[1];i.useEffect((function(){var e=function(e){e.target.closest(".filter-dropdown")||e.target.closest(".filter-button")||a(null)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]);var s=function(e){switch(e){case"genre":return"diverse"!==t[e];case"type":return"all"!==t[e];case"releaseYear":case"time":case"popularity":case"contentType":return"any"!==t[e];default:return!1}},l=function(e){switch(e){case"time":switch(t.time){case"any":return"Any Era";case"recent":return"Recent";case"90s00s":return"90s-00s";case"classic":return"Classics";default:return"Time"}case"type":switch(t.type){case"all":return"All";case"movie":return"Movies";case"tv":return"TV Shows";default:return"Type"}case"genre":return"diverse"===t.genre?"Genres":t.genre.charAt(0).toUpperCase()+t.genre.slice(1);case"releaseYear":return"any"===t.releaseYear?"Year":t.releaseYear;case"popularity":switch(t.popularity){case"any":default:return"Popularity";case"high":return"Popular";case"medium":return"Moderate";case"low":return"Hidden Gems"}case"contentType":return"any"===t.contentType?"Content":t.contentType.charAt(0).toUpperCase()+t.contentType.slice(1);default:return"Filter"}},c=function(e,t,n){var r=s(e),c=function(e){var t=s(e);switch(e){case"time":return t?i.createElement(Bl,{className:"w-3.5 h-3.5"}):i.createElement(Ui,{className:"w-3.5 h-3.5"});case"type":return t?i.createElement(ws,{className:"w-3.5 h-3.5"}):i.createElement(Pl,{className:"w-3.5 h-3.5"});case"genre":return t?i.createElement(Vl,{className:"w-3.5 h-3.5"}):i.createElement(Tl,{className:"w-3.5 h-3.5"});case"releaseYear":return t?i.createElement(Hl.A,{className:"w-3.5 h-3.5"}):i.createElement(Nl,{className:"w-3.5 h-3.5"});case"popularity":return t?i.createElement(Wl,{className:"w-3.5 h-3.5"}):i.createElement(Il,{className:"w-3.5 h-3.5"});case"contentType":return t?i.createElement(Yl,{className:"w-3.5 h-3.5"}):i.createElement(Ll,{className:"w-3.5 h-3.5"});default:return i.createElement(Mi,{className:"w-3.5 h-3.5"})}}(e),f=l(e);return i.createElement("div",{className:"relative"},i.createElement(mi.P.button,{className:"filter-button flex items-center space-x-1.5 px-3 py-1.5 rounded-lg text-xs transition-all\n            ".concat(o===e?"bg-indigo-600 text-white":r?"bg-indigo-600/40 text-white border border-indigo-500/50":"bg-gray-700/80 text-gray-300 hover:bg-gray-600 hover:text-white border border-gray-600/50"),onClick:function(){return function(e){a(o===e?null:e)}(e)},whileHover:{scale:1.03},whileTap:{scale:.97}},c,i.createElement("span",null,r?f:t)),i.createElement(_i,null,o===e&&u(e)))},u=function(e){var r,o=[];switch(e){case"time":o=[{label:"Any Era",value:"any",icon:i.createElement(Ui,{className:"w-4 h-4"})},{label:"Recent (Last 5 Years)",value:"recent",icon:i.createElement(Ui,{className:"w-4 h-4"})},{label:"90s & 00s",value:"90s00s",icon:i.createElement(Ui,{className:"w-4 h-4"})},{label:"Classics (20+ Years)",value:"classic",icon:i.createElement(Ui,{className:"w-4 h-4"})}];break;case"type":o=[{label:"All Types",value:"all",icon:i.createElement(Pl,{className:"w-4 h-4"})},{label:"Movies Only",value:"movie",icon:i.createElement(Pl,{className:"w-4 h-4"})},{label:"TV Shows Only",value:"tv",icon:i.createElement(Pl,{className:"w-4 h-4"})}];break;case"genre":o=[{label:"Diverse Genres",value:"diverse",icon:i.createElement(Tl,{className:"w-4 h-4"})},{label:"Action",value:"action",icon:i.createElement(Tl,{className:"w-4 h-4"})},{label:"Comedy",value:"comedy",icon:i.createElement(Tl,{className:"w-4 h-4"})},{label:"Drama",value:"drama",icon:i.createElement(Tl,{className:"w-4 h-4"})},{label:"Sci-Fi",value:"scifi",icon:i.createElement(Tl,{className:"w-4 h-4"})},{label:"Horror",value:"horror",icon:i.createElement(Tl,{className:"w-4 h-4"})},{label:"Romance",value:"romance",icon:i.createElement(Tl,{className:"w-4 h-4"})},{label:"Animation",value:"animation",icon:i.createElement(Tl,{className:"w-4 h-4"})},{label:"Fantasy",value:"fantasy",icon:i.createElement(Tl,{className:"w-4 h-4"})},{label:"Thriller",value:"thriller",icon:i.createElement(Tl,{className:"w-4 h-4"})}];break;case"releaseYear":var s=(new Date).getFullYear();o=[{label:"Any Year",value:"any",icon:i.createElement(Nl,{className:"w-4 h-4"})}].concat(function(e){if(Array.isArray(e))return ec(e)}(r=Array.from({length:10},(function(e,t){return s-t})).map((function(e){return{label:e.toString(),value:e.toString(),icon:i.createElement(Nl,{className:"w-4 h-4"})}})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||Xl(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{label:"2010s",value:"2010s",icon:i.createElement(Nl,{className:"w-4 h-4"})},{label:"2000s",value:"2000s",icon:i.createElement(Nl,{className:"w-4 h-4"})},{label:"1990s",value:"1990s",icon:i.createElement(Nl,{className:"w-4 h-4"})},{label:"Before 1990",value:"pre1990",icon:i.createElement(Nl,{className:"w-4 h-4"})}]);break;case"popularity":o=[{label:"Any Popularity",value:"any",icon:i.createElement(Il,{className:"w-4 h-4"})},{label:"Very Popular",value:"high",icon:i.createElement(Il,{className:"w-4 h-4"})},{label:"Moderately Popular",value:"medium",icon:i.createElement(Il,{className:"w-4 h-4"})},{label:"Hidden Gems",value:"low",icon:i.createElement(Il,{className:"w-4 h-4"})}];break;case"contentType":o=[{label:"Any Content",value:"any",icon:i.createElement(Ll,{className:"w-4 h-4"})},{label:"Animation",value:"animation",icon:i.createElement(Ll,{className:"w-4 h-4"})},{label:"Documentary",value:"documentary",icon:i.createElement(Ll,{className:"w-4 h-4"})},{label:"Reality TV",value:"reality",icon:i.createElement(Ll,{className:"w-4 h-4"})},{label:"Foreign Language",value:"foreign",icon:i.createElement(Ll,{className:"w-4 h-4"})},{label:"Family Friendly",value:"family",icon:i.createElement(Ll,{className:"w-4 h-4"})}]}return i.createElement(mi.P.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},className:"filter-dropdown absolute mt-2 z-50 w-auto min-w-[180px] ".concat(window.innerWidth<640?"left-0 right-0":["time","type","genre","releaseYear","popularity","contentType"].indexOf(e)<3?"left-0":"right-0")},i.createElement("div",{className:"bg-gray-800/95 backdrop-blur-lg border border-gray-600/60 rounded-lg shadow-xl p-1.5"},i.createElement("div",{className:"max-h-[300px] overflow-y-auto custom-scrollbar"},o.map((function(r){return i.createElement(mi.P.button,{key:r.value,onClick:function(){n((function(t){return Zl(Zl({},t),{},Jl({},e,r.value))})),a(null)},className:"w-full flex items-center px-3 py-2 text-sm text-gray-300 hover:bg-indigo-600/40 rounded-md transition-colors ".concat(t[e]===r.value?"bg-indigo-600/70 text-white font-medium":""),whileHover:{backgroundColor:"rgba(99, 102, 241, 0.2)"},whileTap:{scale:.98}},r.icon,i.createElement("span",{className:"ml-2"},r.label))})))))},f=function(e,t){n((function(n){return Zl(Zl({},n),{},Jl({},e,t))}))};return i.createElement(mi.P.div,{className:"w-full rounded-xl bg-gray-800/80 backdrop-blur-md p-3 sm:p-4 border border-gray-700/60 shadow-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0}},i.createElement("div",{className:"mb-4"},i.createElement("div",{className:"flex justify-between items-center mb-2"},i.createElement("h3",{className:"text-sm font-medium text-gray-300"},"Search Mode"),i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:function(){n({searchMode:t.searchMode,genre:"diverse",type:"all",time:"any",releaseYear:"any",popularity:"any",contentType:"any"})},className:"text-xs text-indigo-400 hover:text-indigo-300 px-2 py-1 rounded-md hover:bg-indigo-900/30 transition-colors"},"Reset Filters")),i.createElement("div",{className:"flex p-1 rounded-lg bg-gray-900/50 border border-gray-700/50 shadow-inner"},i.createElement(mi.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:function(){return f("searchMode","smart")},className:"flex items-center justify-center space-x-1.5 px-3 py-2 rounded-md text-sm font-medium flex-1 transition-all ".concat("smart"===t.searchMode?"bg-indigo-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700/70")},i.createElement(jl,{className:"w-4 h-4"}),i.createElement("span",null,"Smart Search")),i.createElement(mi.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:function(){return f("searchMode","direct")},className:"flex items-center justify-center space-x-1.5 px-3 py-2 rounded-md text-sm font-medium flex-1 transition-all ".concat("direct"===t.searchMode?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700/70")},i.createElement(Ul,{className:"w-4 h-4"}),i.createElement("span",null,"Direct Title Search"))),i.createElement("p",{className:"text-xs text-gray-400 mt-1.5"},"direct"===t.searchMode?"Search by exact title to find specific movies and shows":"AI-powered search that understands what you're looking for")),i.createElement("div",{className:"mb-2"},i.createElement("h3",{className:"text-sm font-medium text-gray-300 mb-2"},"Filters"),i.createElement("div",{className:"flex flex-wrap gap-2"},c("type","Type"),c("genre","Genre"),c("time","Time"),c("releaseYear","Year"),c("popularity","Popularity"),c("contentType","Content"))),Object.entries(t).some((function(e){var t=Ql(e,2),n=t[0],r=t[1];return"searchMode"!==n&&("genre"===n&&"diverse"!==r||"type"===n&&"all"!==r||"genre"!==n&&"type"!==n&&"any"!==r)}))&&i.createElement("div",{className:"mt-3 bg-indigo-900/20 rounded-lg p-2 border border-indigo-800/30"},i.createElement("div",{className:"flex items-center text-xs text-indigo-300"},i.createElement(Mi,{className:"w-3.5 h-3.5 mr-1.5"}),i.createElement("span",{className:"font-medium"},"Active filters:"),i.createElement("div",{className:"flex-1 flex flex-wrap gap-1 ml-2"},Object.entries(t).map((function(e){var t=Ql(e,2),n=t[0],r=t[1];return"searchMode"===n||"genre"===n&&"diverse"===r||"type"===n&&"all"===r||"genre"!==n&&"type"!==n&&"any"===r?null:i.createElement("span",{key:n,className:"inline-flex items-center bg-indigo-800/70 text-indigo-200 rounded-full px-2 py-0.5"},l(n))}))))))};function nc({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const rc=i.forwardRef(nc);function oc({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"}),i.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const ic=i.forwardRef(oc);function ac({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"}))}const sc=i.forwardRef(ac);function lc({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const cc=i.forwardRef(lc);function uc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var dc=i.memo((function(e){var t=e.query,n=e.setQuery,r=e.handleSearch,o=e.isLoading,a=e.isFocused,s=e.setIsFocused,l=e.suggestions,c=e.handleSuggestionClick,u=e.handleSuggestionHover,f=e.searchMode,d=void 0===f?"smart":f,h=(0,i.useRef)(null),p=uc((0,i.useState)(t),2),m=p[0],g=p[1],y=(0,i.useRef)(null),v=uc((0,i.useState)(!1),2),b=v[0],w=v[1];(0,i.useEffect)((function(){var e=setTimeout((function(){n(m)}),200);return function(){return clearTimeout(e)}}),[m,n]),(0,i.useEffect)((function(){g(t)}),[t]);var x=(0,i.useCallback)((function(e){"Escape"===e.key&&s(!1)}),[s]);return(0,i.useEffect)((function(){var e=function(e){y.current&&!y.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[s]),i.createElement("div",{className:"relative w-full flex justify-center",style:{zIndex:50},ref:y},i.createElement(mi.P.form,{onSubmit:function(e){e.preventDefault(),r(e)},className:"relative w-full",style:{zIndex:50},animate:{scale:b?1.01:1},transition:{type:"spring",stiffness:300,damping:20}},i.createElement("div",{className:"flex items-center bg-gray-800/80 backdrop-blur-md rounded-xl border transition-all duration-300 shadow-xl\n          ".concat(b?"direct"===d?"border-blue-600/70":"border-indigo-500/70":"border-gray-700/50"," ").concat(b?"direct"===d?"focus-within:ring-blue-600/30":"focus-within:ring-indigo-500/30":"focus-within:ring-gray-500/20"," focus-within:ring-4")},i.createElement(hc,{isLoading:o,searchMode:d}),i.createElement(pc,{inputRef:h,localQuery:m,setLocalQuery:g,handleFocus:function(){w(!0),s(!0)},handleBlur:function(){w(!1),setTimeout((function(){return s(!1)}),150)},handleKeyDown:x,searchMode:d}),m&&i.createElement(mi.P.button,{type:"button",onClick:function(){var e;g(""),null===(e=h.current)||void 0===e||e.focus()},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.1},whileTap:{scale:.9},className:"flex-shrink-0 px-1 text-gray-400 hover:text-gray-200 transition-colors","aria-label":"Clear search"},i.createElement(rc,{className:"w-5 h-5"})),i.createElement(mc,{isLoading:o,searchMode:d})),i.createElement(gc,{suggestions:l,isFocused:a,handleSuggestionClick:c,handleSuggestionHover:u,inputRef:h,searchMode:d})))})),hc=i.memo((function(e){var t=e.isLoading,n=e.searchMode,r=t?"text-white":"direct"===n?"text-blue-400":"text-indigo-400";return i.createElement(mi.P.div,{className:"pl-3 sm:pl-4 py-2.5 ".concat(r),animate:{rotate:t?[0,360]:0},transition:{repeat:t?1/0:0,duration:t?1.5:0},title:"direct"===n?"Search for exact titles":"Smart search for movies or shows"},"      ",t?i.createElement(ks,{className:"w-5 h-5 sm:w-5 sm:h-5"}):"direct"===n?i.createElement(ic,{className:"w-5 h-5 sm:w-5 sm:h-5"}):i.createElement(sc,{className:"w-5 h-5 sm:w-5 sm:h-5"}))})),pc=i.memo((function(e){var t=e.inputRef,n=e.localQuery,r=e.setLocalQuery,o=e.handleFocus,a=e.handleBlur,s=e.handleKeyDown,l=e.searchMode,c=uc((0,i.useState)(0),2),u=c[0],f=c[1],d="direct"===l?["Enter exact title to find...","Type 'Solo Leveling' to find the show","Type 'Oppenheimer' to find the movie","Search for any movie or TV show by name"]:["Search for movies or TV shows...","Try 'comedy movies with dragons'","Try 'something funny for date night'","Try 'movies like Deadpool but family-friendly'","Try 'documentaries about space from 2020s'","Try 'movies to watch when feeling sad'"];return(0,i.useEffect)((function(){var e=setInterval((function(){f((function(e){return(e+1)%d.length}))}),5e3);return function(){return clearInterval(e)}}),[d.length]),i.createElement("input",{ref:t,type:"text",value:n,onChange:function(e){return r(e.target.value)},onFocus:o,onBlur:a,onKeyDown:s,className:"w-full px-3 py-3 sm:py-3.5 bg-transparent border-none outline-none text-sm sm:text-base text-gray-100 placeholder-gray-400",placeholder:d[u],"aria-label":"direct"===l?"Direct title search":"Search for content",autoComplete:"off"})})),mc=i.memo((function(e){var t=e.isLoading,n=e.searchMode,r="direct"===n?"bg-blue-600 hover:bg-blue-500 text-white ring-blue-400/50 hover:ring-blue-400/70":"bg-indigo-600 hover:bg-indigo-500 text-white ring-indigo-400/50 hover:ring-indigo-400/70";return i.createElement("div",{className:"pr-3 sm:pr-3.5"},i.createElement(mi.P.button,{type:"submit",disabled:t,whileHover:{scale:1.05},whileTap:{scale:.9},className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium rounded-lg \n          transition-all duration-300 shadow-lg ring-1 hover:ring-2 \n          disabled:opacity-70 disabled:cursor-not-allowed\n          ".concat(r)},t?"Searching...":"direct"===n?"Find":"Search"))})),gc=i.memo((function(e){var t=e.suggestions,n=e.isFocused,r=e.handleSuggestionClick,o=e.handleSuggestionHover,a=(e.inputRef,e.searchMode),s=(0,i.useRef)(null);if((0,i.useEffect)((function(){var e=function(e){if(n&&s.current){var t=s.current.querySelectorAll(".suggestion-item");if(t.length){var r=Array.from(t).findIndex((function(e){return e===document.activeElement}));"ArrowDown"===e.key?(e.preventDefault(),t[r<0?0:(r+1)%t.length].focus()):"ArrowUp"===e.key?(e.preventDefault(),t[r<0?t.length-1:(r-1+t.length)%t.length].focus()):"Enter"===e.key&&document.activeElement.classList.contains("suggestion-item")&&(e.preventDefault(),document.activeElement.click())}}};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[n]),null==t||!t.length||!n)return null;var l="direct"===a?"border-blue-600/40":"border-indigo-700/50";return i.createElement(mi.P.div,{ref:s,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute top-full left-0 right-0 mt-2 rounded-xl shadow-2xl border ".concat(l," \n        ").concat("bg-gray-800/95 from-gray-800/90 to-gray-900/95"," backdrop-blur-lg overflow-hidden z-50"),style:{maxHeight:"300px",overflowY:"auto",scrollBehavior:"smooth"}},i.createElement("div",{className:"py-1.5"},t.map((function(e,t){return i.createElement(yc,{key:t,suggestion:e,handleClick:function(){return r(e)},handleHover:function(){return o(e)},searchMode:a})}))))})),yc=i.memo((function(e){var t=e.suggestion,n=e.handleClick,r=e.handleHover,o=e.searchMode,a="direct"===o?"hover:bg-blue-800/50 group":"hover:bg-indigo-800/50 group";return i.createElement(mi.P.button,{className:"suggestion-item w-full text-left px-4 py-2.5 ".concat(a," flex items-center justify-between transition-colors duration-200"),onClick:n,onMouseEnter:r,whileHover:{backgroundColor:"rgba(79, 70, 229, 0.2)"},tabIndex:0},"      ",i.createElement("div",{className:"flex items-center"},i.createElement(cc,{className:"w-4 h-4 mr-2 text-gray-400 group-hover:text-gray-200"}),i.createElement("span",{className:"text-gray-200 group-hover:text-white font-medium"},t.title||t.text)),t.type&&i.createElement("span",{className:"text-xs font-medium py-0.5 px-2 rounded-full ".concat(function(){if("direct"===o)return"movie"===t.type?"bg-blue-700/80 text-blue-200":"bg-blue-600/80 text-blue-200";switch(t.type){case"movie":return"bg-indigo-700/80 text-indigo-100";case"tv":return"bg-purple-700/80 text-purple-100";case"person":return"bg-emerald-700/80 text-emerald-100";case"query":return"bg-amber-700/80 text-amber-100";default:return"bg-gray-700/80 text-gray-100"}}()," ml-2 transition-colors duration-200")},t.type))}));function vc(e){return vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(e)}function bc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bc(Object(n),!0).forEach((function(t){xc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xc(e,t,n){return(t=function(e){var t=function(e){if("object"!=vc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=vc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ec(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const kc=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,o=e.style,a=void 0===o?{}:o,s=e.maxHeight,l=void 0===s?"auto":s,c=e.showShadows,u=void 0===c||c,f=e.onScroll,d=void 0===f?null:f,h=(0,i.useRef)(null),p=Ec(i.useState(!1),2),m=p[0],g=p[1],y=Ec(i.useState(!1),2),v=y[0],b=y[1];(0,i.useEffect)((function(){if(h.current&&u){var e=h.current;e.scrollHeight>e.clientHeight&&b(!0)}}),[t,u]);var w=u?[m?"shadow-inner-top":"",v?"shadow-inner-bottom":""].filter(Boolean).join(" "):"";return i.createElement(mi.P.div,{ref:h,className:"custom-scrollbar ".concat(w," ").concat(r),style:wc({maxHeight:l,overflowY:"auto",position:"relative"},a),onScroll:function(){if(h.current&&u){var e=h.current,t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;g(t>10),b(t+r<n-10),d&&d(h.current)}},initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},t)};function Cc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ac=i.memo((function(e){var t=e.result,n=e.currentUser,r=e.handleResultClick,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0px",t=Cc((0,i.useState)(!1),2),n=t[0],r=t[1],o=(0,i.useRef)(null);return(0,i.useEffect)((function(){var t=o.current;if(t){var n=new IntersectionObserver((function(e){var t=Cc(e,1)[0];r(t.isIntersecting)}),{rootMargin:e});return n.observe(t),function(){t&&n.unobserve(t)}}}),[e]),[o,n]}("200px"),a=Cc(o,2),s=a[0],l=a[1],c=Cc((0,i.useState)(!1),2),u=c[0],f=c[1];return(0,i.useEffect)((function(){l&&!u&&f(!0)}),[l,u]),i.createElement(mi.P.div,{ref:s,key:"".concat(t.id,"-").concat(t.media_type),initial:{opacity:0,y:20},animate:l||u?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.3},className:"h-full",layout:!0},(l||u)&&i.createElement(oa.default,{result:t,currentUser:n,onClick:function(){return r(t)},promptLogin:function(){}}))})),Tc=i.memo((function(e){var t=e.hasSearched,n=e.isLoading,r=e.displayedResults,o=e.handleResultClick,a=e.currentUser,s=(0,i.useCallback)((function(){try{return r.map((function(e){return i.createElement(Ac,{key:"".concat(e.id,"-").concat(e.media_type),result:e,currentUser:a,handleResultClick:o})}))}catch(e){return console.error("Error rendering media results:",e),i.createElement("div",{className:"col-span-full p-4 bg-red-100 text-red-800 rounded-lg"},i.createElement("p",null,"Error displaying results. Please try refreshing the page."))}}),[r,a,o]),l=(0,i.useMemo)((function(){return t?n?i.createElement(mi.P.div,{className:"flex justify-center items-center py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2}},i.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})):0===r.length?i.createElement(mi.P.div,{className:"text-center py-8 text-gray-400",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},"No results found. Try a different search."):i.createElement(kc,{className:"overflow-x-hidden"},i.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 py-4 px-2 md:px-0 w-full"},s())):i.createElement(mi.P.div,{className:"text-center py-8 text-gray-400",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},"Search for movies or TV shows to see results")}),[t,n,r,s]);return i.createElement("div",{className:"search-results-container w-full"},i.createElement(_i,{mode:"wait"},l))})),_c=function(e){var t=e.error,n=e.isVisible;return i.createElement(_i,null,n&&t&&i.createElement(mi.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 text-red-500 text-center text-lg bg-red-50 px-4 py-2 rounded-full shadow-sm z-50"},t))},Nc=o(7530);function Oc(e){return Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(e)}function Ic(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=zc(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rc(Object(n),!0).forEach((function(t){Mc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mc(e,t,n){return(t=function(e){var t=function(e){if("object"!=Oc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Oc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Oc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jc(){jc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(O([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Oc(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Oc(t)+" is not iterable")}return v.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},k(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Dc(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Uc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Dc(i,r,o,a,s,"next",e)}function s(e){Dc(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Fc(e){return function(e){if(Array.isArray(e))return Vc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||zc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||zc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zc(e,t){if(e){if("string"==typeof e)return Vc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vc(e,t):void 0}}function Vc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Hc={movie:new Map([[12,"Adventure"],[14,"Fantasy"],[16,"Animation"],[18,"Drama"],[27,"Horror"],[28,"Action"],[35,"Comedy"],[36,"History"],[37,"Western"],[53,"Thriller"],[80,"Crime"],[99,"Documentary"],[878,"Science Fiction"],[9648,"Mystery"],[10402,"Music"],[10749,"Romance"],[10751,"Family"],[10752,"War"]]),tv:new Map([[16,"Animation"],[18,"Drama"],[35,"Comedy"],[37,"Western"],[80,"Crime"],[99,"Documentary"],[9648,"Mystery"],[10751,"Family"],[10759,"Action & Adventure"],[10762,"Kids"],[10763,"News"],[10764,"Reality"],[10765,"Sci-Fi & Fantasy"],[10766,"Soap"],[10767,"Talk"],[10768,"War & Politics"]])};function qc({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Wc=i.forwardRef(qc);function Gc({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M3.792 2.938A49.069 49.069 0 0 1 12 2.25c2.797 0 5.54.236 8.209.688a1.857 1.857 0 0 1 1.541 1.836v1.044a3 3 0 0 1-.879 2.121l-6.182 6.182a1.5 1.5 0 0 0-.439 1.061v2.927a3 3 0 0 1-1.658 2.684l-1.757.878A.75.75 0 0 1 9.75 21v-5.818a1.5 1.5 0 0 0-.44-1.06L3.13 7.938a3 3 0 0 1-.879-2.121V4.774c0-.897.64-1.683 1.542-1.836Z",clipRule:"evenodd"}))}const Yc=i.forwardRef(Gc);function $c({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M7.5 3.375c0-1.036.84-1.875 1.875-1.875h.375a3.75 3.75 0 0 1 3.75 3.75v1.875C13.5 8.161 14.34 9 15.375 9h1.875A3.75 3.75 0 0 1 21 12.75v3.375C21 17.16 20.16 18 19.125 18h-9.75A1.875 1.875 0 0 1 7.5 16.125V3.375Z"}),i.createElement("path",{d:"M15 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 17.25 7.5h-1.875A.375.375 0 0 1 15 7.125V5.25ZM4.875 6H6v10.125A3.375 3.375 0 0 0 9.375 19.5H16.5v1.125c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V7.875C3 6.839 3.84 6 4.875 6Z"}))}const Kc=i.forwardRef($c);function Zc({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const Jc=i.forwardRef(Zc);function Qc(e){return Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(e)}function Xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xc(Object(n),!0).forEach((function(t){tu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tu(e,t,n){return(t=function(e){var t=function(e){if("object"!=Qc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Qc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||ru(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ru(e,t){if(e){if("string"==typeof e)return ou(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ou(e,t):void 0}}function ou(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var iu=(0,i.lazy)((function(){return Promise.resolve().then(o.bind(o,3081))}));const au=function(e){var t=e.currentUser,n=e.onMediaClick,r=nu((0,i.useState)(!1),2),o=r[0],a=r[1],s=nu((0,i.useState)(!1),2),l=s[0],c=s[1],u=nu((0,i.useState)(!1),2),f=u[0],d=u[1],h=(0,i.useRef)(null),p=function(){var e=Bc((0,i.useState)(""),2),t=e[0],n=e[1],r=Bc((0,i.useState)([]),2),o=r[0],a=r[1],s=Bc((0,i.useState)([]),2),l=s[0],c=s[1],u=Bc((0,i.useState)(!1),2),f=u[0],d=u[1],h=Bc((0,i.useState)(null),2),p=h[0],m=h[1],g=Bc((0,i.useState)(!1),2),y=g[0],v=g[1],b=Bc((0,i.useState)(!1),2),w=b[0],x=b[1],E=Bc((0,i.useState)(!1),2),S=E[0],k=E[1],C=Bc((0,i.useState)(3),2),P=C[0],A=C[1],T=Bc((0,i.useState)({genre:"diverse",time:"any",type:"all",releaseYear:"any",popularity:"any",contentType:"any",searchMode:"smart"}),2),_=T[0],N=T[1],O=(0,i.useRef)(new AbortController),I=(0,i.useRef)(null),R=((0,i.useRef)(new Map),(0,i.useCallback)((function(e){var t,n,r,o,i,a,s=e.toLowerCase().trim(),l=[].concat(Fc(Hc.movie.values()),Fc(Hc.tv.values())),c={funny:"exciting",comedy:"exciting",laugh:"exciting",lighthearted:"exciting",happy:"exciting",upbeat:"exciting",hilarious:"exciting",humorous:"exciting",thoughtful:"thoughtful",deep:"thoughtful",meaningful:"thoughtful",profound:"thoughtful",philosophical:"thoughtful",thinking:"thoughtful",sad:"emotional",emotional:"emotional",moving:"emotional",touching:"emotional",heartwarming:"emotional",cry:"emotional",tearjerker:"emotional",scary:"scary",horror:"scary",terrifying:"scary",frightening:"scary",spooky:"scary",thriller:"scary",suspense:"scary",creepy:"scary",action:"exciting",exciting:"exciting",thrill:"exciting",adventure:"exciting",epic:"exciting","action-packed":"exciting","fast-paced":"exciting"},u={"date night":"date",date:"date","romantic evening":"date",couples:"date",family:"family",kids:"family",children:"family","all ages":"family",alone:"solo","by myself":"solo",solo:"solo",friends:"friends",group:"friends",party:"friends",educational:"learning",learn:"learning",informative:"learning"},f=e.length>2&&e.split(" ").length<=6&&!/(show me|find|looking for|suggest|recommend|watch when|movies like|shows like)/i.test(e),d=null===(t=s.match(/^(show me|find|get|give me)/i))||void 0===t?void 0:t[0],h=null===(n=s.match(/\b(20[0-9]0s|19[0-9]0s|[0-9]0s)\b/))||void 0===n?void 0:n[0],p=null===(r=s.match(/\b(19|20)\d{2}\b/))||void 0===r?void 0:r[0],m=null;if(h){var g=h.match(/\b(20|19)?([0-9])0s\b/);if(g){var y=g[1]||"19",v=g[2],b=parseInt("".concat(y).concat(v,"0"));m={start:b,end:b+9}}}var w=l.filter((function(e){return s.includes(e.toLowerCase())})),x=s.match(/(movies|shows|films|series)\s+like\s+([a-z0-9 ']+)(\s+but\s+([a-z0-9 ]+))?/i),E=null,S=null;if(x&&(E=x[2].trim(),x[4])){var k=x[4].trim();/more|less|better|worse|darker|lighter/i.test(k)&&(S=/family|kid/i.test(k)?"family-friendly":/dark|serious|gritty/i.test(k)?"darker":/fun|light|happy/i.test(k)?"lighter":/scar(y|ier)|horror|terrifying/i.test(k)?"scarier":/action|exciting|thrill/i.test(k)?"more-action":/drama|emotional|moving/i.test(k)?"more-dramatic":/comedy|funny|humor/i.test(k)?"funnier":"general-modifier")}var C=Object.keys(c).filter((function(e){return s.includes(e)})),P=C.length>0?c[C[0]]:null,A=Object.keys(u).filter((function(e){return s.includes(e)})),T=A.length>0?u[A[0]]:null,_=null===(o=s.match(/when\s+(feeling|i'?m|im|i am)\s+([a-z]+)/i))||void 0===o?void 0:o[2];return{genres:w,year:p,decade:h,timeRange:m,person:null===(i=s.match(/(?:starring|with|directed by|by)\s+([a-z]+\s[a-z]+)/i))||void 0===i?void 0:i[1],explicitType:null===(a=s.match(/(movie|film|show|series)/i))||void 0===a?void 0:a[0],isLikelyTitle:f,imperative:d,subjects:["dragons","space","zombies","vampires","superheroes","magic","time travel","robots","aliens","dinosaurs","war","history","fantasy","future","dystopian","post-apocalyptic","medieval","western","crime","heist","spy","mystery","politics","sports","music","art","food","travel","nature","animals","ocean","adventure","romance","coming of age","high school","college","workplace","family","friendship"].filter((function(e){return s.includes(e)})),similarTo:E,modifierType:S,mood:P,context:T,emotionalState:_}}),[])),L=(0,i.useCallback)((function(e,t,n){var r=(e.title||e.name||"").toLowerCase(),o=(e.overview||"").toLowerCase(),i=t.toLowerCase(),a=i.split(" ").filter((function(e){return e.length>1})),s=r===i?50:0,l=r.startsWith(i)?30:0,c=r.includes(i)?20:0,u=a.filter((function(e){return r.includes(e)})).length,f=15*(a.length>0?u/a.length:0)*a.length,d=a.filter((function(e){return o.includes(e)})).length,h=0;n.subjects.length>0&&(h=15*n.subjects.filter((function(e){return o.includes(e.toLowerCase())||r.includes(e.toLowerCase())})).length);var p=0;if(n.timeRange){var m=new Date(e.release_date||e.first_air_date||Date.now()).getFullYear();m>=n.timeRange.start&&m<=n.timeRange.end&&(p=10)}var g=0;if(n.mood){var y={exciting:[28,12,35,10751,10752],thoughtful:[18,99,36,9648],emotional:[10749,18,10751],scary:[27,9648,53]};y[n.mood]&&e.genre_ids.some((function(e){return y[n.mood].includes(e)}))&&(g=20)}var v=0;if(n.context){var b={date:[10749,35,18],family:[10751,16,12,35],friends:[35,28,12],solo:[18,9648,53,878],learning:[99,36]};b[n.context]&&e.genre_ids.some((function(e){return b[n.context].includes(e)}))&&(v=15)}var w=0;if(n.emotionalState){var x={sad:[35,12,10751,16],happy:[35,10749,10751],bored:[28,12,878,53],stressed:[35,10751,14],lonely:[10749,18,35],tired:[35,16,10751],angry:[35,10751,14,16]},E=n.emotionalState.toLowerCase();x[E]&&e.genre_ids.some((function(e){return x[E].includes(e)}))&&(w=25)}var S=0;n.similarTo&&e.similarityScore&&(S=.5*e.similarityScore);var k=Math.log10(e.popularity+1),C=new Date(e.release_date||e.first_air_date||Date.now()).getFullYear(),P=(new Date).getFullYear(),A=n.isLikelyTitle?2:1;return Math.min(s+l+c+f*A+.2*d+h+p+g+v+w+S+.3*k+e.vote_average/10*2+-.1*(P-C)+M(e,n),100)}),[M]),M=(0,i.useCallback)((function(e,t){var n,r=0,o=e.media_type||"movie";if(t.genres&&t.genres.length>0){var i=t.genres.filter((function(t){var n,r,i=null===(n=Fc(Hc[o]).find((function(e){var n=Bc(e,2);return n[0],n[1]===t})))||void 0===n?void 0:n[0];return i&&(null===(r=e.genre_ids)||void 0===r?void 0:r.includes(i))})).length;i>0&&(r+=5*i)}if(t.year&&null!==(n=e.release_date||e.first_air_date)&&void 0!==n&&n.includes(t.year)&&(r+=10),t.timeRange){var a=new Date(e.release_date||e.first_air_date||Date.now()).getFullYear();a>=t.timeRange.start&&a<=t.timeRange.end&&(r+=8)}if(t.explicitType){var s=t.explicitType.toLowerCase(),l=s.includes("movie")||s.includes("film"),c=s.includes("show")||s.includes("series")||s.includes("tv");(l&&"movie"===o||c&&"tv"===o)&&(r+=12)}return r}),[]),j=((0,i.useCallback)((function(e){return"fulfilled"===e.status?e.value:[]}),[]),(0,i.useCallback)((function(e){return e&&(e.title||e.name)&&(e.poster_path||e.backdrop_path)&&e.overview&&e.overview.length>20}),[])),D=(0,i.useCallback)(function(){var e=Uc(jc().mark((function e(t,n,r){var o,i,a,s;return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=[W(t),G(t),Y(t),$(t),K(n)],e.next=4,Promise.allSettled(o);case 4:return i=e.sent,a=i.flatMap((function(e){var t=e.value;return void 0===t?[]:t})).concat(n).filter((function(e){return(null==e?void 0:e.id)&&j(e)})),s=Fc(new Map(a.map((function(e){return[e.id,e]}))).values()).filter((function(e){return e.id!==(null==t?void 0:t.id)})),e.abrupt("return",s.slice(0,10));case 10:return e.prev=10,e.t0=e.catch(0),console.error("Recommendations error:",e.t0),e.abrupt("return",n.slice(0,10));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),[W,G,Y,$,K,j]),U=(0,i.useMemo)((function(){if(!o.length)return[];var e=(new Date).getFullYear();return o.filter((function(t){if(!t.media_type||!t.title&&!t.name)return!1;var n=t.release_date||t.first_air_date||"";if(!n)return!1;var r=new Date(n).getFullYear();if(isNaN(r))return!1;switch(_.time){case"recent":if(e-r>5)return!1;break;case"classic":if(e-r<=20)return!1;break;case"90s00s":if(r<1990||r>2009)return!1}if("all"!==_.type&&t.media_type!==_.type)return!1;if("any"!==_.releaseYear){var o=parseInt(_.releaseYear,10);if(!isNaN(o)&&r!==o)return!1}if("any"!==_.popularity){var i=t.popularity||0;switch(_.popularity){case"high":if(i<50)return!1;break;case"medium":if(i<20||i>=50)return!1;break;case"low":if(i>=20)return!1}}if("any"!==_.contentType){if("movie"===t.media_type){var a,s;if("documentary"===_.contentType&&(null===(a=t.genre_ids)||void 0===a||!a.includes(99)))return!1;if("animation"===_.contentType&&(null===(s=t.genre_ids)||void 0===s||!s.includes(16)))return!1}if("tv"===t.media_type){var l,c;if("reality"===_.contentType&&(null===(l=t.genre_ids)||void 0===l||!l.includes(10764)))return!1;if("animation"===_.contentType&&(null===(c=t.genre_ids)||void 0===c||!c.includes(16)))return!1}}return!0})).sort((function(e,t){if("high"===_.popularity)return t.popularity-e.popularity;if("any"!==_.releaseYear){var n=new Date(e.release_date||e.first_air_date).getFullYear(),r=new Date(t.release_date||t.first_air_date).getFullYear(),o=parseInt(_.releaseYear,10);if(n===o&&r!==o)return-1;if(r===o&&n!==o)return 1}return t.popularity-e.popularity||t.vote_average-e.vote_average}))}),[o,_]),F=(0,i.useMemo)((function(){return U.slice(0,P)}),[U,P]),B=(0,i.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;m(e),v(!0),I.current&&clearTimeout(I.current),I.current=setTimeout((function(){return v(!1)}),t)}),[]),z=(0,i.useCallback)(function(){var e=Uc(jc().mark((function e(t,n){var r;return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Nc.J5)("https://api.themoviedb.org/3/search/multi",{api_key:"b484a8d608caf759d5d575db3ec03bbc",query:t,include_adult:!1,language:"en-US",page:1},{signal:n});case 3:return r=e.sent,e.abrupt("return",r.data.results.filter((function(e){return e.title||e.name})).slice(0,3).map((function(e){return{id:e.id,title:e.title||e.name,type:e.media_type}})));case 7:return e.prev=7,e.t0=e.catch(0),"AbortError"!==e.t0.name&&(console.error("Error fetching suggestions:",e.t0),B("Error fetching suggestions. Please try again.")),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),[B]);(0,i.useEffect)((function(){var e=new AbortController;O.current=e;var n=setTimeout(Uc(jc().mark((function n(){var r;return jc().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.trim().length<2)){n.next=3;break}return c([]),n.abrupt("return");case 3:return n.prev=3,n.next=6,z(t,e.signal);case 6:r=n.sent,e.signal.aborted||c(r),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),"AbortError"!==n.t0.name&&(console.error("Error fetching suggestions:",n.t0),B("Error fetching suggestions. Please try again."));case 13:case"end":return n.stop()}}),n,null,[[3,10]])}))),300);return function(){e.abort(),clearTimeout(n)}}),[t,z,B]);var V=(0,i.useCallback)(function(){var e=Uc(jc().mark((function e(n){var r,o,i,s,l,c;return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n||n.preventDefault(),t.trim()){e.next=3;break}return e.abrupt("return");case 3:e.prev=3,O.current.abort(),r=new AbortController,O.current=r,d(!0),m(null),v(!1),k(!0),a([]),A(3),e.next=18;break;case 18:if("direct"!==_.searchMode){e.next=22;break}return e.next=21,q(t,r.signal);case 21:return e.abrupt("return");case 22:if(!(o=R(t)).similarTo){e.next=27;break}return e.next=26,H(t,o,r.signal);case 26:return e.abrupt("return");case 27:return e.prev=27,i={api_key:"b484a8d608caf759d5d575db3ec03bbc",query:o.isLikelyTitle?t:t.replace(/^(show me|find|get|give me)\s+/i,""),include_adult:!1,language:"en-US",page:1},e.prev=30,e.next=33,(0,Nc.J5)("https://api.themoviedb.org/3/".concat("search/multi"),i,{signal:r.signal});case 33:s=e.sent,e.next=40;break;case 36:throw e.prev=36,e.t0=e.catch(30),console.error("Error during search API call:",e.t0),new Error("Search API error: ".concat(e.t0.message));case 40:if(l=[],e.prev=41,null!==(c=s)&&void 0!==c&&null!==(c=c.data)&&void 0!==c&&c.results){e.next=44;break}throw new Error("Search response missing results array");case 44:l=s.data.results.filter((function(e){return e&&(e.title||e.name)&&"person"!==e.media_type})),e.next=51;break;case 47:throw e.prev=47,e.t1=e.catch(41),console.error("Error processing search results:",e.t1),new Error("Results processing error: ".concat(e.t1.message));case 51:if(l.length){e.next=55;break}return B("No results found for your search."),d(!1),e.abrupt("return");case 55:a(l.map((function(e){return Lc(Lc({},e),{},{matchPercentage:L(e,t,o),queryIntent:o})}))),e.next=61;break;case 58:e.prev=58,e.t2=e.catch(27),"AbortError"!==e.t2.name&&(console.error("Search process error:",e.t2),B("Search failed. Please check your connection and try again."));case 61:e.next=67;break;case 63:e.prev=63,e.t3=e.catch(3),console.error("Outer search handler error:",e.t3),B("An unexpected error occurred. Please try again.");case 67:return e.prev=67,d(!1),e.finish(67);case 70:case"end":return e.stop()}}),e,null,[[3,63,67,70],[27,58],[30,36],[41,47]])})));return function(t){return e.apply(this,arguments)}}(),[t,_,B,L,R,D,q,H]),H=(0,i.useCallback)(function(){var e=Uc(jc().mark((function e(t,n,r){var o,i,s,l,c,u,f,h,p,m,g,y,v,b,w,x,E,S,k,C,P,A,T,_,N,O,I;return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Nc.J5)("https://api.themoviedb.org/3/search/multi",{api_key:"b484a8d608caf759d5d575db3ec03bbc",query:n.similarTo,include_adult:!1,language:"en-US",page:1},{signal:r});case 3:if((s=e.sent).data.results&&0!==s.data.results.length){e.next=15;break}return e.next=7,(0,Nc.J5)("https://api.themoviedb.org/3/search/multi",{api_key:"b484a8d608caf759d5d575db3ec03bbc",query:n.similarTo,include_adult:!0,language:"en-US",page:1},{signal:r});case 7:if((l=e.sent).data.results&&0!==l.data.results.length){e.next=12;break}return B("Couldn't find anything related to \"".concat(n.similarTo,'". Try another title.')),d(!1),e.abrupt("return");case 12:return a(l.data.results.filter((function(e){return"movie"===e.media_type||"tv"===e.media_type})).map((function(e){return Lc(Lc({},e),{},{matchPercentage:50,queryIntent:Lc(Lc({},n),{},{directSearch:!0})})}))),d(!1),e.abrupt("return");case 15:if(c=s.data.results.filter((function(e){return"movie"===e.media_type||"tv"===e.media_type})).sort((function(e,t){return t.popularity-e.popularity}))[0],c){e.next=20;break}return B("Couldn't find \"".concat(n.similarTo,'". Try another title.')),d(!1),e.abrupt("return");case 20:return e.next=22,(0,Nc.J5)("https://api.themoviedb.org/3/".concat(c.media_type,"/").concat(c.id),{api_key:"b484a8d608caf759d5d575db3ec03bbc",append_to_response:"keywords,credits"},{signal:r});case 22:return u=e.sent,f=u.data,h=["anime","animation","manga","japanese animation"],p=(null===(o=f.genres)||void 0===o?void 0:o.some((function(e){return"Animation"===e.name})))&&(((null===(i=f.keywords)||void 0===i?void 0:i.keywords)||[]).some((function(e){return h.includes(e.name.toLowerCase())}))||(c.title||c.name||"").toLowerCase().includes("anime")),m=[],e.prev=27,e.next=30,(0,Nc.J5)("https://api.themoviedb.org/3/".concat(c.media_type,"/").concat(c.id,"/similar"),{api_key:"b484a8d608caf759d5d575db3ec03bbc"},{signal:r});case 30:if(g=e.sent,m=g.data.results.map((function(e){return Lc(Lc({},e),{},{media_type:c.media_type})})),!(m.length<5)){e.next=40;break}return e.next=35,(0,Nc.J5)("https://api.themoviedb.org/3/".concat(c.media_type,"/").concat(c.id,"/recommendations"),{api_key:"b484a8d608caf759d5d575db3ec03bbc"},{signal:r});case 35:y=e.sent,v=y.data.results.map((function(e){return Lc(Lc({},e),{},{media_type:c.media_type})})),b=new Set(m.map((function(e){return e.id}))),w=Ic(v);try{for(w.s();!(x=w.n()).done;)E=x.value,b.has(E.id)||(m.push(E),b.add(E.id))}catch(e){w.e(e)}finally{w.f()}case 40:if(!(p||m.length<3)||!f.genres){e.next=60;break}return S=f.genres.map((function(e){return e.id})).join(","),e.next=44,(0,Nc.J5)("https://api.themoviedb.org/3/discover/".concat(c.media_type),Lc({api_key:"b484a8d608caf759d5d575db3ec03bbc",with_genres:p?"16,"+S:S,sort_by:"popularity.desc",page:1},p?{with_original_language:"ja"}:{}),{signal:r});case 44:if(k=e.sent,C=k.data.results.map((function(e){return Lc(Lc({},e),{},{media_type:c.media_type})})),!(p&&C.length>0)){e.next=57;break}return e.prev=47,e.next=50,(0,Nc.J5)("https://api.themoviedb.org/3/discover/".concat(c.media_type),{api_key:"b484a8d608caf759d5d575db3ec03bbc",with_genres:"16,"+S,sort_by:"popularity.desc",with_original_language:"ja",page:2},{signal:r});case 50:P=e.sent,C.push.apply(C,Fc(P.data.results.map((function(e){return Lc(Lc({},e),{},{media_type:c.media_type})})))),e.next=57;break;case 54:e.prev=54,e.t0=e.catch(47),console.warn("Error fetching second page:",e.t0);case 57:A=new Set(m.map((function(e){return e.id}))),T=Ic(C);try{for(T.s();!(_=T.n()).done;)N=_.value,A.has(N.id)||N.id===c.id||(m.push(N),A.add(N.id))}catch(e){T.e(e)}finally{T.f()}case 60:if(0!==m.length){e.next=65;break}return e.next=63,(0,Nc.J5)("https://api.themoviedb.org/3/search/multi",{api_key:"b484a8d608caf759d5d575db3ec03bbc",query:p?"anime":"tv"===c.media_type?"tv series":"movie",include_adult:!1,language:"en-US",page:1},{signal:r});case 63:O=e.sent,m=O.data.results.filter((function(e){return e.media_type===c.media_type})).map((function(e){return Lc(Lc({},e),{},{media_type:c.media_type})}));case 65:e.next=71;break;case 67:e.prev=67,e.t1=e.catch(27),console.warn("Error getting similar content, falling back to direct search:",e.t1),m=[Lc({},c)].concat(Fc(s.data.results.filter((function(e){return("movie"===e.media_type||"tv"===e.media_type)&&e.id!==c.id})).slice(0,10)));case 71:if(!(n.modifierType&&m.length>0)){e.next=77;break}e.t2=n.modifierType,e.next="family-friendly"===e.t2?75:77;break;case 75:return m=m.filter((function(e){var t,n,r;return!1===e.adult&&((null===(t=e.genre_ids)||void 0===t?void 0:t.includes(10751))||(null===(n=e.genre_ids)||void 0===n?void 0:n.includes(16))||!(null!==(r=e.genre_ids)&&void 0!==r&&r.includes(27)))})),e.abrupt("break",77);case 77:I=[Lc(Lc({},c),{},{matchPercentage:100,queryIntent:Lc(Lc({},n),{},{referenceName:c.title||c.name}),referenceName:c.title||c.name,isReferenceMedia:!0})].concat(Fc(m.filter((function(e){return e.id!==c.id})).map((function(e){var t=e.genre_ids&&f.genres?e.genre_ids.filter((function(e){return f.genres.map((function(e){return e.id})).includes(e)})).length/Math.max(e.genre_ids.length,1):.5,r=Math.round(70*t),o=Math.min(Math.round((e.popularity||0)/20),15),i=Math.min(Math.round(1.5*(e.vote_average||0)),15),a=Math.max(50,Math.min(99,r+o+i));return Lc(Lc({},e),{},{similarityScore:a,matchPercentage:a,queryIntent:Lc(Lc({},n),{},{referenceName:c.title||c.name}),referenceName:c.title||c.name})})).sort((function(e,t){return t.similarityScore-e.similarityScore})))),a(I),e.next=84;break;case 81:e.prev=81,e.t3=e.catch(0),"AbortError"!==e.t3.name&&(console.error("Similarity search error:",e.t3),B("Search failed. Please check your connection and try again."));case 84:return e.prev=84,d(!1),e.finish(84);case 87:case"end":return e.stop()}}),e,null,[[0,81,84,87],[27,67],[47,54]])})));return function(t,n,r){return e.apply(this,arguments)}}(),[B,Nc.J5,L]),q=(0,i.useCallback)(function(){var e=Uc(jc().mark((function e(t,n){var r,o,i;return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,(0,Nc.J5)("https://api.themoviedb.org/3/search/multi",{api_key:"b484a8d608caf759d5d575db3ec03bbc",query:t,include_adult:!1,language:"en-US",page:1},{signal:n});case 4:r=e.sent,o=R(t),0===(i=r.data.results.filter((function(e){return e&&("movie"===e.media_type||"tv"===e.media_type)&&(e.title||e.name)})).map((function(e){var n=(e.title||e.name||"").toLowerCase(),r=t.toLowerCase(),i=n===r?100:0,a=n.startsWith(r)?85:0,s=n.includes(r)?70:0,l=Math.max(i,a,s,Math.min(60+Math.round((e.popularity||0)/10),80));return Lc(Lc({},e),{},{matchPercentage:l,directSearch:!0,queryIntent:o})})).sort((function(e,t){return t.matchPercentage-e.matchPercentage}))).length?B("No results found. Try a different search term."):(a(i),k(!0)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),"AbortError"!==e.t0.name&&(console.error("Direct search error:",e.t0),B("Search failed. Please try again later."));case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(t,n){return e.apply(this,arguments)}}(),[Nc.J5,B,R]),W=(0,i.useCallback)(function(){var e=Uc(jc().mark((function e(t){var n,r;return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Nc.J5)("https://api.themoviedb.org/3/".concat(t.media_type,"/").concat(t.id,"/credits"),{api_key:"b484a8d608caf759d5d575db3ec03bbc"});case 3:if(n=e.sent,!((r="tv"===t.media_type?n.data.crew.filter((function(e){return"Executive Producer"===e.job||"Creator"===e.department})):n.data.crew.filter((function(e){return"Director"===e.job}))).length>0)){e.next=11;break}return e.next=8,Z(r[0].id);case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=[];case 12:return e.abrupt("return",e.t0);case 15:return e.prev=15,e.t1=e.catch(0),console.error("Director recommendations error:",e.t1),e.abrupt("return",[]);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),[Nc.J5,Z]),G=(0,i.useCallback)(function(){var e=Uc(jc().mark((function e(t){var n,r,o;return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Nc.J5)("https://api.themoviedb.org/3/".concat(t.media_type,"/").concat(t.id,"/credits"),{api_key:"b484a8d608caf759d5d575db3ec03bbc"});case 3:if(null!=(r=e.sent)&&null!==(n=r.data)&&void 0!==n&&n.cast&&Array.isArray(r.data.cast)){e.next=6;break}return e.abrupt("return",[]);case 6:return o=r.data.cast.slice(0,3),e.abrupt("return",Promise.all(o.map((function(e){return e.id?Z(e.id):[]}))));case 10:return e.prev=10,e.t0=e.catch(0),console.error("Cast recommendations error:",e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),[Nc.J5,Z]),Y=(0,i.useCallback)(function(){var e=Uc(jc().mark((function e(t){var n,r;return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Nc.J5)("https://api.themoviedb.org/3/".concat(t.media_type,"/").concat(t.id,"/keywords"),{api_key:"b484a8d608caf759d5d575db3ec03bbc"});case 2:return n=e.sent,r=n.data.keywords.map((function(e){return e.id})).join(","),e.abrupt("return",r?(0,Nc.J5)("https://api.themoviedb.org/3/discover/".concat(t.media_type),{with_keywords:r,api_key:"b484a8d608caf759d5d575db3ec03bbc"}).then((function(e){return e.data.results})):[]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Nc.J5]),$=(0,i.useCallback)(function(){var e=Uc(jc().mark((function e(t){var n,r;return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="tv"===t.media_type?"https://api.themoviedb.org/3/tv/".concat(t.id,"/recommendations"):"https://api.themoviedb.org/3/movie/".concat(t.id,"/similar"),e.next=4,(0,Nc.J5)(n,{api_key:"b484a8d608caf759d5d575db3ec03bbc"});case 4:return r=e.sent,e.abrupt("return",r.data.results||[]);case 8:return e.prev=8,e.t0=e.catch(0),console.error("Similar content error:",e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[Nc.J5]),K=(0,i.useCallback)((function(e){return Promise.all(e.slice(0,3).map((function(e){return(0,Nc.J5)("https://api.themoviedb.org/3/".concat(e.media_type,"/").concat(e.id),{api_key:"b484a8d608caf759d5d575db3ec03bbc"}).catch((function(e){return console.error("Error fetching item details:",e),null}))}))).then((function(e){return e.filter(Boolean).map((function(e){return e.data}))}))}),[Nc.J5]),Z=(0,i.useCallback)(function(){var e=Uc(jc().mark((function e(t){return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Nc.J5)("https://api.themoviedb.org/3/person/".concat(t,"/combined_credits"),{api_key:"b484a8d608caf759d5d575db3ec03bbc"}).then((function(e){return e.data.cast})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Nc.J5]),J=(0,i.useCallback)((function(){A((function(e){return Math.min(e+3,9)}))}),[]),Q=(0,i.useCallback)((function(e){n(e.title),c([]),V()}),[V]),X=(0,i.useCallback)(function(){var e=Uc(jc().mark((function e(t){var n,r;return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nc.SP.get("https://api.themoviedb.org/3/".concat(t.type,"/").concat(t.id),{params:{api_key:"b484a8d608caf759d5d575db3ec03bbc"},signal:O.current.signal});case 3:n=e.sent,r=n.data,(0,Nc.ZL)(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),"AbortError"!==e.t0.name&&(console.error("Prefetch error:",e.t0),B("Error prefetching data."));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[B]),ee=(0,i.useCallback)(function(){var e=Uc(jc().mark((function e(t){var n,r;return jc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.media_type){e.next=3;break}return B("Unable to get details for this title."),e.abrupt("return");case 3:return e.prev=3,e.next=6,(0,Nc.J5)("https://api.themoviedb.org/3/".concat(t.media_type,"/").concat(t.id,"/external_ids"),{api_key:"b484a8d608caf759d5d575db3ec03bbc"},{signal:O.current.signal});case 6:n=e.sent,(r=n.data.imdb_id)?window.open("https://www.imdb.com/title/".concat(r),"_blank"):B("IMDb page not available for this title."),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),"AbortError"!==e.t0.name&&(console.error("Error fetching external IDs:",e.t0),B("Failed to open IMDb page. Please try again."));case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),[B]);return(0,i.useEffect)((function(){return function(){O.current.abort(),I.current&&clearTimeout(I.current)}}),[]),(0,i.useMemo)((function(){return{query:t,setQuery:n,activeFilters:_,setActiveFilters:N,hasSearched:S,isLoading:f,displayedResults:F,filteredResults:U,resultsToShow:P,error:p,isErrorVisible:y,isFocused:w,setIsFocused:x,suggestions:l,handleSearch:V,handleShowMore:J,handleSuggestionClick:Q,handleSuggestionHover:X,handleResultClick:ee}}),[t,_,S,f,F,P,p,y,w,l,V,J,Q,X,ee])}(),m=p.query,g=p.setQuery,y=p.activeFilters,v=p.setActiveFilters,b=p.hasSearched,w=p.isLoading,x=p.displayedResults,E=p.filteredResults,S=p.error,k=p.isErrorVisible,C=p.isFocused,P=p.setIsFocused,A=p.suggestions,T=p.handleSearch,_=(p.handleShowMore,p.handleSuggestionClick),N=p.handleSuggestionHover,O=p.handleResultClick,I=(p.resultsToShow,p.setResultsToShow,(0,i.useRef)(!1));(0,i.useEffect)((function(){var e=document.body;if(l&&(b||w)){var t=e.style.overflow;return e.style.overflow="hidden",function(){e.style.overflow=t||""}}e.style.overflow=""}),[l,b,w]);var R=(0,i.useCallback)((function(e){null==e||e.preventDefault(),c(!0),T(e),I.current?I.current=!1:setTimeout((function(){var e=new URLSearchParams;m&&e.set("q",m),"smart"!==y.searchMode&&e.set("mode",y.searchMode),"diverse"!==y.genre&&e.set("genre",y.genre),"any"!==y.time&&e.set("time",y.time),"all"!==y.type&&e.set("type",y.type),"any"!==y.releaseYear&&e.set("year",y.releaseYear),"any"!==y.popularity&&e.set("pop",y.popularity),"any"!==y.contentType&&e.set("content",y.contentType);var t="".concat(window.location.pathname,"?").concat(e.toString());window.history.pushState({path:t},"",t)}),100)}),[m,y,T]),L=(0,i.useCallback)((function(e){O(e),n&&n(e)}),[O,n]);(0,i.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=e.get("q");if(t){I.current=!0,c(!0),g(t);var n=eu({},y),r=e.get("mode");"direct"===r&&(n.searchMode=r);var o=e.get("genre");o&&(n.genre=o);var i=e.get("time");i&&(n.time=i);var a=e.get("type");a&&(n.type=a);var s=e.get("year");s&&(n.releaseYear=s);var l=e.get("pop");l&&(n.popularity=l);var u=e.get("content");u&&(n.contentType=u),v(n),setTimeout((function(){return T()}),100)}}),[]);var M=nu((0,i.useState)(1),2),j=M[0],D=M[1],U=Math.ceil(E.length/9),F=(0,i.useMemo)((function(){var e=9*(j-1);return E.slice(e,e+9)}),[E,j]),B=(0,i.useCallback)((function(e){D(e);var t=document.querySelector(".search-results-container");t&&t.scrollTo({top:0,behavior:"smooth"})}),[]);(0,i.useEffect)((function(){var e=kl()((function(){d(window.scrollY>500)}),200);return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]);var z=(0,i.useCallback)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]),V=(0,i.useMemo)((function(){return x.length?x[0].queryIntent:null}),[x]),H=(0,i.useMemo)((function(){return(0,Nc.o9)(V)}),[V]),q="direct"===y.searchMode,W=(0,i.useMemo)((function(){if(!m||!x.length)return[];var e=m.toLowerCase();return x.filter((function(t){return t.title&&t.title.toLowerCase()===e||t.name&&t.name.toLowerCase()===e}))}),[x,m]),G=(0,i.useMemo)((function(){if(q)return{main:x};if(!V||!x.length)return{main:x};var e=x.filter((function(e){return!W.some((function(t){return t.id===e.id}))}));return V.referenceName?{similarTo:e}:V.mood?{moodBased:e}:V.context?{contextBased:e}:V.subjects&&V.subjects.length>0?{subjectBased:e}:{main:e}}),[x,V,W,q]),Y=i.memo((function(e){var t=e.totalPages,n=e.currentPage,r=e.onPageChange;return t<=1?null:i.createElement("div",{className:"flex justify-center my-2 sm:my-3"},i.createElement("nav",{className:"inline-flex rounded-lg bg-gray-800 overflow-hidden shadow-lg","aria-label":"Pagination"},i.createElement("button",{onClick:function(){return r(n-1)},disabled:1===n,className:"px-4 py-2 bg-gray-700 text-gray-300 hover:bg-gray-600 disabled:opacity-50"},""),Array.from({length:t},(function(e,t){return t+1})).map((function(e){return i.createElement("button",{key:e,onClick:function(){return r(e)},className:"px-4 py-2 text-sm ".concat(e===n?"bg-indigo-600 text-white ring-2 ring-indigo-400":"bg-gray-700 text-gray-300 hover:bg-indigo-500 hover:text-white")},e)})),i.createElement("button",{onClick:function(){return r(n+1)},disabled:n===t,className:"px-4 py-2 bg-gray-700 text-gray-300 hover:bg-gray-600 disabled:opacity-50"},"")))}));(0,i.useEffect)((function(){}),[E,S]);var $=function(){return i.createElement(mi.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"w-full p-4 bg-red-900/30 border border-red-700/50 backdrop-blur-md rounded-xl my-4 text-center"},i.createElement("h3",{className:"text-red-300 font-medium"},"Something went wrong with the search results"),i.createElement("p",{className:"text-red-200/80 mt-2"},"Please try refreshing the page or try another search term."),i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:function(){return window.location.reload()},className:"mt-3 px-4 py-2 bg-red-600/80 hover:bg-red-500 text-white rounded-lg shadow-lg transition-all"},"Refresh Page"))};return i.createElement("div",{ref:h,className:"w-full max-w-screen-2xl mx-auto px-3 sm:px-6 flex flex-col items-center justify-start pt-0 sm:pt-1 pb-1"},i.createElement(mi.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-2xl mb-6 z-20"},i.createElement("div",{className:"relative bg-gray-900/50 backdrop-blur-lg rounded-2xl ".concat(l?"p-3 sm:p-4":"p-1.5 sm:p-2.5"," \n          border border-gray-700/50 shadow-xl transition-all duration-300")},i.createElement("div",{className:"w-full"},i.createElement(dc,{query:m,setQuery:g,handleSearch:function(e){c(!0),R(e)},isLoading:w,isFocused:C,setIsFocused:function(e){P(e),e&&!l&&c(!0)},suggestions:A,handleSuggestionClick:function(e){c(!0),_(e)},handleSuggestionHover:N,searchMode:y.searchMode})),i.createElement(_i,null,l&&i.createElement(mi.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0}},i.createElement("div",{className:"mt-3 flex items-center justify-between px-2"},i.createElement("div",{className:"flex items-center space-x-3"},i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:function(){return a(!o)},className:"flex items-center space-x-1.5 px-3 py-1 rounded-full transition-all ".concat(o?"bg-indigo-600 text-white shadow-lg":"bg-gray-800/70 text-gray-300 hover:bg-indigo-700/50")},o?i.createElement(Yc,{className:"w-3.5 h-3.5"}):i.createElement(Wc,{className:"w-3.5 h-3.5"}),i.createElement("span",{className:"font-medium text-xs"},o?"Hide Filters":"Filters")),i.createElement("div",{className:"flex items-center space-x-1.5"},i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:function(){return v(eu(eu({},y),{},{searchMode:"smart"}))},className:"px-3 py-1 rounded-full text-xs font-medium transition-all ".concat("smart"===y.searchMode?"bg-indigo-600 text-white":"bg-gray-800/70 text-gray-300 hover:bg-indigo-700/50")},"Smart"),i.createElement(mi.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:function(){return v(eu(eu({},y),{},{searchMode:"direct"}))},className:"px-3 py-1 rounded-full text-xs font-medium transition-all ".concat("direct"===y.searchMode?"bg-blue-600 text-white":"bg-gray-800/70 text-gray-300 hover:bg-blue-700/50")},"Direct"))),b&&E.length>0&&i.createElement("span",{className:"text-xs text-gray-400"},E.length," result",1!==E.length?"s":"")),i.createElement(_i,null,o&&i.createElement(mi.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-3 overflow-hidden"},i.createElement(tc,{activeFilters:y,setActiveFilters:v}))))))),i.createElement("div",{className:"w-full max-w-4xl mb-4 space-y-3 z-10"},q&&b&&!w&&i.createElement(mi.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"w-full max-w-4xl mb-4 p-2.5 rounded-xl bg-blue-900/30 backdrop-blur-sm border border-blue-800/50 text-blue-200 flex items-center shadow-lg"},i.createElement(Kc,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-blue-400 flex-shrink-0"}),i.createElement("p",{className:"text-xs sm:text-sm font-medium truncate"},"Direct Title Search: ",m,E.length>0&&" (".concat(E.length," results found)"))),H&&b&&!w&&!q&&i.createElement(mi.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"w-full max-w-4xl mb-4 p-2.5 rounded-xl bg-indigo-900/30 backdrop-blur-sm border border-indigo-800/50 text-indigo-200 flex items-center shadow-lg"},i.createElement(sc,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-indigo-400 flex-shrink-0"}),i.createElement("p",{className:"text-xs sm:text-sm font-medium truncate"},H))),i.createElement(_c,{error:S,isVisible:k}),l&&(b||w)&&i.createElement("div",{className:"w-full max-w-7xl transition-opacity duration-300 ".concat(l?"opacity-100":"opacity-0 pointer-events-none")},function(){try{var e,r,o;return S?i.createElement($,null):b||w?w?i.createElement(mi.P.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full max-w-7xl mb-8"},i.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},(a=Array(9),function(e){if(Array.isArray(e))return ou(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||ru(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e,t){return i.createElement("div",{key:t,className:"bg-gray-800 rounded-xl overflow-hidden h-[350px] shadow-lg animate-pulse"},i.createElement("div",{className:"h-[180px] bg-gray-700"}),i.createElement("div",{className:"p-4 space-y-3"},i.createElement("div",{className:"h-5 bg-gray-700 rounded w-3/4"}),i.createElement("div",{className:"h-4 bg-gray-700 rounded w-1/2"}),i.createElement("div",{className:"h-4 bg-gray-700 rounded w-full"}),i.createElement("div",{className:"flex justify-between pt-2"},i.createElement("div",{className:"h-4 bg-gray-700 rounded w-16"}),i.createElement("div",{className:"h-4 bg-gray-700 rounded w-12"}))))})))):i.createElement("div",{className:"search-results-container w-full max-h-[calc(100vh-250px)] sm:max-h-[calc(100vh-280px)] overflow-y-auto overscroll-contain custom-scrollbar"},W.length>0&&b&&i.createElement(mi.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-7xl mb-8"},i.createElement("div",{className:"py-2 px-3 bg-indigo-900/30 backdrop-blur-sm rounded-xl border border-indigo-700/50 mb-3 flex items-center"},i.createElement(Ps,{className:"h-4 w-4 text-yellow-400 mr-2"}),i.createElement("h3",{className:"text-sm font-medium text-indigo-300"},"Exact Match Found")),i.createElement("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-4"},W.map((function(e){return i.createElement(mi.P.div,{key:"exact-".concat(e.id,"-").concat(e.media_type),whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:17}},i.createElement(i.Suspense,{fallback:i.createElement("div",{className:"bg-gray-800 animate-pulse h-[350px] rounded-xl"})},i.createElement(iu,{result:e,currentUser:t,onClick:function(){return L(e)},highlightMatch:!0})))})))),q&&E.length>0&&i.createElement(mi.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"w-full max-w-7xl mb-8"},i.createElement("div",{className:"py-2 px-3 bg-blue-900/30 backdrop-blur-sm rounded-xl border border-blue-700/50 mb-3 flex items-center"},i.createElement(Kc,{className:"h-4 w-4 text-blue-400 mr-2"}),i.createElement("h3",{className:"text-sm font-medium text-blue-300"},"Title Search Results")),i.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},F.map((function(e){return i.createElement(mi.P.div,{key:"direct-".concat(e.id,"-").concat(e.media_type),whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:17}},i.createElement(i.Suspense,{fallback:i.createElement("div",{className:"bg-gray-800 animate-pulse h-[350px] rounded-xl"})},i.createElement(iu,{result:e,currentUser:t,onClick:function(){return L(e)}})))}))),i.createElement(Y,{totalPages:U,currentPage:j,onPageChange:B})),!q&&i.createElement(i.Fragment,null,(null==V?void 0:V.referenceName)&&b&&i.createElement(mi.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"w-full max-w-7xl mb-8"},i.createElement("div",{className:"py-2 px-3 bg-purple-900/30 backdrop-blur-sm rounded-xl border border-purple-700/50 mb-3 flex items-center"},i.createElement(Ps,{className:"h-4 w-4 text-purple-400 mr-2"}),i.createElement("h3",{className:"text-sm font-medium text-purple-300"},'Similar to "'.concat(V.referenceName,'"'),V.modifierType&&i.createElement("span",{className:"ml-2 text-purple-400"},"family-friendly"===V.modifierType&&"but more family-friendly","darker"===V.modifierType&&"but with a darker tone","lighter"===V.modifierType&&"but lighter","scarier"===V.modifierType&&"but scarier","more-action"===V.modifierType&&"but with more action","funnier"===V.modifierType&&"but funnier"))),0===(null===(e=G.similarTo)||void 0===e?void 0:e.length)?i.createElement(mi.P.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-800/30 backdrop-blur-sm rounded-xl p-6 text-center border border-gray-700/50"},i.createElement("h3",{className:"text-lg font-semibold text-gray-200 mb-2"},"No Similar Titles Found"),i.createElement("p",{className:"text-gray-300 mb-4"},"We couldn't find shows similar to \"",V.referenceName,'". This might be because:'),i.createElement("ul",{className:"text-gray-400 list-disc list-inside text-left max-w-xl mx-auto mb-4"},i.createElement("li",null,"The title is new or not yet cataloged with similar shows"),i.createElement("li",null,"It may be a very unique show with few similar titles"),i.createElement("li",null,"The title could be from a niche category")),i.createElement("p",{className:"text-gray-300"},'Try searching for a broader category like "',null===(r=V.referenceName)||void 0===r?void 0:r.split(" ")[0],' anime" or "anime action"')):i.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},G.similarTo.map((function(e){return i.createElement(mi.P.div,{key:"similar-".concat(e.id,"-").concat(e.media_type),whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:17}},i.createElement(i.Suspense,{fallback:i.createElement("div",{className:"bg-gray-800 animate-pulse h-[350px] rounded-xl"})},i.createElement(iu,{result:e,currentUser:t,onClick:function(){return L(e)},highlightMatch:e.isReferenceMedia})))})))),G.main&&G.main.length>0&&!(null!=V&&V.referenceName)&&i.createElement(mi.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},className:"w-full max-w-7xl mb-8"},i.createElement(Tc,{hasSearched:b,isLoading:w,displayedResults:F,handleResultClick:L,currentUser:t,onMediaClick:n}),i.createElement(Y,{totalPages:U,currentPage:j,onPageChange:B})),!w&&b&&E.length>0&&0===(null===(o=G.main)||void 0===o?void 0:o.length)&&!q&&!(null!=V&&V.referenceName)&&0===W.length&&i.createElement(mi.P.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-800/30 backdrop-blur-sm rounded-xl p-6 text-center border border-gray-700/50 mt-6"},i.createElement("h3",{className:"text-lg font-semibold text-gray-200 mb-2"},"No further results"),i.createElement("p",{className:"text-gray-300"},"All relevant results are shown above.")),!w&&b&&0===E.length&&i.createElement(mi.P.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-800/30 backdrop-blur-sm rounded-xl p-6 text-center border border-gray-700/50 mt-6"},i.createElement("h3",{className:"text-lg font-semibold text-gray-200 mb-2"},"No Results Found"),i.createElement("p",{className:"text-gray-300"},"Try adjusting your search query or filters.")))):i.createElement(mi.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"w-full max-w-2xl mx-auto text-center p-8 mt-4"},i.createElement(cc,{className:"w-16 h-16 mx-auto text-indigo-400/50"}),i.createElement("h3",{className:"mt-4 text-xl font-medium text-gray-300"},"Search for movies and shows"),i.createElement("p",{className:"mt-2 text-gray-400"},'Try searching for a title, a mood, or even "movies like [title]"'))}catch(e){return console.error("Error rendering search results:",e),i.createElement($,null)}var a}()),i.createElement(_i,null,f&&i.createElement(mi.P.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:z,className:"fixed bottom-6 right-6 p-3 rounded-full bg-indigo-600/80 backdrop-blur-sm text-white shadow-lg z-50"},i.createElement(Jc,{className:"w-5 h-5"}))))};function su({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M18.75 12.75h1.5a.75.75 0 0 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM12 6a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 6ZM12 18a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 18ZM3.75 6.75h1.5a.75.75 0 1 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM5.25 18.75h-1.5a.75.75 0 0 1 0-1.5h1.5a.75.75 0 0 1 0 1.5ZM3 12a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 3 12ZM9 3.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM12.75 12a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0ZM9 15.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"}))}const lu=i.forwardRef(su);function cu({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),i.createElement("path",{fillRule:"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z",clipRule:"evenodd"}))}const uu=i.forwardRef(cu);var fu=o(1136);function du({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M11.7 2.805a.75.75 0 0 1 .6 0A60.65 60.65 0 0 1 22.83 8.72a.75.75 0 0 1-.231 1.337 49.948 49.948 0 0 0-9.902 3.912l-.003.002c-.114.06-.227.119-.34.18a.75.75 0 0 1-.707 0A50.88 50.88 0 0 0 7.5 12.173v-.224c0-.131.067-.248.172-.311a54.615 54.615 0 0 1 4.653-2.52.75.75 0 0 0-.65-1.352 56.123 56.123 0 0 0-4.78 2.589 1.858 1.858 0 0 0-.859 1.228 49.803 49.803 0 0 0-4.634-1.527.75.75 0 0 1-.231-1.337A60.653 60.653 0 0 1 11.7 2.805Z"}),i.createElement("path",{d:"M13.06 15.473a48.45 48.45 0 0 1 7.666-3.282c.134 1.414.22 2.843.255 4.284a.75.75 0 0 1-.46.711 47.87 47.87 0 0 0-8.105 4.342.75.75 0 0 1-.832 0 47.87 47.87 0 0 0-8.104-4.342.75.75 0 0 1-.461-.71c.035-1.442.121-2.87.255-4.286.921.304 1.83.634 2.726.99v1.27a1.5 1.5 0 0 0-.14 2.508c-.09.38-.222.753-.397 1.11.452.213.901.434 1.346.66a6.727 6.727 0 0 0 .551-1.607 1.5 1.5 0 0 0 .14-2.67v-.645a48.549 48.549 0 0 1 3.44 1.667 2.25 2.25 0 0 0 2.12 0Z"}),i.createElement("path",{d:"M4.462 19.462c.42-.419.753-.89 1-1.395.453.214.902.435 1.347.662a6.742 6.742 0 0 1-1.286 1.794.75.75 0 0 1-1.06-1.06Z"}))}const hu=i.forwardRef(du);function pu({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"}),i.createElement("path",{fillRule:"evenodd",d:"m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const mu=i.forwardRef(pu);function gu({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const yu=i.forwardRef(gu);function vu({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M14.615 1.595a.75.75 0 0 1 .359.852L12.982 9.75h7.268a.75.75 0 0 1 .548 1.262l-10.5 11.25a.75.75 0 0 1-1.272-.71l1.992-7.302H3.75a.75.75 0 0 1-.548-1.262l10.5-11.25a.75.75 0 0 1 .913-.143Z",clipRule:"evenodd"}))}const bu=i.forwardRef(vu);function wu({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const xu=i.forwardRef(wu);function Eu({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Su=i.forwardRef(Eu);var ku=[{id:1,icon:lu,title:"Share Your Taste",description:"Tell us a bit about movies you enjoy.",iconColor:"text-indigo-300",bgColor:"bg-gray-700",gradient:"from-indigo-500 to-blue-500"},{id:2,icon:uu,title:"Explore Visually",description:"Browse genres, moods, and curated picks.",iconColor:"text-purple-300",bgColor:"bg-gray-700",gradient:"from-purple-500 to-pink-500"},{id:3,icon:fu.A,title:"Get Matched",description:"Receive recommendations you'll actually love.",iconColor:"text-rose-300",bgColor:"bg-gray-700",gradient:"from-rose-500 to-red-500"}],Cu=[{id:1,name:"By Mood",description:"Find films that fit your current vibe.",icon:hu,iconColor:"text-sky-300",cardBg:"bg-gray-800",placeholderBg:"bg-sky-700/30"},{id:2,name:"Popular Genres",description:"Explore top categories and classics.",icon:mu,iconColor:"text-amber-300",cardBg:"bg-gray-800",placeholderBg:"bg-amber-700/30"},{id:3,name:"Curated For You",description:"Picks based on similar tastes.",icon:sc,iconColor:"text-emerald-300",cardBg:"bg-gray-800",placeholderBg:"bg-emerald-700/30"}],Pu=[{icon:Bl,text:"Save Time Searching",iconColor:"text-indigo-300"},{icon:yu,text:"Truly Personalized Picks",iconColor:"text-purple-300"},{icon:bu,text:"Easy 30-Second Setup",iconColor:"text-rose-300"},{icon:xu,text:"No Credit Card Required",iconColor:"text-teal-300"}];const Au=function(e){var t=e.onSignInClick,n=e.onSignUpClick,r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return i.createElement(mi.P.div,{initial:"hidden",animate:"visible",exit:{opacity:0},variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.2}}},className:"w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16 text-white"},i.createElement(mi.P.section,{variants:r,className:"text-center py-16 md:py-24 relative"},i.createElement("div",{className:"absolute -z-10 top-0 left-1/2 -translate-x-1/2 w-full h-full max-w-4xl"},i.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900/50 via-purple-900/40 to-gray-900/30 rounded-full blur-3xl opacity-60 animate-pulse-slow"})),i.createElement("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight"},"Discover Your Next Great Movie, Simply"),i.createElement("p",{className:"text-lg sm:text-xl text-gray-300 mb-10 max-w-2xl mx-auto"},"Visually explore a world of films or let our smart recommendations guide you. Finding a movie you'll enjoy is now effortless."),i.createElement(mi.P.button,{onClick:n,className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-8 py-4 rounded-lg font-semibold text-lg shadow-lg transform transition-all duration-300 hover:scale-105",whileHover:{scale:1.05},whileTap:{scale:.98}},"Get Started Free"),i.createElement("p",{className:"text-sm text-gray-400 mt-4"},"Already have an account?"," ",i.createElement("button",{onClick:t,className:"text-indigo-400 hover:text-indigo-300 underline font-medium"},"Sign In"))),i.createElement(mi.P.section,{variants:r,className:"py-16 md:py-24"},i.createElement("div",{className:"text-center mb-12 md:mb-16"},i.createElement("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3"},"Start Your Movie Journey"),i.createElement("p",{className:"text-gray-300 max-w-xl mx-auto text-base md:text-lg"},"Three simple steps to personalized movie recommendations.")),i.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-10"},ku.map((function(e){return i.createElement(mi.P.div,{key:e.id,variants:r,className:"".concat(e.bgColor," p-6 rounded-xl shadow-xl border border-gray-700/80 text-center hover:border-indigo-500/70 transition-colors duration-300")},i.createElement("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br ".concat(e.gradient," flex items-center justify-center mx-auto mb-6 shadow-md")},i.createElement(e.icon,{className:"h-8 w-8 text-white"})),i.createElement("h3",{className:"text-xl font-semibold text-white mb-3"},e.title),i.createElement("p",{className:"text-gray-400 text-sm"},e.description))})))),i.createElement(mi.P.section,{variants:r,className:"py-16 md:py-24"},i.createElement("div",{className:"text-center mb-12 md:mb-16"},i.createElement("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3"},"Explore Visually"),i.createElement("p",{className:"text-gray-300 max-w-xl mx-auto text-base md:text-lg"},"Browse movies in a way that feels intuitive and fun.")),i.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8"},Cu.map((function(e){return i.createElement(mi.P.div,{key:e.id,variants:r,className:"".concat(e.cardBg," rounded-xl shadow-xl border border-gray-700/80 overflow-hidden group hover:shadow-indigo-500/40 transition-all duration-300")},i.createElement("div",{className:"w-full h-48 ".concat(e.placeholderBg," flex items-center justify-center")},i.createElement(e.icon,{className:"h-16 w-16 ".concat(e.iconColor," opacity-70")})),i.createElement("div",{className:"p-6"},i.createElement("h3",{className:"text-xl font-semibold text-white mb-2"},e.name),i.createElement("p",{className:"text-gray-400 text-sm mb-4"},e.description),i.createElement("button",{onClick:n,className:"text-indigo-400 hover:text-indigo-300 font-medium text-sm flex items-center group-hover:text-indigo-200"},"Explore Now ",i.createElement(Su,{className:"w-4 h-4 ml-1 transition-transform group-hover:translate-x-1"}))))})))),i.createElement(mi.P.section,{variants:r,className:"py-16 md:py-24 bg-gray-800/70 rounded-xl my-12"},i.createElement("div",{className:"text-center mb-12 md:mb-16 px-6"},i.createElement("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3"},"Why You'll Love It"),i.createElement("p",{className:"text-gray-300 max-w-xl mx-auto text-base md:text-lg"},"We focus on making movie discovery easy and enjoyable.")),i.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 px-6"},Pu.map((function(e,t){return i.createElement(mi.P.div,{key:t,variants:r,className:"text-center"},i.createElement("div",{className:"w-14 h-14 bg-gradient-to-br ".concat(ku[t%3].gradient," rounded-full flex items-center justify-center mx-auto mb-4 shadow-md")},i.createElement(e.icon,{className:"h-7 w-7 text-white"})),i.createElement("p",{className:"text-gray-200 font-medium"},e.text))})))),i.createElement(mi.P.section,{variants:r,className:"py-20 md:py-28 text-center bg-gradient-to-br from-indigo-800 via-purple-800 to-pink-800 rounded-3xl my-16 shadow-2xl relative overflow-hidden"},i.createElement(sc,{className:"w-16 h-16 text-yellow-300/80 mx-auto mb-4 opacity-75"}),i.createElement("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-5"},"Stop Searching, Start Watching."),i.createElement("p",{className:"text-lg text-indigo-200 mb-10 max-w-xl mx-auto"},"Say goodbye to endless scrolling. Get movie recommendations you'll actually love, in minutes."),i.createElement(mi.P.button,{onClick:n,className:"bg-white text-indigo-700 px-8 sm:px-12 py-3 sm:py-4 rounded-lg font-semibold text-base sm:text-lg hover:bg-indigo-100 transition-all duration-300 ease-in-out shadow-xl transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-300 focus:ring-opacity-50 w-full sm:w-auto max-w-xs sm:max-w-none",whileHover:{scale:1.05,boxShadow:"0px 10px 20px rgba(255, 255, 255, 0.2)"},whileTap:{scale:.98}},"Find Your Next Favorite Movie")))};function Tu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Nu=function(e){var t=e.className,n=void 0===t?"":t,r=e.style,o=void 0===r?{}:r,a=e.contentBefore,s=void 0===a?"":a,l=e.contentAfter,c=void 0===l?"":l,u=(0,i.useRef)(null),f=Tu((0,i.useState)(!1),2),d=f[0],h=f[1],p=Tu((0,i.useState)(!1),2),m=p[0],g=p[1],y=Tu((0,i.useState)(!1),2),v=y[0],b=y[1],w=Tu((0,i.useState)(!1),2),x=w[0],E=w[1],S=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e=function(){var e=document.querySelectorAll("p"),t=document.querySelectorAll("h1, h2, h3, h4, h5"),n=document.querySelectorAll("article, section, .content-container"),r=document.querySelectorAll('img[src]:not([src=""]), video'),o=e.length>=3&&t.length+n.length>=2,i=document.querySelector("#root")||document.body,a=i?i.innerText:"",s=a.trim().length>1e3,l=document.body.scrollHeight>1.5*window.innerHeight,c=r.length>0;o&&s||l&&s||o&&c&&a.length>800?v||(b(!0),S.current&&clearTimeout(S.current),S.current=setTimeout((function(){E(!0)}),2e3)):v&&(b(!1),E(!1),S.current&&(clearTimeout(S.current),S.current=null))};e();var t=setInterval(e,2e3);return function(){clearInterval(t),S.current&&clearTimeout(S.current)}}),[v]),(0,i.useEffect)((function(){if(v&&x&&"undefined"!=typeof window&&u.current&&window.adsbygoogle&&!d)try{(window.adsbygoogle=window.adsbygoogle||[]).push({}),h(!0)}catch(e){g(!0)}}),[v,x,d]),v&&x?m?null:i.createElement("div",{className:"ad-container mx-auto ".concat(d?"":"min-h-0"," ").concat(n),style:o},s&&i.createElement("div",{className:"ad-content-before mb-4"},s),i.createElement("ins",{className:"adsbygoogle",style:{display:"block",overflow:"hidden",borderRadius:"0.5rem",margin:"0 auto",minHeight:"90px",backgroundColor:"transparent",transition:"opacity 0.3s ease",opacity:d?1:.4},"data-ad-client":"ca-pub-5077058434275861","data-ad-slot":"1623198112","data-ad-format":"auto","data-full-width-responsive":"true",ref:u}),c&&i.createElement("div",{className:"ad-content-after mt-4"},c)):null};function Ou(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Iu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Ru=function(){var e=Ou((0,i.useState)(!1),2),t=e[0],n=e[1],r=Ou((0,i.useState)(!1),2),o=r[0],a=r[1];return(0,i.useEffect)((function(){var e=function(){var e=document.querySelectorAll("p"),t=document.querySelectorAll("h1, h2, h3, h4, h5"),n=document.querySelectorAll("article, section, .content-container"),r=document.querySelectorAll('img[src]:not([src=""]), video'),o=e.length>=3&&t.length+n.length>=2,i=document.querySelector("#root")||document.body,a=i?i.innerText:"",s=a.trim().length>1500,l=document.body.scrollHeight>1.5*window.innerHeight,c=r.length>0;return o&&s||l&&s||o&&c&&a.length>1e3},t=setTimeout((function(){if(e()){n(!0);var t=setTimeout((function(){a(!0)}),2500);return function(){return clearTimeout(t)}}var r=setTimeout((function(){if(e()){n(!0);var t=setTimeout((function(){a(!0)}),2500);return function(){return clearTimeout(t)}}}),3e3);return function(){return clearTimeout(r)}}),1500);return function(){return clearTimeout(t)}}),[]),(0,i.useEffect)((function(){if(t&&o&&"undefined"!=typeof window){var e=setTimeout((function(){var e=document.createElement("script");e.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",e.async=!0,e.crossOrigin="anonymous",e.dataset.adClient="ca-pub-5077058434275861",document.querySelector('script[src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"]')||document.head.appendChild(e)}),1e3);return function(){return clearTimeout(e)}}}),[t,o]),null};var Lu=o(2496);function Mu(e){return Mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(e)}function ju(e){return function(e){if(Array.isArray(e))return Fu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Uu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Du(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Uu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uu(e,t){if(e){if("string"==typeof e)return Fu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fu(e,t):void 0}}function Fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bu(Object(n),!0).forEach((function(t){Vu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vu(e,t,n){return(t=function(e){var t=function(e){if("object"!=Mu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Mu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Mu(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hu(){Hu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(O([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Mu(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Mu(t)+" is not iterable")}return v.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},k(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function qu(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Wu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qu(i,r,o,a,s,"next",e)}function s(e){qu(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Gu=function(){var e=Wu(Hu().mark((function e(t){return Hu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching reviews for media ID: ".concat(t)),e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:return e.abrupt("return",[{id:1,author:"User123",rating:4,comment:"Great movie, really enjoyed the plot!",createdAt:(new Date).toISOString()},{id:2,author:"Cinephile_Max",rating:5,comment:"A masterpiece! Must watch.",createdAt:(new Date).toISOString()}]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yu=function(){var e=Wu(Hu().mark((function e(t,n){return Hu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Submitting review for media ID: ".concat(t),n),e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:return e.abrupt("return",{success:!0,newReview:zu(zu({},n),{},{id:Date.now(),createdAt:(new Date).toISOString()})});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();const $u=function(e){var t=e.mediaId,n=e.currentUser,r=e.onReviewsLoaded,o=Du((0,i.useState)([]),2),a=o[0],s=o[1],l=Du((0,i.useState)(!1),2),c=l[0],u=l[1],f=Du((0,i.useState)(null),2),d=f[0],h=f[1],p=Du((0,i.useState)(0),2),m=p[0],g=p[1],y=Du((0,i.useState)(""),2),v=y[0],b=y[1],w=Du((0,i.useState)(!1),2),x=w[0],E=w[1];(0,i.useEffect)((function(){if(t){var e=function(){var e=Wu(Hu().mark((function e(){var n;return Hu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),h(null),e.prev=2,e.next=5,Gu(t);case 5:n=e.sent,s(n),r&&r(n.length>0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Error fetching reviews:",e.t0),h("Failed to load reviews.");case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}}),[t,r]);var S=function(){var e=Wu(Hu().mark((function e(r){var o;return Hu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),m&&v.trim()&&n){e.next=3;break}return e.abrupt("return");case 3:return E(!0),h(null),e.prev=5,e.next=8,Yu(t,{author:n.attributes.email,rating:m,comment:v.trim()});case 8:if(!(o=e.sent).success||!o.newReview){e.next=15;break}s((function(e){return[o.newReview].concat(ju(e))})),g(0),b(""),e.next=16;break;case 15:throw new Error("Submission failed");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),console.error("Error submitting review:",e.t0),h("Failed to submit review. Please try again.");case 22:return e.prev=22,E(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[5,18,22,25]])})));return function(t){return e.apply(this,arguments)}}();return i.createElement("div",{className:"mt-6 p-4 bg-gray-800 bg-opacity-50 rounded-lg shadow-md"},i.createElement("h3",{className:"text-xl font-semibold text-white mb-4"},"User Reviews"),n&&i.createElement("form",{onSubmit:S,className:"mb-6 p-4 border border-gray-700 rounded-md"},i.createElement("h4",{className:"text-lg font-medium text-gray-200 mb-3"},"Add Your Review"),d&&i.createElement("p",{className:"text-red-400 text-sm mb-3"},d),i.createElement("div",{className:"mb-3"},i.createElement("label",{className:"block text-sm font-medium text-gray-300 mb-1"},"Rating"),i.createElement("div",{className:"flex space-x-1"},[1,2,3,4,5].map((function(e){return i.createElement("button",{key:e,type:"button",onClick:function(){g(e)},className:"text-2xl ".concat(m>=e?"text-yellow-400":"text-gray-500"," hover:text-yellow-300 transition-colors"),"aria-label":"Rate ".concat(e," out of 5 stars")},"")})))),i.createElement("div",{className:"mb-3"},i.createElement("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-300 mb-1"},"Comment"),i.createElement("textarea",{id:"comment",value:v,onChange:function(e){b(e.target.value)},rows:"3",className:"w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Share your thoughts...",required:!0})),i.createElement("button",{type:"submit",disabled:x||!m||!v.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},x?"Submitting...":"Submit Review")),!n&&i.createElement("p",{className:"text-gray-400 text-sm mb-4"},"Please ",i.createElement("a",{href:"/signin",className:"text-indigo-400 hover:underline"},"sign in")," to add a review."),c&&i.createElement("div",{className:"space-y-4 animate-pulse"},ju(Array(2)).map((function(e,t){return i.createElement("div",{key:t,className:"p-3 bg-gray-700 bg-opacity-50 rounded-md border border-gray-600"},i.createElement("div",{className:"flex items-center justify-between mb-2"},i.createElement("div",{className:"h-4 bg-gray-600 rounded w-1/4"})," ",i.createElement("div",{className:"h-3 bg-gray-600 rounded w-1/6"})," "),i.createElement("div",{className:"flex items-center mb-3"},i.createElement("div",{className:"h-5 bg-gray-600 rounded w-1/3"})," "),i.createElement("div",{className:"space-y-2"},i.createElement("div",{className:"h-3 bg-gray-600 rounded w-full"})," ",i.createElement("div",{className:"h-3 bg-gray-600 rounded w-5/6"})," "))}))),!c&&0===a.length&&i.createElement("div",{className:"text-center py-6 px-4 bg-gray-700/30 rounded-lg border border-dashed border-gray-600"},i.createElement("svg",{className:"mx-auto h-10 w-10 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},i.createElement("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 18.657A8 8 0 016.343 7.343m11.314 11.314a8 8 0 00-11.314-11.314m11.314 11.314L6.343 7.343m11.314 11.314V12m-4.657 6.657H12"})," "),i.createElement("h4",{className:"mt-2 text-sm font-medium text-gray-300"},"No reviews yet"),i.createElement("p",{className:"mt-1 text-sm text-gray-400"},n?"Be the first to share your thoughts!":"Sign in to add the first review."),n&&i.createElement("button",{onClick:function(){var e;return null===(e=document.getElementById("comment"))||void 0===e?void 0:e.focus()},className:"mt-4 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-indigo-500"},"Add Review")),!c&&a.length>0&&i.createElement("ul",{className:"space-y-5"}," ",a.map((function(e){return i.createElement("li",{key:e.id,className:"p-4 bg-gradient-to-br from-gray-700/60 to-gray-800/40 rounded-lg border border-gray-600/80 shadow-sm transition-shadow duration-200 hover:shadow-md"},i.createElement("div",{className:"flex items-center justify-between mb-2"}," ",i.createElement("span",{className:"font-semibold text-indigo-300 text-sm"},e.author)," ",i.createElement("span",{className:"text-xs text-gray-500"},new Date(e.createdAt).toLocaleDateString())," "),i.createElement("div",{className:"flex items-center mb-2.5"}," ",[1,2,3,4,5].map((function(t){return i.createElement("span",{key:t,className:"text-xl ".concat(e.rating>=t?"text-yellow-400":"text-gray-600")},"")}))),i.createElement("p",{className:"text-gray-300 text-sm leading-relaxed"},e.comment)," ")}))))};function Ku(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Zu=function(e){var t,n,r=e.item,o=e.isOpen,a=e.onClose,s=e.currentUser,l=(t=(0,i.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ku(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ku(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],u=l[1],f=(0,i.useCallback)((function(e){u(e)}),[]);if((0,i.useEffect)((function(){o&&r||u(!1)}),[o,r]),!r)return null;var d=r.id,h=r.title,p=r.name,m=r.poster_path,g=r.backdrop_path,y=r.overview,v=r.vote_average,b=r.release_date,w=r.first_air_date,x=r.media_type,E=h||p||"Untitled",S=function(e){if(!e)return"N/A";var t=new Date(e);return isNaN(t.getFullYear())?"N/A":t.getFullYear().toString()}(b||w),k=v?Math.round(10*v)/10:"N/A",C=m?"https://image.tmdb.org/t/p/w500".concat(m):"/placeholder.png",P=g?"https://image.tmdb.org/t/p/w1280".concat(g):null,A=null==d?void 0:d.toString();return i.createElement(_i,null,o&&i.createElement(mi.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4",onMouseDown:a},i.createElement(mi.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:30,duration:.3},className:"bg-gray-900 rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col overflow-hidden relative border border-gray-700",onMouseDown:function(e){return e.stopPropagation()}},i.createElement("div",{className:"relative h-48 sm:h-64 flex-shrink-0"},P?i.createElement("img",{src:P,alt:"",className:"absolute inset-0 w-full h-full object-cover opacity-30"}):i.createElement("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-800 to-gray-700 opacity-50"}),i.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"}),i.createElement("button",{onClick:a,className:"absolute top-3 right-3 z-10 p-1.5 rounded-full bg-black/50 text-gray-300 hover:bg-black/70 hover:text-white transition-colors","aria-label":"Close details"},i.createElement(rc,{className:"h-6 w-6"}))),i.createElement("div",{className:"flex-grow overflow-y-auto custom-scrollbar p-4 sm:p-6 pt-0 -mt-20 sm:-mt-24 relative z-10"},i.createElement("div",{className:"flex flex-col sm:flex-row sm:items-end gap-4 sm:gap-6 mb-6"},i.createElement("div",{className:"flex-shrink-0 w-32 sm:w-40 h-auto rounded-lg overflow-hidden shadow-lg border-2 border-gray-700"},i.createElement("img",{src:C,alt:"Poster for ".concat(E),className:"w-full h-full object-cover"})),i.createElement("div",{className:"flex-grow min-w-0"},i.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-1 sm:mb-2 line-clamp-2",title:E},E),i.createElement("div",{className:"flex items-center space-x-4 text-gray-400 text-sm"},i.createElement("span",{className:"flex items-center"},i.createElement(Lu.A,{className:"w-4 h-4 text-yellow-400 mr-1"})," ",k),i.createElement("span",{className:"flex items-center"},i.createElement(Hl.A,{className:"w-4 h-4 mr-1"})," ",S),i.createElement("span",{className:"capitalize bg-gray-700 px-2 py-0.5 rounded text-xs text-gray-300"},x||"N/A")))),y&&i.createElement("div",{className:"mb-6"},i.createElement("h3",{className:"text-lg font-semibold text-white mb-2"},"Overview"),i.createElement("p",{className:"text-gray-300 text-sm leading-relaxed"},y)),o&&c&&i.createElement("div",{className:"my-6"}," ",i.createElement(Nu,{className:"w-full rounded-lg overflow-hidden"})),A&&i.createElement($u,{mediaId:A,currentUser:s,onReviewsLoaded:f})))))};function Ju({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Qu=i.forwardRef(Ju);function Xu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ef=[{slug:"highest-grossing-movies",title:"Box Office Kings: Unveiling the Highest-Grossing Movies Ever Made",date:"May 6, 2025",excerpt:"Dive into the list of the highest-grossing films of all time, exploring the magic behind their monumental success...",readTime:"5 min read",category:"Analysis"},{slug:"top-5-sci-fi-movies-last-decade",title:"Top 5 Sci-Fi Movies of the Last Decade (2015-2024)",date:"May 6, 2025",excerpt:"Explore the best science fiction films from 2015-2024, featuring mind-bending concepts and stunning visuals.",readTime:"6 min read",category:"Top Lists"},{slug:"animated-movies-for-adults",title:"Beyond Cartoons: Animated Movies That Adults Will Love",date:"May 6, 2025",excerpt:"Discover animated films with complex themes and sophisticated storytelling that captivate adult audiences.",readTime:"7 min read",category:"Recommendations"},{slug:"hidden-gem-tv-shows",title:"Binge-Worthy Finds: Hidden Gem TV Shows You Might Have Missed",date:"May 6, 2025",excerpt:"Explore brilliant but underrated TV series that slipped under the radar, offering fresh and unique viewing experiences.",readTime:"8 min read",category:"Recommendations"}];const tf=function(){var e,t,n=(e=(0,i.useState)(null),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],o=n[1],a={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return i.createElement(mi.P.div,{className:"min-h-screen py-12 px-4 relative z-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},i.createElement("div",{className:"max-w-4xl mx-auto"},i.createElement(mi.P.div,{className:"text-center mb-12",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5}},i.createElement("div",{className:"inline-flex items-center justify-center p-2 rounded-full bg-indigo-900/30 mb-4"},i.createElement(Ri,{className:"h-6 w-6 text-indigo-400"})),i.createElement("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-3"},"MovieRec Blog"),i.createElement("p",{className:"text-gray-400 max-w-2xl mx-auto"},"Discover insights about our platform, upcoming features, and movie recommendation tips")),ef.length>0?i.createElement(mi.P.div,{className:"grid gap-6 md:gap-8 md:grid-cols-2",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible"},ef.map((function(e){return i.createElement(mi.P.div,{key:e.slug,variants:a,onMouseEnter:function(){return o(e.slug)},onMouseLeave:function(){return o(null)}},i.createElement(vt,{to:"/blog/".concat(e.slug),className:"block h-full"},"                  ",i.createElement(mi.P.div,{className:"bg-gray-800/70 backdrop-blur-md rounded-xl border border-gray-700/50 h-full overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{y:-5,borderColor:"rgba(129, 140, 248, 0.5)"}},i.createElement("div",{className:"p-6"},i.createElement("div",{className:"flex items-center justify-between mb-2"},i.createElement("span",{className:"px-3 py-1 text-xs font-medium bg-indigo-900/50 text-indigo-300 rounded-full"},e.category),i.createElement("div",{className:"flex items-center text-gray-400 text-xs"},i.createElement(Nl,{className:"h-3.5 w-3.5 mr-1"}),i.createElement("span",null,e.date))),i.createElement("h2",{className:"text-xl md:text-2xl font-bold text-indigo-300 mb-3 line-clamp-2"},e.title),i.createElement("p",{className:"text-gray-300 mb-4 line-clamp-3"},e.excerpt),i.createElement("div",{className:"flex items-center justify-between mt-auto"},i.createElement("span",{className:"text-xs text-gray-400"},e.readTime),i.createElement("span",{className:"inline-flex items-center text-sm text-indigo-400 font-medium group"},"Read more",i.createElement(mi.P.span,{animate:{x:r===e.slug?4:0},transition:{duration:.2}},i.createElement(Qu,{className:"h-4 w-4 ml-1.5"}))))))))}))):i.createElement(mi.P.div,{className:"bg-gray-800/70 backdrop-blur-md rounded-xl border border-gray-700/50 p-8 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3}},i.createElement("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-indigo-900/30 text-indigo-400"},i.createElement(Ri,{className:"h-8 w-8"})),i.createElement("h3",{className:"text-xl font-semibold text-white mb-2"},"Coming Soon"),i.createElement("p",{className:"text-gray-400"},"No blog posts yet, but we're working on some exciting content!"))))},nf=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rf=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,of={};function af(e,t){return((t||of).jsx?rf:nf).test(e)}const sf=/[ \t\n\f\r]/g;function lf(e){return""===e.replace(sf,"")}class cf{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function uf(e,t){const n={},r={};for(const t of e)Object.assign(n,t.property),Object.assign(r,t.normal);return new cf(n,r,t)}function ff(e){return e.toLowerCase()}cf.prototype.normal={},cf.prototype.property={},cf.prototype.space=void 0;class df{constructor(e,t){this.attribute=t,this.property=e}}df.prototype.attribute="",df.prototype.booleanish=!1,df.prototype.boolean=!1,df.prototype.commaOrSpaceSeparated=!1,df.prototype.commaSeparated=!1,df.prototype.defined=!1,df.prototype.mustUseProperty=!1,df.prototype.number=!1,df.prototype.overloadedBoolean=!1,df.prototype.property="",df.prototype.spaceSeparated=!1,df.prototype.space=void 0;let hf=0;const pf=xf(),mf=xf(),gf=xf(),yf=xf(),vf=xf(),bf=xf(),wf=xf();function xf(){return 2**++hf}const Ef=Object.keys(e);class Sf extends df{constructor(t,n,r,o){let i=-1;if(super(t,n),kf(this,"space",o),"number"==typeof r)for(;++i<Ef.length;){const t=Ef[i];kf(this,Ef[i],(r&e[t])===e[t])}}}function kf(e,t,n){n&&(e[t]=n)}function Cf(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const i=new Sf(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[ff(r)]=r,n[ff(i.attribute)]=r}return new cf(t,n,e.space)}Sf.prototype.defined=!0;const Pf=Cf({properties:{ariaActiveDescendant:null,ariaAtomic:mf,ariaAutoComplete:null,ariaBusy:mf,ariaChecked:mf,ariaColCount:yf,ariaColIndex:yf,ariaColSpan:yf,ariaControls:vf,ariaCurrent:null,ariaDescribedBy:vf,ariaDetails:null,ariaDisabled:mf,ariaDropEffect:vf,ariaErrorMessage:null,ariaExpanded:mf,ariaFlowTo:vf,ariaGrabbed:mf,ariaHasPopup:null,ariaHidden:mf,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:vf,ariaLevel:yf,ariaLive:null,ariaModal:mf,ariaMultiLine:mf,ariaMultiSelectable:mf,ariaOrientation:null,ariaOwns:vf,ariaPlaceholder:null,ariaPosInSet:yf,ariaPressed:mf,ariaReadOnly:mf,ariaRelevant:null,ariaRequired:mf,ariaRoleDescription:vf,ariaRowCount:yf,ariaRowIndex:yf,ariaRowSpan:yf,ariaSelected:mf,ariaSetSize:yf,ariaSort:null,ariaValueMax:yf,ariaValueMin:yf,ariaValueNow:yf,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function Af(e,t){return t in e?e[t]:t}function Tf(e,t){return Af(e,t.toLowerCase())}const _f=Cf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bf,acceptCharset:vf,accessKey:vf,action:null,allow:null,allowFullScreen:pf,allowPaymentRequest:pf,allowUserMedia:pf,alt:null,as:null,async:pf,autoCapitalize:null,autoComplete:vf,autoFocus:pf,autoPlay:pf,blocking:vf,capture:null,charSet:null,checked:pf,cite:null,className:vf,cols:yf,colSpan:null,content:null,contentEditable:mf,controls:pf,controlsList:vf,coords:yf|bf,crossOrigin:null,data:null,dateTime:null,decoding:null,default:pf,defer:pf,dir:null,dirName:null,disabled:pf,download:gf,draggable:mf,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:pf,formTarget:null,headers:vf,height:yf,hidden:pf,high:yf,href:null,hrefLang:null,htmlFor:vf,httpEquiv:vf,id:null,imageSizes:null,imageSrcSet:null,inert:pf,inputMode:null,integrity:null,is:null,isMap:pf,itemId:null,itemProp:vf,itemRef:vf,itemScope:pf,itemType:vf,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:pf,low:yf,manifest:null,max:null,maxLength:yf,media:null,method:null,min:null,minLength:yf,multiple:pf,muted:pf,name:null,nonce:null,noModule:pf,noValidate:pf,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:pf,optimum:yf,pattern:null,ping:vf,placeholder:null,playsInline:pf,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:pf,referrerPolicy:null,rel:vf,required:pf,reversed:pf,rows:yf,rowSpan:yf,sandbox:vf,scope:null,scoped:pf,seamless:pf,selected:pf,shadowRootClonable:pf,shadowRootDelegatesFocus:pf,shadowRootMode:null,shape:null,size:yf,sizes:null,slot:null,span:yf,spellCheck:mf,src:null,srcDoc:null,srcLang:null,srcSet:null,start:yf,step:null,style:null,tabIndex:yf,target:null,title:null,translate:null,type:null,typeMustMatch:pf,useMap:null,value:mf,width:yf,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:vf,axis:null,background:null,bgColor:null,border:yf,borderColor:null,bottomMargin:yf,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:pf,declare:pf,event:null,face:null,frame:null,frameBorder:null,hSpace:yf,leftMargin:yf,link:null,longDesc:null,lowSrc:null,marginHeight:yf,marginWidth:yf,noResize:pf,noHref:pf,noShade:pf,noWrap:pf,object:null,profile:null,prompt:null,rev:null,rightMargin:yf,rules:null,scheme:null,scrolling:mf,standby:null,summary:null,text:null,topMargin:yf,valueType:null,version:null,vAlign:null,vLink:null,vSpace:yf,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:pf,disableRemotePlayback:pf,prefix:null,property:null,results:yf,security:null,unselectable:null},space:"html",transform:Tf}),Nf=Cf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:wf,accentHeight:yf,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:yf,amplitude:yf,arabicForm:null,ascent:yf,attributeName:null,attributeType:null,azimuth:yf,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:yf,by:null,calcMode:null,capHeight:yf,className:vf,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:yf,diffuseConstant:yf,direction:null,display:null,dur:null,divisor:yf,dominantBaseline:null,download:pf,dx:null,dy:null,edgeMode:null,editable:null,elevation:yf,enableBackground:null,end:null,event:null,exponent:yf,externalResourcesRequired:null,fill:null,fillOpacity:yf,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bf,g2:bf,glyphName:bf,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:yf,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:yf,horizOriginX:yf,horizOriginY:yf,id:null,ideographic:yf,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:yf,k:yf,k1:yf,k2:yf,k3:yf,k4:yf,kernelMatrix:wf,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:yf,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:yf,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:yf,overlineThickness:yf,paintOrder:null,panose1:null,path:null,pathLength:yf,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:vf,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:yf,pointsAtY:yf,pointsAtZ:yf,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:wf,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:wf,rev:wf,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:wf,requiredFeatures:wf,requiredFonts:wf,requiredFormats:wf,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:yf,specularExponent:yf,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:yf,strikethroughThickness:yf,string:null,stroke:null,strokeDashArray:wf,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:yf,strokeOpacity:yf,strokeWidth:null,style:null,surfaceScale:yf,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:wf,tabIndex:yf,tableValues:null,target:null,targetX:yf,targetY:yf,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:wf,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:yf,underlineThickness:yf,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:yf,values:null,vAlphabetic:yf,vMathematical:yf,vectorEffect:null,vHanging:yf,vIdeographic:yf,version:null,vertAdvY:yf,vertOriginX:yf,vertOriginY:yf,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:yf,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Af}),Of=Cf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),If=Cf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Tf}),Rf=Cf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),Lf=uf([Pf,_f,Of,If,Rf],"html"),Mf=uf([Pf,Nf,Of,If,Rf],"svg"),jf=/[A-Z]/g,Df=/-[a-z]/g,Uf=/^data[-\w.:]+$/i;function Ff(e){return"-"+e.toLowerCase()}function Bf(e){return e.charAt(1).toUpperCase()}const zf={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var Vf=o(5229);const Hf=Wf("end"),qf=Wf("start");function Wf(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function Gf(e){const t=qf(e),n=Hf(e);if(t&&n)return{start:t,end:n}}function Yf(e){return e&&"object"==typeof e?"position"in e||"type"in e?Kf(e.position):"start"in e||"end"in e?Kf(e):"line"in e||"column"in e?$f(e):"":""}function $f(e){return Zf(e&&e.line)+":"+Zf(e&&e.column)}function Kf(e){return $f(e&&e.start)+"-"+$f(e&&e.end)}function Zf(e){return e&&"number"==typeof e?e:1}class Jf extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let r="",o={},i=!1;if(t&&(o="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?r=e:!o.cause&&e&&(i=!0,r=e.message,o.cause=e),!o.ruleId&&!o.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?o.ruleId=n:(o.source=n.slice(0,e),o.ruleId=n.slice(e+1))}if(!o.place&&o.ancestors&&o.ancestors){const e=o.ancestors[o.ancestors.length-1];e&&(o.place=e.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=a?a.line:void 0,this.name=Yf(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=i&&o.cause&&"string"==typeof o.cause.stack?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Jf.prototype.file="",Jf.prototype.name="",Jf.prototype.reason="",Jf.prototype.message="",Jf.prototype.stack="",Jf.prototype.column=void 0,Jf.prototype.line=void 0,Jf.prototype.ancestors=void 0,Jf.prototype.cause=void 0,Jf.prototype.fatal=void 0,Jf.prototype.place=void 0,Jf.prototype.ruleId=void 0,Jf.prototype.source=void 0;const Qf={}.hasOwnProperty,Xf=new Map,ed=/[A-Z]/g,td=new Set(["table","tbody","thead","tfoot","tr"]),nd=new Set(["td","th"]),rd="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function od(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let o=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(o=Mf,e.schema=o),e.ancestors.push(t);const i=cd(e,t.tagName,!1),a=function(e,t){const n={};let r,o;for(o in t.properties)if("children"!==o&&Qf.call(t.properties,o)){const i=ld(e,o,t.properties[o]);if(i){const[o,a]=i;e.tableCellAlignToStyle&&"align"===o&&"string"==typeof a&&nd.has(t.tagName)?r=a:n[o]=a}}return r&&((n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r),n}(e,t);let s=sd(e,t);return td.has(t.tagName)&&(s=s.filter((function(e){return"string"!=typeof e||!("object"==typeof(t=e)?"text"===t.type&&lf(t.value):lf(t));var t}))),id(e,a,i,t),ad(a,s),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}ud(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let o=r;"svg"===t.name&&"html"===r.space&&(o=Mf,e.schema=o),e.ancestors.push(t);const i=null===t.name?e.Fragment:cd(e,t.name,!0),a=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];t.type;const o=t.expression;o.type;const i=o.properties[0];i.type,Object.assign(n,e.evaluater.evaluateExpression(i.argument))}else ud(e,t.position);else{const o=r.name;let i;if(r.value&&"object"==typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];t.type,i=e.evaluater.evaluateExpression(t.expression)}else ud(e,t.position);else i=null===r.value||r.value;n[o]=i}return n}(e,t),s=sd(e,t);return id(e,a,i,t),ad(a,s),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ud(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return ad(r,sd(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function id(e,t,n,r){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function ad(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function sd(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:Xf;for(;++r<t.children.length;){const i=t.children[r];let a;if(e.passKeys){const e="element"===i.type?i.tagName:"mdxJsxFlowElement"===i.type||"mdxJsxTextElement"===i.type?i.name:void 0;if(e){const t=o.get(e)||0;a=e+"-"+t,o.set(e,t+1)}}const s=od(e,i,a);void 0!==s&&n.push(s)}return n}function ld(e,t,n){const r=function(e,t){const n=ff(t);let r=t,o=df;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&Uf.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(Df,Bf);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!Df.test(e)){let n=e.replace(jf,Ff);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}o=Sf}return new o(r,t)}(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e){const t={};return(""===e[e.length-1]?[...e,""]:e).join((t.padRight?" ":"")+","+(!1===t.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"==typeof n?n:function(e,t){try{return Vf(t,{reactCompat:!0})}catch(t){if(e.ignoreInvalidStyle)return{};const n=t,r=new Jf("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=rd+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)Qf.call(e,n)&&(t[fd(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?zf[r.property]||r.property:r.attribute,n]}}function cd(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,o=-1;for(;++o<e.length;){const t=af(e[o])?{type:"Identifier",name:e[o]}:{type:"Literal",value:e[o]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(o&&"Literal"===t.type),optional:!1}:t}r=n}else r=af(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return Qf.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);ud(e)}function ud(e,t){const n=new Jf("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=rd+"#cannot-handle-mdx-estrees-without-createevaluater",n}function fd(e){let t=e.replace(ed,dd);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function dd(e){return"-"+e.toLowerCase()}const hd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},pd={};function md(e,t){const n=t||pd;return gd(e,"boolean"!=typeof n.includeImageAlt||n.includeImageAlt,"boolean"!=typeof n.includeHtml||n.includeHtml)}function gd(e,t,n){if(function(e){return Boolean(e&&"object"==typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return yd(e.children,t,n)}return Array.isArray(e)?yd(e,t,n):""}function yd(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=gd(e[o],t,n);return r.join("")}function vd(e,t,n,r){const o=e.length;let i,a=0;if(t=t<0?-t>o?0:o+t:t>o?o:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);a<r.length;)i=r.slice(a,a+1e4),i.unshift(t,0),e.splice(...i),a+=1e4,t+=1e4}function bd(e,t){return e.length>0?(vd(e,e.length,0,t),e):t}class wd{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null==t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&xd(this.left,n),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),xd(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),xd(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);xd(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);xd(this.left,t.reverse())}}}function xd(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Ed(e){const t={};let n,r,o,i,a,s,l,c=-1;const u=new wd(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===u.get(c-1)[1].type&&(s=n[1]._tokenizer.events,o=0,o<s.length&&"lineEndingBlank"===s[o][1].type&&(o+=2),o<s.length&&"content"===s[o][1].type))for(;++o<s.length&&"content"!==s[o][1].type;)"chunkText"===s[o][1].type&&(s[o][1]._isInFirstContentOfListItem=!0,o++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,Sd(u,c)),c=t[c],l=!0);else if(n[1]._container){for(o=c,r=void 0;o--;)if(i=u.get(o),"lineEnding"===i[1].type||"lineEndingBlank"===i[1].type)"enter"===i[0]&&(r&&(u.get(r)[1].type="lineEndingBlank"),i[1].type="lineEnding",r=o);else if("linePrefix"!==i[1].type&&"listItemIndent"!==i[1].type)break;r&&(n[1].end={...u.get(r)[1].start},a=u.slice(r,c),a.unshift(n),u.splice(r,c-r+1,a))}}return vd(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function Sd(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const i=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],c={};let u,f,d=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;e.get(++o)[1]!==h;);i.push(o),h._tokenizer||(u=r.sliceStream(h),h.next||u.push(null),f&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<s.length;)"exit"===s[d][0]&&"enter"===s[d-1][0]&&s[d][1].type===s[d-1][1].type&&s[d][1].start.line!==s[d][1].end.line&&(m=d+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),d=g.length;d--;){const t=s.slice(g[d],g[d+1]),n=i.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),d=-1;++d<l.length;)c[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return c}const kd={}.hasOwnProperty;function Cd(e){const t={};let n=-1;for(;++n<e.length;)Pd(t,e[n]);return t}function Pd(e,t){let n;for(n in t){const r=(kd.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let i;if(o)for(i in o){kd.call(r,i)||(r[i]=[]);const e=o[i];Ad(r[i],Array.isArray(e)?e:e?[e]:[])}}}function Ad(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);vd(e,0,0,r)}const Td=Bd(/[A-Za-z]/),_d=Bd(/[\dA-Za-z]/),Nd=Bd(/[#-'*+\--9=?A-Z^-~]/);function Od(e){return null!==e&&(e<32||127===e)}const Id=Bd(/\d/),Rd=Bd(/[\dA-Fa-f]/),Ld=Bd(/[!-/:-@[-`{-~]/);function Md(e){return null!==e&&e<-2}function jd(e){return null!==e&&(e<0||32===e)}function Dd(e){return-2===e||-1===e||32===e}const Ud=Bd(/\p{P}|\p{S}/u),Fd=Bd(/\s/);function Bd(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function zd(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return function(r){return Dd(r)?(e.enter(n),a(r)):t(r)};function a(r){return Dd(r)&&i++<o?(e.consume(r),a):(e.exit(n),t(r))}}const Vd={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null!==n)return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),zd(e,t,"linePrefix");e.consume(n)}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,o(t)}function o(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):Md(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),o)}}},Hd={tokenize:function(e){const t=this,n=[];let r,o,i,a=0;return s;function s(r){if(a<n.length){const o=n[a];return t.containerState=o[1],e.attempt(o[0].continuation,l,c)(r)}return c(r)}function l(e){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&v();const n=t.events.length;let o,i=n;for(;i--;)if("exit"===t.events[i][0]&&"chunkFlow"===t.events[i][1].type){o=t.events[i][1].end;break}y(a);let s=n;for(;s<t.events.length;)t.events[s][1].end={...o},s++;return vd(t.events,i+1,0,t.events.slice(n)),t.events.length=s,c(e)}return s(e)}function c(o){if(a===n.length){if(!r)return d(o);if(r.currentConstruct&&r.currentConstruct.concrete)return p(o);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(qd,u,f)(o)}function u(e){return r&&v(),y(a),d(e)}function f(e){return t.parser.lazy[t.now().line]=a!==n.length,i=t.now().offset,p(e)}function d(n){return t.containerState={},e.attempt(qd,h,p)(n)}function h(e){return a++,n.push([t.currentConstruct,t.containerState]),d(e)}function p(n){return null===n?(r&&v(),y(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:o}),m(n))}function m(n){return null===n?(g(e.exit("chunkFlow"),!0),y(0),void e.consume(n)):Md(n)?(e.consume(n),g(e.exit("chunkFlow")),a=0,t.interrupt=void 0,s):(e.consume(n),m)}function g(e,n){const s=t.sliceStream(e);if(n&&s.push(null),e.previous=o,o&&(o.next=e),o=e,r.defineSkip(e.start),r.write(s),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<i&&(!r.events[e][1].end||r.events[e][1].end.offset>i))return;const n=t.events.length;let o,s,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(o){s=t.events[l][1].end;break}o=!0}for(y(a),e=n;e<t.events.length;)t.events[e][1].end={...s},e++;vd(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function y(r){let o=n.length;for(;o-- >r;){const r=n[o];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function v(){r.write([null]),o=void 0,r=void 0,t.containerState._closeFlow=void 0}}},qd={tokenize:function(e,t,n){return zd(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},Wd={partial:!0,tokenize:function(e,t,n){return function(t){return Dd(t)?zd(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||Md(e)?t(e):n(e)}}},Gd={resolve:function(e){return Ed(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?o(t):Md(t)?e.check(Yd,i,o)(t):(e.consume(t),r)}function o(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function i(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},Yd={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),zd(e,o,"linePrefix")};function o(o){if(null===o||Md(o))return n(o);const i=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}},$d={tokenize:function(e){const t=this,n=e.attempt(Wd,(function(r){if(null!==r)return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n;e.consume(r)}),e.attempt(this.parser.constructs.flowInitial,r,zd(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Gd,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}},Kd={resolveAll:Xd()},Zd=Qd("string"),Jd=Qd("text");function Qd(e){return{resolveAll:Xd("text"===e?eh:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],o=t.attempt(r,i,a);return i;function i(e){return l(e)?o(e):a(e)}function a(e){if(null!==e)return t.enter("data"),t.consume(e),s;t.consume(e)}function s(e){return l(e)?(t.exit("data"),o(e)):(t.consume(e),s)}function l(e){if(null===e)return!0;const t=r[e];let o=-1;if(t)for(;++o<t.length;){const e=t[o];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function Xd(e){return function(t,n){let r,o=-1;for(;++o<=t.length;)void 0===r?t[o]&&"data"===t[o][1].type&&(r=o,o++):t[o]&&"data"===t[o][1].type||(o!==r+2&&(t[r][1].end=t[o-1][1].end,t.splice(r+2,o-r-2),o=r+2),r=void 0);return e?e(t,n):t}}function eh(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],o=t.sliceStream(r);let i,a=o.length,s=-1,l=0;for(;a--;){const e=o[a];if("string"==typeof e){for(s=e.length;32===e.charCodeAt(s-1);)l++,s--;if(s)break;s=-1}else if(-2===e)i=!0,l++;else if(-1!==e){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const o={type:n===e.length||i||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...o.start},r.start.offset===r.end.offset?Object.assign(r,o):(e.splice(n,0,["enter",o,t],["exit",o,t]),n+=2)}n++}return e}const th={name:"thematicBreak",tokenize:function(e,t,n){let r,o=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,i(e)}(t)};function i(i){return i===r?(e.enter("thematicBreakSequence"),a(i)):o>=3&&(null===i||Md(i))?(e.exit("thematicBreak"),t(i)):n(i)}function a(t){return t===r?(e.consume(t),o++,a):(e.exit("thematicBreakSequence"),Dd(t)?zd(e,i,"whitespace")(t):i(t))}}},nh={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Wd,(function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,zd(e,t,"listItemIndent",r.containerState.size+1)(n)}),(function(n){return r.containerState.furtherBlankLines||!Dd(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(oh,t,o)(n))}));function o(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,zd(e,e.attempt(nh,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,o=r.events[r.events.length-1];let i=o&&"linePrefix"===o[1].type?o[2].sliceSerialize(o[1],!0).length:0,a=0;return function(t){const o=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===o?!r.containerState.marker||t===r.containerState.marker:Id(t)){if(r.containerState.type||(r.containerState.type=o,e.enter(o,{_container:!0})),"listUnordered"===o)return e.enter("listItemPrefix"),42===t||45===t?e.check(th,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(t)}return n(t)};function s(t){return Id(t)&&++a<10?(e.consume(t),s):(!r.interrupt||a<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(Wd,r.interrupt?n:c,e.attempt(rh,f,u))}function c(e){return r.containerState.initialBlankLine=!0,i++,f(e)}function u(t){return Dd(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),f):n(t)}function f(n){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},rh={partial:!0,tokenize:function(e,t,n){const r=this;return zd(e,(function(e){const o=r.events[r.events.length-1];return!Dd(e)&&o&&"listItemPrefixWhitespace"===o[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},oh={partial:!0,tokenize:function(e,t,n){const r=this;return zd(e,(function(e){const o=r.events[r.events.length-1];return o&&"listItemIndent"===o[1].type&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)}},ih={continuation:{tokenize:function(e,t,n){const r=this;return function(t){return Dd(t)?zd(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):o(t)};function o(r){return e.attempt(ih,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),o}return n(t)};function o(n){return Dd(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};function ah(e,t,n,r,o,i,a,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){return 60===t?(e.enter(r),e.enter(o),e.enter(i),e.consume(t),e.exit(i),f):null===t||32===t||41===t||Od(t)?n(t):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),p(t))};function f(n){return 62===n?(e.enter(i),e.consume(n),e.exit(i),e.exit(o),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),d(n))}function d(t){return 62===t?(e.exit("chunkString"),e.exit(s),f(t)):null===t||60===t||Md(t)?n(t):(e.consume(t),92===t?h:d)}function h(t){return 60===t||62===t||92===t?(e.consume(t),d):d(t)}function p(o){return u||null!==o&&41!==o&&!jd(o)?u<c&&40===o?(e.consume(o),u++,p):41===o?(e.consume(o),u--,p):null===o||32===o||40===o||Od(o)?n(o):(e.consume(o),92===o?m:p):(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(o))}function m(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function sh(e,t,n,r,o,i){const a=this;let s,l=0;return function(t){return e.enter(r),e.enter(o),e.consume(t),e.exit(o),e.enter(i),c};function c(f){return l>999||null===f||91===f||93===f&&!s||94===f&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(f):93===f?(e.exit(i),e.enter(o),e.consume(f),e.exit(o),e.exit(r),t):Md(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(f))}function u(t){return null===t||91===t||93===t||Md(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),s||(s=!Dd(t)),92===t?f:u)}function f(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function lh(e,t,n,r,o,i){let a;return function(t){return 34===t||39===t||40===t?(e.enter(r),e.enter(o),e.consume(t),e.exit(o),a=40===t?41:t,s):n(t)};function s(n){return n===a?(e.enter(o),e.consume(n),e.exit(o),e.exit(r),t):(e.enter(i),l(n))}function l(t){return t===a?(e.exit(i),s(a)):null===t?n(t):Md(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),zd(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===a||null===t||Md(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===a||92===t?(e.consume(t),c):c(t)}}function ch(e,t){let n;return function r(o){return Md(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):Dd(o)?zd(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}function uh(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const fh={name:"definition",tokenize:function(e,t,n){const r=this;let o;return function(t){return e.enter("definition"),function(t){return sh.call(r,e,i,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function i(t){return o=uh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),a):n(t)}function a(t){return jd(t)?ch(e,s)(t):s(t)}function s(t){return ah(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(dh,c,c)(t)}function c(t){return Dd(t)?zd(e,u,"whitespace")(t):u(t)}function u(i){return null===i||Md(i)?(e.exit("definition"),r.parser.defined.push(o),t(i)):n(i)}}},dh={partial:!0,tokenize:function(e,t,n){return function(t){return jd(t)?ch(e,r)(t):n(t)};function r(t){return lh(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function o(t){return Dd(t)?zd(e,i,"whitespace")(t):i(t)}function i(e){return null===e||Md(e)?t(e):n(e)}}},hh={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),zd(e,o,"linePrefix",5)(t)};function o(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?i(e):n(e)}function i(t){return null===t?s(t):Md(t)?e.attempt(ph,i,s)(t):(e.enter("codeFlowValue"),a(t))}function a(t){return null===t||Md(t)?(e.exit("codeFlowValue"),i(t)):(e.consume(t),a)}function s(n){return e.exit("codeIndented"),t(n)}}},ph={partial:!0,tokenize:function(e,t,n){const r=this;return o;function o(t){return r.parser.lazy[r.now().line]?n(t):Md(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):zd(e,i,"linePrefix",5)(t)}function i(e){const i=r.events[r.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(e):Md(e)?o(e):n(e)}}},mh={name:"headingAtx",resolve:function(e,t){let n,r,o=e.length-2,i=3;return"whitespace"===e[i][1].type&&(i+=2),o-2>i&&"whitespace"===e[o][1].type&&(o-=2),"atxHeadingSequence"===e[o][1].type&&(i===o-1||o-4>i&&"whitespace"===e[o-2][1].type)&&(o-=i+1===o?2:4),o>i&&(n={type:"atxHeadingText",start:e[i][1].start,end:e[o][1].end},r={type:"chunkText",start:e[i][1].start,end:e[o][1].end,contentType:"text"},vd(e,i,o-i+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]])),e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),o(t)}(t)};function o(t){return 35===t&&r++<6?(e.consume(t),o):null===t||jd(t)?(e.exit("atxHeadingSequence"),i(t)):n(t)}function i(n){return 35===n?(e.enter("atxHeadingSequence"),a(n)):null===n||Md(n)?(e.exit("atxHeading"),t(n)):Dd(n)?zd(e,i,"whitespace")(n):(e.enter("atxHeadingText"),s(n))}function a(t){return 35===t?(e.consume(t),a):(e.exit("atxHeadingSequence"),i(t))}function s(t){return null===t||35===t||jd(t)?(e.exit("atxHeadingText"),i(t)):(e.consume(t),s)}}},gh={name:"setextUnderline",resolveTo:function(e,t){let n,r,o,i=e.length;for(;i--;)if("enter"===e[i][0]){if("content"===e[i][1].type){n=i;break}"paragraph"===e[i][1].type&&(r=i)}else"content"===e[i][1].type&&e.splice(i,1),o||"definition"!==e[i][1].type||(o=i);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[r][1].type="setextHeadingText",o?(e.splice(r,0,["enter",a,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end={...e[o][1].end}):e[n][1]=a,e.push(["exit",a,t]),e},tokenize:function(e,t,n){const r=this;let o;return function(t){let a,s=r.events.length;for(;s--;)if("lineEnding"!==r.events[s][1].type&&"linePrefix"!==r.events[s][1].type&&"content"!==r.events[s][1].type){a="paragraph"===r.events[s][1].type;break}return r.parser.lazy[r.now().line]||!r.interrupt&&!a?n(t):(e.enter("setextHeadingLine"),o=t,function(t){return e.enter("setextHeadingLineSequence"),i(t)}(t))};function i(t){return t===o?(e.consume(t),i):(e.exit("setextHeadingLineSequence"),Dd(t)?zd(e,a,"lineSuffix")(t):a(t))}function a(r){return null===r||Md(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}},yh=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],vh=["pre","script","style","textarea"],bh={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););return t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},tokenize:function(e,t,n){const r=this;let o,i,a,s,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(s){return 33===s?(e.consume(s),u):47===s?(e.consume(s),i=!0,h):63===s?(e.consume(s),o=3,r.interrupt?t:L):Td(s)?(e.consume(s),a=String.fromCharCode(s),p):n(s)}function u(i){return 45===i?(e.consume(i),o=2,f):91===i?(e.consume(i),o=5,s=0,d):Td(i)?(e.consume(i),o=4,r.interrupt?t:L):n(i)}function f(o){return 45===o?(e.consume(o),r.interrupt?t:L):n(o)}function d(o){return o==="CDATA[".charCodeAt(s++)?(e.consume(o),6===s?r.interrupt?t:P:d):n(o)}function h(t){return Td(t)?(e.consume(t),a=String.fromCharCode(t),p):n(t)}function p(s){if(null===s||47===s||62===s||jd(s)){const l=47===s,c=a.toLowerCase();return l||i||!vh.includes(c)?yh.includes(a.toLowerCase())?(o=6,l?(e.consume(s),m):r.interrupt?t(s):P(s)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(s):i?g(s):y(s)):(o=1,r.interrupt?t(s):P(s))}return 45===s||_d(s)?(e.consume(s),a+=String.fromCharCode(s),p):n(s)}function m(o){return 62===o?(e.consume(o),r.interrupt?t:P):n(o)}function g(t){return Dd(t)?(e.consume(t),g):k(t)}function y(t){return 47===t?(e.consume(t),k):58===t||95===t||Td(t)?(e.consume(t),v):Dd(t)?(e.consume(t),y):k(t)}function v(t){return 45===t||46===t||58===t||95===t||_d(t)?(e.consume(t),v):b(t)}function b(t){return 61===t?(e.consume(t),w):Dd(t)?(e.consume(t),b):y(t)}function w(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,x):Dd(t)?(e.consume(t),w):E(t)}function x(t){return t===l?(e.consume(t),l=null,S):null===t||Md(t)?n(t):(e.consume(t),x)}function E(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||jd(t)?b(t):(e.consume(t),E)}function S(e){return 47===e||62===e||Dd(e)?y(e):n(e)}function k(t){return 62===t?(e.consume(t),C):n(t)}function C(t){return null===t||Md(t)?P(t):Dd(t)?(e.consume(t),C):n(t)}function P(t){return 45===t&&2===o?(e.consume(t),N):60===t&&1===o?(e.consume(t),O):62===t&&4===o?(e.consume(t),M):63===t&&3===o?(e.consume(t),L):93===t&&5===o?(e.consume(t),R):!Md(t)||6!==o&&7!==o?null===t||Md(t)?(e.exit("htmlFlowData"),A(t)):(e.consume(t),P):(e.exit("htmlFlowData"),e.check(wh,j,A)(t))}function A(t){return e.check(xh,T,j)(t)}function T(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),_}function _(t){return null===t||Md(t)?A(t):(e.enter("htmlFlowData"),P(t))}function N(t){return 45===t?(e.consume(t),L):P(t)}function O(t){return 47===t?(e.consume(t),a="",I):P(t)}function I(t){if(62===t){const n=a.toLowerCase();return vh.includes(n)?(e.consume(t),M):P(t)}return Td(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),I):P(t)}function R(t){return 93===t?(e.consume(t),L):P(t)}function L(t){return 62===t?(e.consume(t),M):45===t&&2===o?(e.consume(t),L):P(t)}function M(t){return null===t||Md(t)?(e.exit("htmlFlowData"),j(t)):(e.consume(t),M)}function j(n){return e.exit("htmlFlow"),t(n)}}},wh={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Wd,t,n)}}},xh={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return Md(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):n(t)};function o(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},Eh={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return null===t?n(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o)};function o(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},Sh={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,o={partial:!0,tokenize:function(e,t,n){let o=0;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a};function a(t){return e.enter("codeFencedFence"),Dd(t)?zd(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):l(t)}function l(t){return t===i?(e.enter("codeFencedFenceSequence"),c(t)):n(t)}function c(t){return t===i?(o++,e.consume(t),c):o>=s?(e.exit("codeFencedFenceSequence"),Dd(t)?zd(e,u,"whitespace")(t):u(t)):n(t)}function u(r){return null===r||Md(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let i,a=0,s=0;return function(t){return function(t){const n=r.events[r.events.length-1];return a=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,i=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===i?(s++,e.consume(t),l):s<3?n(t):(e.exit("codeFencedFenceSequence"),Dd(t)?zd(e,c,"whitespace")(t):c(t))}function c(n){return null===n||Md(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(Eh,h,v)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(n))}function u(t){return null===t||Md(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):Dd(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),zd(e,f,"whitespace")(t)):96===t&&t===i?n(t):(e.consume(t),u)}function f(t){return null===t||Md(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),d(t))}function d(t){return null===t||Md(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===i?n(t):(e.consume(t),d)}function h(t){return e.attempt(o,v,p)(t)}function p(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return a>0&&Dd(t)?zd(e,g,"linePrefix",a+1)(t):g(t)}function g(t){return null===t||Md(t)?e.check(Eh,h,v)(t):(e.enter("codeFlowValue"),y(t))}function y(t){return null===t||Md(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),y)}function v(n){return e.exit("codeFenced"),t(n)}}},kh=document.createElement("i");function Ch(e){const t="&"+e+";";kh.innerHTML=t;const n=kh.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&n!==t&&n}const Ph={name:"characterReference",tokenize:function(e,t,n){const r=this;let o,i,a=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),s};function s(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),o=31,i=_d,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,i=Rd,c):(e.enter("characterReferenceValue"),o=7,i=Id,c(t))}function c(s){if(59===s&&a){const o=e.exit("characterReferenceValue");return i!==_d||Ch(r.sliceSerialize(o))?(e.enter("characterReferenceMarker"),e.consume(s),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(s)}return i(s)&&a++<o?(e.consume(s),c):n(s)}}},Ah={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return Ld(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}},Th={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),zd(e,t,"linePrefix")}}};function _h(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const Nh={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}return e.length!==n.length&&vd(e,0,e.length,n),e},resolveTo:function(e,t){let n,r,o,i,a=e.length,s=0;for(;a--;)if(n=e[a][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(o){if("enter"===e[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=a,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(o=a);const l={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[r][1].start},end:{...e[o][1].end}},u={type:"labelText",start:{...e[r+s+2][1].end},end:{...e[o-2][1].start}};return i=[["enter",l,t],["enter",c,t]],i=bd(i,e.slice(r+1,r+s+3)),i=bd(i,[["enter",u,t]]),i=bd(i,_h(t.parser.constructs.insideSpan.null,e.slice(r+s+4,o-3),t)),i=bd(i,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),i=bd(i,e.slice(o+1)),i=bd(i,[["exit",l,t]]),vd(e,r,e.length,i),e},tokenize:function(e,t,n){const r=this;let o,i,a=r.events.length;for(;a--;)if(("labelImage"===r.events[a][1].type||"labelLink"===r.events[a][1].type)&&!r.events[a][1]._balanced){o=r.events[a][1];break}return function(t){return o?o._inactive?u(t):(i=r.parser.defined.includes(uh(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),s):n(t)};function s(t){return 40===t?e.attempt(Oh,c,i?c:u)(t):91===t?e.attempt(Ih,c,i?l:u)(t):i?c(t):u(t)}function l(t){return e.attempt(Rh,c,u)(t)}function c(e){return t(e)}function u(e){return o._balanced=!0,n(e)}}},Oh={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return jd(t)?ch(e,o)(t):o(t)}function o(t){return 41===t?c(t):ah(e,i,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function i(t){return jd(t)?ch(e,s)(t):c(t)}function a(e){return n(e)}function s(t){return 34===t||39===t||40===t?lh(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return jd(t)?ch(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},Ih={tokenize:function(e,t,n){const r=this;return function(t){return sh.call(r,e,o,i,"reference","referenceMarker","referenceString")(t)};function o(e){return r.parser.defined.includes(uh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function i(e){return n(e)}}},Rh={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}},Lh={name:"labelStartImage",resolveAll:Nh.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),o};function o(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),i):n(t)}function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};function Mh(e){return null===e||jd(e)||Fd(e)?1:Ud(e)?2:void 0}const jh={name:"attention",resolveAll:function(e,t){let n,r,o,i,a,s,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const f={...e[n][1].end},d={...e[u][1].start};Dh(f,-s),Dh(d,s),i={type:s>1?"strongSequence":"emphasisSequence",start:f,end:{...e[n][1].end}},a={type:s>1?"strongSequence":"emphasisSequence",start:{...e[u][1].start},end:d},o={type:s>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[u][1].start}},r={type:s>1?"strong":"emphasis",start:{...i.start},end:{...a.end}},e[n][1].end={...i.start},e[u][1].start={...a.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=bd(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=bd(l,[["enter",r,t],["enter",i,t],["exit",i,t],["enter",o,t]]),l=bd(l,_h(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=bd(l,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=bd(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,vd(e,n-1,u-n+3,l),u=n+l.length-c-2;break}for(u=-1;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Mh(r);let i;return function(t){return i=t,e.enter("attentionSequence"),a(t)};function a(s){if(s===i)return e.consume(s),a;const l=e.exit("attentionSequence"),c=Mh(s),u=!c||2===c&&o||n.includes(s),f=!o||2===o&&c||n.includes(r);return l._open=Boolean(42===i?u:u&&(o||!f)),l._close=Boolean(42===i?f:f&&(c||!u)),t(s)}}};function Dh(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Uh={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o};function o(t){return Td(t)?(e.consume(t),i):64===t?n(t):l(t)}function i(e){return 43===e||45===e||46===e||_d(e)?(r=1,a(e)):l(e)}function a(t){return 58===t?(e.consume(t),r=0,s):(43===t||45===t||46===t||_d(t))&&r++<32?(e.consume(t),a):(r=0,l(t))}function s(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||Od(r)?n(r):(e.consume(r),s)}function l(t){return 64===t?(e.consume(t),c):Nd(t)?(e.consume(t),l):n(t)}function c(e){return _d(e)?u(e):n(e)}function u(n){return 46===n?(e.consume(n),r=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):f(n)}function f(t){if((45===t||_d(t))&&r++<63){const n=45===t?f:u;return e.consume(t),n}return n(t)}}},Fh={name:"htmlText",tokenize:function(e,t,n){const r=this;let o,i,a;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),s};function s(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),w):63===t?(e.consume(t),v):Td(t)?(e.consume(t),S):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),i=0,h):Td(t)?(e.consume(t),y):n(t)}function c(t){return 45===t?(e.consume(t),d):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),f):Md(t)?(a=u,I(t)):(e.consume(t),u)}function f(t){return 45===t?(e.consume(t),d):u(t)}function d(e){return 62===e?O(e):45===e?f(e):u(e)}function h(t){return t==="CDATA[".charCodeAt(i++)?(e.consume(t),6===i?p:h):n(t)}function p(t){return null===t?n(t):93===t?(e.consume(t),m):Md(t)?(a=p,I(t)):(e.consume(t),p)}function m(t){return 93===t?(e.consume(t),g):p(t)}function g(t){return 62===t?O(t):93===t?(e.consume(t),g):p(t)}function y(t){return null===t||62===t?O(t):Md(t)?(a=y,I(t)):(e.consume(t),y)}function v(t){return null===t?n(t):63===t?(e.consume(t),b):Md(t)?(a=v,I(t)):(e.consume(t),v)}function b(e){return 62===e?O(e):v(e)}function w(t){return Td(t)?(e.consume(t),x):n(t)}function x(t){return 45===t||_d(t)?(e.consume(t),x):E(t)}function E(t){return Md(t)?(a=E,I(t)):Dd(t)?(e.consume(t),E):O(t)}function S(t){return 45===t||_d(t)?(e.consume(t),S):47===t||62===t||jd(t)?k(t):n(t)}function k(t){return 47===t?(e.consume(t),O):58===t||95===t||Td(t)?(e.consume(t),C):Md(t)?(a=k,I(t)):Dd(t)?(e.consume(t),k):O(t)}function C(t){return 45===t||46===t||58===t||95===t||_d(t)?(e.consume(t),C):P(t)}function P(t){return 61===t?(e.consume(t),A):Md(t)?(a=P,I(t)):Dd(t)?(e.consume(t),P):k(t)}function A(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),o=t,T):Md(t)?(a=A,I(t)):Dd(t)?(e.consume(t),A):(e.consume(t),_)}function T(t){return t===o?(e.consume(t),o=void 0,N):null===t?n(t):Md(t)?(a=T,I(t)):(e.consume(t),T)}function _(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||jd(t)?k(t):(e.consume(t),_)}function N(e){return 47===e||62===e||jd(e)?k(e):n(e)}function O(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function I(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),R}function R(t){return Dd(t)?zd(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):L(t)}function L(t){return e.enter("htmlTextData"),a(t)}}},Bh={name:"labelStartLink",resolveAll:Nh.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),o};function o(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}},zh={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return Md(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}},Vh={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,o=3;if(!("lineEnding"!==e[o][1].type&&"space"!==e[o][1].type||"lineEnding"!==e[r][1].type&&"space"!==e[r][1].type))for(t=o;++t<r;)if("codeTextData"===e[t][1].type){e[o][1].type="codeTextPadding",e[r][1].type="codeTextPadding",o+=2,r-=2;break}for(t=o-1,r++;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,o,i=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),a(t)};function a(t){return 96===t?(e.consume(t),i++,a):(e.exit("codeTextSequence"),s(t))}function s(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),s):96===t?(o=e.enter("codeTextSequence"),r=0,c(t)):Md(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||Md(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),r++,c):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(o.type="codeTextData",l(n))}}},Hh={42:nh,43:nh,45:nh,48:nh,49:nh,50:nh,51:nh,52:nh,53:nh,54:nh,55:nh,56:nh,57:nh,62:ih},qh={91:fh},Wh={[-2]:hh,[-1]:hh,32:hh},Gh={35:mh,42:th,45:[gh,th],60:bh,61:gh,95:th,96:Sh,126:Sh},Yh={38:Ph,92:Ah},$h={[-5]:Th,[-4]:Th,[-3]:Th,33:Lh,38:Ph,42:jh,60:[Uh,Fh],91:Bh,92:[zh,Ah],93:Nh,95:jh,96:Vh},Kh={null:[jh,Kd]},Zh={null:[42,95]},Jh={null:[]};function Qh(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},i=[];let a=[],s=[],l=!0;const c={attempt:y((function(e,t){v(e,t.from)})),check:y(g),consume:function(e){Md(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,b()):-1!==e&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=p(),u.events.push(["enter",n,u]),s.push(n),n},exit:function(e){const t=s.pop();return t.end=p(),u.events.push(["exit",t,u]),t},interrupt:y(g,{interrupt:!0})},u={code:null,containerState:{},defineSkip:function(e){o[e.line]=e.column,b()},events:[],now:p,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const i=e[n];let a;if("string"==typeof i)a=i;else switch(i){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=t?" ":"\t";break;case-1:if(!t&&o)continue;a=" ";break;default:a=String.fromCharCode(i)}o=-2===i,r.push(a)}return r.join("")}(h(e),t)},sliceStream:h,write:function(e){return a=bd(a,e),function(){let e;for(;r._index<a.length;){const t=a[r._index];if("string"==typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)m(t.charCodeAt(r._bufferIndex));else m(t)}}(),null!==a[a.length-1]?[]:(v(t,0),u.events=_h(i,u.events,u),u.events)}};let f,d=t.tokenize.call(u,c);return t.resolveAll&&i.push(t),u;function h(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,i=t.end._bufferIndex;let a;if(n===o)a=[e[n].slice(r,i)];else{if(a=e.slice(n,o),r>-1){const e=a[0];"string"==typeof e?a[0]=e.slice(r):a.shift()}i>0&&a.push(e[o].slice(0,i))}return a}(a,e)}function p(){const{_bufferIndex:e,_index:t,line:n,column:o,offset:i}=r;return{_bufferIndex:e,_index:t,line:n,column:o,offset:i}}function m(e){l=void 0,f=e,d=d(e)}function g(e,t){t.restore()}function y(e,t){return function(n,o,i){let a,f,d,h;return Array.isArray(n)?g(n):"tokenize"in n?g([n]):(m=n,function(e){const t=null!==e&&m[e],n=null!==e&&m.null;return g([...Array.isArray(t)?t:t?[t]:[],...Array.isArray(n)?n:n?[n]:[]])(e)});var m;function g(e){return a=e,f=0,0===e.length?i:y(e[f])}function y(e){return function(n){return h=function(){const e=p(),t=u.previous,n=u.currentConstruct,o=u.events.length,i=Array.from(s);return{from:o,restore:function(){r=e,u.previous=t,u.currentConstruct=n,u.events.length=o,s=i,b()}}}(),d=e,e.partial||(u.currentConstruct=e),e.name&&u.parser.constructs.disable.null.includes(e.name)?w():e.tokenize.call(t?Object.assign(Object.create(u),t):u,c,v,w)(n)}}function v(t){return l=!0,e(d,h),o}function w(e){return l=!0,h.restore(),++f<a.length?y(a[f]):i}}}function v(e,t){e.resolveAll&&!i.includes(e)&&i.push(e),e.resolve&&vd(u.events,t,u.events.length-t,e.resolve(u.events.slice(t),u)),e.resolveTo&&(u.events=e.resolveTo(u.events,u))}function b(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}const Xh=/[\0\t\n\r]/g;function ep(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"":String.fromCodePoint(n)}const tp=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function np(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return ep(n.slice(t?2:1),t?16:10)}return Ch(n)||e}const rp={}.hasOwnProperty;function op(e,n,r){return"string"!=typeof n&&(r=n,n=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(v),autolinkProtocol:u,autolinkEmail:u,atxHeading:o(m),blockQuote:o((function(){return{type:"blockquote",children:[]}})),characterEscape:u,characterReference:u,codeFenced:o(p),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:o(p,i),codeText:o((function(){return{type:"inlineCode",value:""}}),i),codeTextData:u,data:u,codeFlowValue:u,definition:o((function(){return{type:"definition",identifier:"",label:null,title:null,url:""}})),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:o((function(){return{type:"emphasis",children:[]}})),hardBreakEscape:o(g),hardBreakTrailing:o(g),htmlFlow:o(y,i),htmlFlowData:u,htmlText:o(y,i),htmlTextData:u,image:o((function(){return{type:"image",title:null,url:"",alt:null}})),label:i,link:o(v),listItem:o((function(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}})),listItemValue:function(e){this.data.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0)},listOrdered:o(b,(function(){this.data.expectingFirstListItemValue=!0})),listUnordered:o(b),paragraph:o((function(){return{type:"paragraph",children:[]}})),reference:function(){this.data.referenceType="collapsed"},referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:o(m),strong:o((function(){return{type:"strong",children:[]}})),thematicBreak:o((function(){return{type:"thematicBreak"}}))},exit:{atxHeading:s(),atxHeadingSequence:function(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}},autolink:s(),autolinkEmail:function(e){f.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)},autolinkProtocol:function(e){f.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)},blockQuote:s(),characterEscapeValue:f,characterReferenceMarkerHexadecimal:h,characterReferenceMarkerNumeric:h,characterReferenceValue:function(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;n?(r=ep(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0):r=Ch(t);this.stack[this.stack.length-1].value+=r},characterReference:function(e){this.stack.pop().position.end=ip(e.end)},codeFenced:s((function(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0})),codeFencedFence:function(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)},codeFencedFenceInfo:function(){const e=this.resume();this.stack[this.stack.length-1].lang=e},codeFencedFenceMeta:function(){const e=this.resume();this.stack[this.stack.length-1].meta=e},codeFlowValue:f,codeIndented:s((function(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")})),codeText:s((function(){const e=this.resume();this.stack[this.stack.length-1].value=e})),codeTextData:f,data:f,definition:s(),definitionDestinationString:function(){const e=this.resume();this.stack[this.stack.length-1].url=e},definitionLabelString:function(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=uh(this.sliceSerialize(e)).toLowerCase()},definitionTitleString:function(){const e=this.resume();this.stack[this.stack.length-1].title=e},emphasis:s(),hardBreakEscape:s(d),hardBreakTrailing:s(d),htmlFlow:s((function(){const e=this.resume();this.stack[this.stack.length-1].value=e})),htmlFlowData:f,htmlText:s((function(){const e=this.resume();this.stack[this.stack.length-1].value=e})),htmlTextData:f,image:s((function(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0})),label:function(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t},labelText:function(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(tp,np)}(t),n.identifier=uh(t).toLowerCase()},lineEnding:function(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak)return n.children[n.children.length-1].position.end=ip(e.end),void(this.data.atHardBreak=void 0);!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(u.call(this,e),f.call(this,e))},link:s((function(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0})),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:function(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=uh(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString:function(){const e=this.resume();this.stack[this.stack.length-1].url=e},resourceTitleString:function(){const e=this.resume();this.stack[this.stack.length-1].title=e},resource:function(){this.data.inReference=void 0},setextHeading:s((function(){this.data.setextHeadingSlurpLineEnding=void 0})),setextHeadingLineSequence:function(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2},setextHeadingText:function(){this.data.setextHeadingSlurpLineEnding=!0},strong:s(),thematicBreak:s()}};ap(t,(e||{}).mdastExtensions||[]);const n={};return function(e){let o={type:"root",children:[]};const s={stack:[o],tokenStack:[],config:t,enter:a,exit:l,buffer:i,resume:c,data:n},u=[];let f=-1;for(;++f<e.length;)"listOrdered"!==e[f][1].type&&"listUnordered"!==e[f][1].type||("enter"===e[f][0]?u.push(f):f=r(e,u.pop(),f));for(f=-1;++f<e.length;){const n=t[e[f][0]];rp.call(n,e[f][1].type)&&n[e[f][1].type].call(Object.assign({sliceSerialize:e[f][2].sliceSerialize},s),e[f][1])}if(s.tokenStack.length>0){const e=s.tokenStack[s.tokenStack.length-1];(e[1]||lp).call(s,void 0,e[0])}for(o.position={start:ip(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:ip(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},f=-1;++f<t.transforms.length;)o=t.transforms[f](o)||o;return o};function r(e,t,n){let r,o,i,a,s=t-1,l=-1,c=!1;for(;++s<=n;){const t=e[s];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,a=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||a||l||i||(i=s),a=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:a=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let a=s;for(o=void 0;a--;){const t=e[a];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;o&&(e[o][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",o=a}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}i&&(!o||i<o)&&(r._spread=!0),r.end=Object.assign({},o?e[o][1].start:t[1].end),e.splice(o||s,0,["exit",r,t[2]]),s++,n++}if("listItemPrefix"===t[1].type){const o={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=o,e.splice(s,0,["enter",o,t[2]]),s++,n++,i=void 0,a=!0}}}return e[t][1]._spread=c,n}function o(e,t){return function(n){a.call(this,e(n),n),t&&t.call(this,n)}}function i(){this.stack.push({type:"fragment",children:[]})}function a(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:ip(t.start),end:void 0}}function s(e){return function(t){e&&e.call(this,t),l.call(this,t)}}function l(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+Yf({start:e.start,end:e.end})+"): its not open");r[0].type!==e.type&&(t?t.call(this,e,r[0]):(r[1]||lp).call(this,e,r[0])),n.position.end=ip(e.end)}function c(){return md(this.stack.pop())}function u(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n={type:"text",value:""},n.position={start:ip(e.start),end:void 0},t.push(n)),this.stack.push(n)}function f(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=ip(e.end)}function d(){this.data.atHardBreak=!0}function h(e){this.data.characterReferenceType=e.type}function p(){return{type:"code",lang:null,meta:null,value:""}}function m(){return{type:"heading",depth:0,children:[]}}function g(){return{type:"break"}}function y(){return{type:"html",value:""}}function v(){return{type:"link",title:null,url:"",children:[]}}function b(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}}(r)(function(e){for(;!Ed(e););return e}(function(e){const n={constructs:Cd([t,...(e||{}).extensions||[]]),content:r(Vd),defined:[],document:r(Hd),flow:r($d),lazy:{},string:r(Zd),text:r(Jd)};return n;function r(e){return function(t){return Qh(n,e,t)}}}(r).document().write(function(){let e,t=1,n="",r=!0;return function(o,i,a){const s=[];let l,c,u,f,d;for(o=n+("string"==typeof o?o.toString():new TextDecoder(i||void 0).decode(o)),u=0,n="",r&&(65279===o.charCodeAt(0)&&u++,r=void 0);u<o.length;){if(Xh.lastIndex=u,l=Xh.exec(o),f=l&&void 0!==l.index?l.index:o.length,d=o.charCodeAt(f),!l){n=o.slice(u);break}if(10===d&&u===f&&e)s.push(-3),e=void 0;else switch(e&&(s.push(-5),e=void 0),u<f&&(s.push(o.slice(u,f)),t+=f-u),d){case 0:s.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),s.push(-2);t++<c;)s.push(-1);break;case 10:s.push(-4),t=1;break;default:e=!0,t=1}u=f+1}return a&&(e&&s.push(-5),n&&s.push(n),s.push(null)),s}}()(e,n,!0))))}function ip(e){return{line:e.line,column:e.column,offset:e.offset}}function ap(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?ap(e,r):sp(e,r)}}function sp(e,t){let n;for(n in t)if(rp.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function lp(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Yf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Yf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Yf({start:t.start,end:t.end})+") is still open")}function cp(e){const t=this;t.parser=function(n){return op(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const up="object"==typeof self?self:globalThis,fp=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=o=>{if(e.has(o))return e.get(o);const[i,a]=t[o];switch(i){case 0:case-1:return n(a,o);case 1:{const e=n([],o);for(const t of a)e.push(r(t));return e}case 2:{const e=n({},o);for(const[t,n]of a)e[r(t)]=r(n);return e}case 3:return n(new Date(a),o);case 4:{const{source:e,flags:t}=a;return n(new RegExp(e,t),o)}case 5:{const e=n(new Map,o);for(const[t,n]of a)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,o);for(const t of a)e.add(r(t));return e}case 7:{const{name:e,message:t}=a;return n(new up[e](t),o)}case 8:return n(BigInt(a),o);case"BigInt":return n(Object(BigInt(a)),o);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:e}=new Uint8Array(a);return n(new DataView(e),a)}}return n(new up[i](a),o)};return r})(new Map,e)(0),dp="",{toString:hp}={},{keys:pp}=Object,mp=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=hp.call(e).slice(8,-1);switch(n){case"Array":return[1,dp];case"Object":return[2,dp];case"Date":return[3,dp];case"RegExp":return[4,dp];case"Map":return[5,dp];case"Set":return[6,dp];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},gp=([e,t])=>0===e&&("function"===t||"symbol"===t),yp=(e,{json:t,lossy:n}={})=>{const r=[];return((e,t,n,r)=>{const o=(e,t)=>{const o=r.push(e)-1;return n.set(t,o),o},i=r=>{if(n.has(r))return n.get(r);let[a,s]=mp(r);switch(a){case 0:{let t=r;switch(s){case"bigint":a=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+s);t=null;break;case"undefined":return o([-1],r)}return o([a,t],r)}case 1:{if(s){let e=r;return"DataView"===s?e=new Uint8Array(r.buffer):"ArrayBuffer"===s&&(e=new Uint8Array(r)),o([s,[...e]],r)}const e=[],t=o([a,e],r);for(const t of r)e.push(i(t));return t}case 2:{if(s)switch(s){case"BigInt":return o([s,r.toString()],r);case"Boolean":case"Number":case"String":return o([s,r.valueOf()],r)}if(t&&"toJSON"in r)return i(r.toJSON());const n=[],l=o([a,n],r);for(const t of pp(r))!e&&gp(mp(r[t]))||n.push([i(t),i(r[t])]);return l}case 3:return o([a,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return o([a,{source:e,flags:t}],r)}case 5:{const t=[],n=o([a,t],r);for(const[n,o]of r)(e||!gp(mp(n))&&!gp(mp(o)))&&t.push([i(n),i(o)]);return n}case 6:{const t=[],n=o([a,t],r);for(const n of r)!e&&gp(mp(n))||t.push(i(n));return n}}const{message:l}=r;return o([a,{name:s,message:l}],r)};return i})(!(t||n),!!t,new Map,r)(e),r},vp="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?fp(yp(e,t)):structuredClone(e):(e,t)=>fp(yp(e,t));function bp(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const i=e.charCodeAt(n);let a="";if(37===i&&_d(e.charCodeAt(n+1))&&_d(e.charCodeAt(n+2)))o=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const t=e.charCodeAt(n+1);i<56320&&t>56319&&t<57344?(a=String.fromCharCode(i,t),o=1):a=""}else a=String.fromCharCode(i);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+o+1,a=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function wp(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function xp(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const Ep=function(e){if(null==e)return kp;if("function"==typeof e)return Sp(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ep(e[n]);return Sp((function(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}))}(e):function(e){const t=e;return Sp((function(n){const r=n;let o;for(o in e)if(r[o]!==t[o])return!1;return!0}))}(e);if("string"==typeof e)return t=e,Sp((function(e){return e&&e.type===t}));var t;throw new Error("Expected function, string, or object as test")};function Sp(e){return function(t,n,r){return Boolean(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function kp(){return!0}const Cp=[],Pp=!1;function Ap(e,t,n,r){let o;"function"==typeof t&&"function"!=typeof n?(r=n,n=t):o=t;const i=Ep(o),a=r?-1:1;!function e(o,s,l){const c=o&&"object"==typeof o?o:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+o.type+(e?"<"+e+">":"")+")"})}return u;function u(){let c,u,f,d=Cp;if((!t||i(o,s,l[l.length-1]||void 0))&&(d=function(e){return Array.isArray(e)?e:"number"==typeof e?[true,e]:null==e?Cp:[e]}(n(o,l)),d[0]===Pp))return d;if("children"in o&&o.children){const t=o;if(t.children&&"skip"!==d[0])for(u=(r?t.children.length:-1)+a,f=l.concat(t);u>-1&&u<t.children.length;){const n=t.children[u];if(c=e(n,u,f)(),c[0]===Pp)return c;u="number"==typeof c[1]?c[1]:u+a}}return d}}(e,void 0,[])()}function Tp(e,t,n,r){let o,i,a;"function"==typeof t&&"function"!=typeof n?(i=void 0,a=t,o=n):(i=t,a=n,o=r),Ap(e,i,(function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return a(e,r,n)}),o)}function _p(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),i=o[0];i&&"text"===i.type?i.value="["+i.value:o.unshift({type:"text",value:"["});const a=o[o.length-1];return a&&"text"===a.type?a.value+=r:o.push({type:"text",value:r}),o}function Np(e){const t=e.spread;return null==t?e.children.length>1:t}function Op(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const i=[];for(;r;)i.push(Ip(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return i.push(Ip(t.slice(o),o>0,!1)),i.join("")}function Ip(e,t,n){let r=0,o=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(o-1);for(;9===t||32===t;)o--,t=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}const Rp={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=bp(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let a,s=e.footnoteCounts.get(r);void 0===s?(s=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=i+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return _p(e,t);const o={src:bp(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(o.title=r.title);const i={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,i),e.applyData(t,i)},image:function(e,t){const n={src:bp(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return _p(e,t);const o={href:bp(r.url||"")};null!==r.title&&void 0!==r.title&&(o.title=r.title);const i={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},link:function(e,t){const n={href:bp(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),o=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Np(n[r])}return t}(n):Np(t),i={},a=[];if("boolean"==typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const e=r[s];(o||0!==s||"element"!==e.type||"p"!==e.tagName)&&a.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||o?a.push(e):a.push(...e.children)}const l=r[r.length-1];l&&(o||"element"!==l.type||"p"!==l.tagName)&&a.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:i,children:a};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let o=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++o<r.length;){const e=r[o];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),o.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},i=qf(t.children[1]),a=Hf(t.children[t.children.length-1]);i&&a&&(r.position={start:i,end:a}),o.push(r)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,i),e.applyData(t,i)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,o=0===(r?r.indexOf(t):1)?"th":"td",i=n&&"table"===n.type?n.align:void 0,a=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<a;){const n=t.children[s],r={},a=i?i[s]:void 0;a&&(r.align=a);let c={type:"element",tagName:o,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:Op(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:Lp,yaml:Lp,definition:Lp,footnoteDefinition:Lp};function Lp(){}const Mp={}.hasOwnProperty,jp={};function Dp(e,t){e.position&&(t.position=Gf(e))}function Up(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,o=e.data.hProperties;"string"==typeof t&&("element"===n.type?n.tagName=t:n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}),"element"===n.type&&o&&Object.assign(n.properties,vp(o)),"children"in n&&n.children&&null!=r&&(n.children=r)}return n}function Fp(e,t){const n=t.data||{},r=!("value"in t)||Mp.call(n,"hProperties")||Mp.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function Bp(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function zp(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function Vp(e,t){const n=function(e,t){const n=t||jp,r=new Map,o=new Map,i=new Map,a={...Rp,...n.handlers},s={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const o=s.one(n[r],e);if(o){if(r&&"break"===n[r-1].type&&(Array.isArray(o)||"text"!==o.type||(o.value=zp(o.value)),!Array.isArray(o)&&"element"===o.type)){const e=o.children[0];e&&"text"===e.type&&(e.value=zp(e.value))}Array.isArray(o)?t.push(...o):t.push(o)}}}return t},applyData:Up,definitionById:r,footnoteById:o,footnoteCounts:i,footnoteOrder:[],handlers:a,one:function(e,t){const n=e.type,r=s.handlers[n];if(Mp.call(s.handlers,n)&&r)return r(s,e,t);if(s.options.passThrough&&s.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=vp(n);return r.children=s.all(e),r}return vp(e)}return(s.options.unknownHandler||Fp)(s,e,t)},options:n,patch:Dp,wrap:Bp};return Tp(e,(function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:o,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}})),s}(e,t),r=n.one(e,void 0),o=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||wp,r=e.options.footnoteBackLabel||xp,o=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const o=e.footnoteById.get(e.footnoteOrder[l]);if(!o)continue;const i=e.all(o),a=String(o.identifier).toUpperCase(),c=bp(a.toLowerCase());let u=0;const f=[],d=e.footnoteCounts.get(a);for(;void 0!==d&&++u<=d;){f.length>0&&f.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,u);"string"==typeof e&&(e={type:"text",value:e}),f.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof r?r:r(l,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const h=i[i.length-1];if(h&&"element"===h.type&&"p"===h.tagName){const e=h.children[h.children.length-1];e&&"text"===e.type?e.value+=" ":h.children.push({type:"text",value:" "}),h.children.push(...f)}else i.push(...f);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(i,!0)};e.patch(o,p),s.push(p)}if(0!==s.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...vp(a),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:"\n"}]}}(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&i.children.push({type:"text",value:"\n"},o),i}function Hp(e,t){return e&&"run"in e?async function(n,r){const o=Vp(n,{file:r,...t});await e.run(o,r)}:function(n,r){return Vp(n,{file:r,...e||t})}}function qp(e){if(e)throw e}var Wp=o(2849);function Gp(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}const Yp=function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');Qp(e);let n,r=0,o=-1,i=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;i--;)if(47===e.codePointAt(i)){if(n){r=i+1;break}}else o<0&&(n=!0,o=i+1);return o<0?"":e.slice(r,o)}if(t===e)return"";let a=-1,s=t.length-1;for(;i--;)if(47===e.codePointAt(i)){if(n){r=i+1;break}}else a<0&&(n=!0,a=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(o=i):(s=-1,o=a));return r===o?o=a:o<0&&(o=e.length),e.slice(r,o)},$p=function(e){if(Qp(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},Kp=function(e){Qp(e);let t,n=e.length,r=-1,o=0,i=-1,a=0;for(;n--;){const s=e.codePointAt(n);if(47!==s)r<0&&(t=!0,r=n+1),46===s?i<0?i=n:1!==a&&(a=1):i>-1&&(a=-1);else if(t){o=n+1;break}}return i<0||r<0||0===a||1===a&&i===r-1&&i===o+1?"":e.slice(i,r)},Zp=function(...e){let t,n=-1;for(;++n<e.length;)Qp(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){Qp(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,o="",i=0,a=-1,s=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(a===l-1||1===s);else if(a!==l-1&&2===s){if(o.length<2||2!==i||46!==o.codePointAt(o.length-1)||46!==o.codePointAt(o.length-2))if(o.length>2){if(r=o.lastIndexOf("/"),r!==o.length-1){r<0?(o="",i=0):(o=o.slice(0,r),i=o.length-1-o.lastIndexOf("/")),a=l,s=0;continue}}else if(o.length>0){o="",i=0,a=l,s=0;continue}t&&(o=o.length>0?o+"/..":"..",i=2)}else o.length>0?o+="/"+e.slice(a+1,l):o=e.slice(a+1,l),i=l-a-1;a=l,s=0}else 46===n&&s>-1?s++:s=-1}return o}(e,!t);return 0!==n.length||t||(n="."),n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/"),t?"/"+n:n}(t)},Jp="/";function Qp(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Xp=function(){return"/"};function em(e){return Boolean(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}const tm=["history","path","basename","stem","extname","dirname"];class nm{constructor(e){let t;t=e?em(e)?{path:e}:"string"==typeof e||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":Xp(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<tm.length;){const e=tm[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)tm.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?Yp(this.path):void 0}set basename(e){om(e,"basename"),rm(e,"basename"),this.path=Zp(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?$p(this.path):void 0}set dirname(e){im(this.basename,"dirname"),this.path=Zp(e||"",this.basename)}get extname(){return"string"==typeof this.path?Kp(this.path):void 0}set extname(e){if(rm(e,"extname"),im(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Zp(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){em(e)&&(e=function(e){if("string"==typeof e)e=new URL(e);else if(!em(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}(e)),om(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?Yp(this.path,this.extname):void 0}set stem(e){om(e,"stem"),rm(e,"stem"),this.path=Zp(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new Jf(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return void 0===this.value?"":"string"==typeof this.value?this.value:new TextDecoder(e||void 0).decode(this.value)}}function rm(e,t){if(e&&e.includes(Jp))throw new Error("`"+t+"` cannot be a path: did not expect `"+Jp+"`")}function om(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function im(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const am=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},sm={}.hasOwnProperty;class lm extends am{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=function(){const e=[],t={run:function(...t){let n=-1;const r=t.pop();if("function"!=typeof r)throw new TypeError("Expected function as last argument, not "+r);!function o(i,...a){const s=e[++n];let l=-1;if(i)r(i);else{for(;++l<t.length;)null!==a[l]&&void 0!==a[l]||(a[l]=t[l]);t=a,s?function(e,t){let n;return function(...t){const i=e.length>t.length;let a;i&&t.push(r);try{a=e.apply(this,t)}catch(e){if(i&&n)throw e;return r(e)}i||(a&&a.then&&"function"==typeof a.then?a.then(o,r):a instanceof Error?r(a):o(a))};function r(e,...r){n||(n=!0,t(e,...r))}function o(e){r(null,e)}}(s,o)(...a):r(null,...a)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}()}copy(){const e=new lm;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(Wp(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(dm("data",this.frozen),this.namespace[e]=t,this):sm.call(this.namespace,e)&&this.namespace[e]||void 0:e?(dm("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"==typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=mm(e),n=this.parser||this.Parser;return um("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),um("process",this.parser||this.Parser),fm("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,o){const i=mm(e),a=n.parse(i);function s(e,n){e||!n?o(e):r?r(n):t(void 0,n)}n.run(a,i,(function(e,t,r){if(e||!t||!r)return s(e);const o=t,i=n.stringify(o,r);var a;"string"==typeof(a=i)||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(a)?r.value=i:r.result=i,s(e,r)}))}}processSync(e){let t,n=!1;return this.freeze(),um("processSync",this.parser||this.Parser),fm("processSync",this.compiler||this.Compiler),this.process(e,(function(e,r){n=!0,qp(e),t=r})),pm("processSync","process",n),t}run(e,t,n){hm(e),this.freeze();const r=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?o(void 0,n):new Promise(o);function o(o,i){const a=mm(t);r.run(e,a,(function(t,r,a){const s=r||e;t?i(t):o?o(s):n(void 0,s,a)}))}}runSync(e,t){let n,r=!1;return this.run(e,t,(function(e,t){qp(e),n=t,r=!0})),pm("runSync","run",r),n}stringify(e,t){this.freeze();const n=mm(t),r=this.compiler||this.Compiler;return fm("stringify",r),hm(e),r(e,n)}use(e,...t){const n=this.attachers,r=this.namespace;if(dm("use",this.frozen),null==e);else if("function"==typeof e)s(e,t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?a(e):i(e)}return this;function o(e){if("function"==typeof e)s(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;s(t,n)}else i(e)}}function i(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(e.plugins),e.settings&&(r.settings=Wp(!0,r.settings,e.settings))}function a(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;)o(e[t])}}function s(e,t){let r=-1,o=-1;for(;++r<n.length;)if(n[r][0]===e){o=r;break}if(-1===o)n.push([e,...t]);else if(t.length>0){let[r,...i]=t;const a=n[o][1];Gp(a)&&Gp(r)&&(r=Wp(!0,a,r)),n[o]=[e,r,...i]}}}}const cm=(new lm).freeze();function um(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function fm(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function dm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function hm(e){if(!Gp(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function pm(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function mm(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new nm(e)}const gm=[],ym={allowDangerousHtml:!0},vm=/^(https?|ircs?|mailto|xmpp)$/i,bm=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function wm(e){const t=function(e){const t=e.rehypePlugins||gm,n=e.remarkPlugins||gm,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...ym}:ym;return cm().use(cp).use(n).use(Hp,r).use(t)}(e),n=function(e){const t=e.children||"",n=new nm;return"string"==typeof t&&(n.value=t),n}(e);return function(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,i=t.disallowedElements,a=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||xm;for(const e of bm)Object.hasOwn(t,e.from)&&(e.from,e.to&&e.to,e.id);return Tp(e,(function(e,t,o){if("raw"===e.type&&o&&"number"==typeof t)return a?o.children.splice(t,1):o.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in hd)if(Object.hasOwn(hd,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=hd[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let a=n?!n.includes(e.tagName):!!i&&i.includes(e.tagName);if(!a&&r&&"number"==typeof t&&(a=!r(e,t,o)),a&&o&&"number"==typeof t)return s&&e.children?o.children.splice(t,1,...e.children):o.children.splice(t,1),t}})),function(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return function(n,r,o,i){const a=Array.isArray(o.children),s=qf(n);return t(r,o,i,a,{columnNumber:s?s.column-1:void 0,fileName:e,lineNumber:s?s.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");o=t.jsx,i=t.jsxs,r=function(e,t,n,r){const a=Array.isArray(n.children)?i:o;return r?a(t,n,r):a(t,n)}}var o,i;const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?Mf:Lf,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},s=od(a,e,void 0);return s&&"string"!=typeof s?s:a.create(e,a.Fragment,{children:s||void 0},void 0)}(e,{Fragment:gi.Fragment,components:o,ignoreInvalidStyle:!0,jsx:gi.jsx,jsxs:gi.jsxs,passKeys:!0,passNode:!0})}(t.runSync(t.parse(n),n),e)}function xm(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return-1===t||-1!==o&&t>o||-1!==n&&t>n||-1!==r&&t>r||vm.test(e.slice(0,t))?e:""}function Em(e,t){const n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;-1!==o;)r++,o=n.indexOf(t,o+t.length);return r}function Sm(e){return"function"==typeof e?e:function(){return e}}const km="phrasing",Cm=["autolink","link","image","label"];function Pm(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Am(e){this.config.enter.autolinkProtocol.call(this,e)}function Tm(e){this.config.exit.autolinkProtocol.call(this,e)}function _m(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Nm(e){this.config.exit.autolinkEmail.call(this,e)}function Om(e){this.exit(e)}function Im(e){!function(e,t,n){const r=Ep((n||{}).ignore||[]),o=function(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const e=n[r];t.push([(o=e[0],"string"==typeof o?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(o),"g"):o),Sm(e[1])])}var o;return t}(t);let i=-1;for(;++i<o.length;)Ap(e,"text",a);function a(e,t){let n,a=-1;for(;++a<t.length;){const e=t[a],o=n?n.children:void 0;if(r(e,o?o.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],r=o[i][0],a=o[i][1];let s=0;const l=n.children.indexOf(e);let c=!1,u=[];r.lastIndex=0;let f=r.exec(e.value);for(;f;){const n=f.index,o={index:f.index,input:f.input,stack:[...t,e]};let i=a(...f,o);if("string"==typeof i&&(i=i.length>0?{type:"text",value:i}:void 0),!1===i?r.lastIndex=n+1:(s!==n&&u.push({type:"text",value:e.value.slice(s,n)}),Array.isArray(i)?u.push(...i):i&&u.push(i),s=n+f[0].length,c=!0),!r.global)break;f=r.exec(e.value)}return c?(s<e.value.length&&u.push({type:"text",value:e.value.slice(s)}),n.children.splice(l,1,...u)):u=[e],l+u.length}(e,t)}}(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Rm],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,Lm]],{ignore:["link","linkReference"]})}function Rm(e,t,n,r,o){let i="";if(!Mm(o))return!1;if(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!function(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}(n))return!1;const a=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=Em(e,"(");let i=Em(e,")");for(;-1!==r&&o>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}(n+r);if(!a[0])return!1;const s={type:"link",title:null,url:i+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function Lm(e,t,n,r){return!(!Mm(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Mm(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||Fd(n)||Ud(n))&&(!t||47!==n)}function jm(){this.buffer()}function Dm(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Um(){this.buffer()}function Fm(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Bm(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=uh(this.sliceSerialize(e)).toLowerCase(),n.label=t}function zm(e){this.exit(e)}function Vm(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=uh(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Hm(e){this.exit(e)}function qm(e,t,n,r){const o=n.createTracker(r);let i=o.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return i+=o.move(n.safe(n.associationId(e),{after:"]",before:i})),s(),a(),i+=o.move("]"),i}function Wm(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:function(e,n,r,o){const i=r.createTracker(o);let a=i.move("[^");const s=r.enter("footnoteDefinition"),l=r.enter("label");return a+=i.move(r.safe(r.associationId(e),{before:a,after:"]"})),l(),a+=i.move("]:"),e.children&&e.children.length>0&&(i.shift(4),a+=i.move((t?"\n":" ")+r.indentLines(r.containerFlow(e,i.current()),t?Ym:Gm))),s(),a},footnoteReference:qm},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}}function Gm(e,t,n){return 0===t?e:Ym(e,0,n)}function Ym(e,t,n){return(n?"":"    ")+e}qm.peek=function(){return"["};const $m=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function Km(e){this.enter({type:"delete",children:[]},e)}function Zm(e){this.exit(e)}function Jm(e,t,n,r){const o=n.createTracker(r),i=n.enter("strikethrough");let a=o.move("~~");return a+=n.containerPhrasing(e,{...o.current(),before:a,after:"~"}),a+=o.move("~~"),i(),a}function Qm(e){return e.length}function Xm(e){const t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function eg(e,t,n){return">"+(n?"":" ")+e}function tg(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function ng(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if("\n"===n.unsafe[o].character&&(tg(i=n.stack,(a=n.unsafe[o]).inConstruct,!0)&&!tg(i,a.notInConstruct,!1)))return/[ \t]/.test(r.before)?"":" ";var i,a;return"\\\n"}function rg(e,t,n){return(n?"":"    ")+e}function og(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function ig(e){return"&#x"+e.toString(16).toUpperCase()+";"}function ag(e,t,n){const r=Mh(e),o=Mh(t);return void 0===r?void 0===o?"_"===n?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===o?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===r?void 0===o?{inside:!1,outside:!1}:1===o?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===o?{inside:!1,outside:!1}:1===o?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function sg(e,t,n,r){const o=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),i=n.enter("emphasis"),a=n.createTracker(r),s=a.move(o);let l=a.move(n.containerPhrasing(e,{after:o,before:s,...a.current()}));const c=l.charCodeAt(0),u=ag(r.before.charCodeAt(r.before.length-1),c,o);u.inside&&(l=ig(c)+l.slice(1));const f=l.charCodeAt(l.length-1),d=ag(r.after.charCodeAt(0),f,o);d.inside&&(l=l.slice(0,-1)+ig(f));const h=a.move(o);return i(),n.attentionEncodeSurroundingInfo={after:d.outside,before:u.outside},s+l+h}function lg(e){return e.value||""}function cg(e,t,n,r){const o=og(n),i='"'===o?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+o),c+=l.move(n.safe(e.title,{before:c,after:o,...l.current()})),c+=l.move(o),s()),c+=l.move(")"),a(),c}function ug(e,t,n,r){const o=e.referenceType,i=n.enter("imageReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=u,i(),"full"!==o&&c&&c===f?"shortcut"===o?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(f+"]"),l}function fg(e,t,n){let r=e.value||"",o="`",i=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const e=n.unsafe[i],t=n.compilePattern(e);let o;if(e.atBreak)for(;o=t.exec(r);){let e=o.index;10===r.charCodeAt(e)&&13===r.charCodeAt(e-1)&&e--,r=r.slice(0,e)+" "+r.slice(o.index+1)}}return o+r+o}function dg(e,t){const n=md(e);return Boolean(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function hg(e,t,n,r){const o=og(n),i='"'===o?"Quote":"Apostrophe",a=n.createTracker(r);let s,l;if(dg(e,n)){const t=n.stack;n.stack=[],s=n.enter("autolink");let r=a.move("<");return r+=a.move(n.containerPhrasing(e,{before:r,after:">",...a.current()})),r+=a.move(">"),s(),n.stack=t,r}s=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=n.enter(`title${i}`),c+=a.move(" "+o),c+=a.move(n.safe(e.title,{before:c,after:o,...a.current()})),c+=a.move(o),l()),c+=a.move(")"),s(),c}function pg(e,t,n,r){const o=e.referenceType,i=n.enter("linkReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=u,i(),"full"!==o&&c&&c===f?"shortcut"===o?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(f+"]"),l}function mg(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function gg(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}Jm.peek=function(){return"~"},sg.peek=function(e,t,n){return n.options.emphasis||"*"},lg.peek=function(){return"<"},cg.peek=function(){return"!"},ug.peek=function(){return"!"},fg.peek=function(){return"`"},hg.peek=function(e,t,n){return dg(e,n)?"<":"["},pg.peek=function(){return"["};const yg=Ep(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function vg(e,t,n,r){const o=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),i=n.enter("strong"),a=n.createTracker(r),s=a.move(o+o);let l=a.move(n.containerPhrasing(e,{after:o,before:s,...a.current()}));const c=l.charCodeAt(0),u=ag(r.before.charCodeAt(r.before.length-1),c,o);u.inside&&(l=ig(c)+l.slice(1));const f=l.charCodeAt(l.length-1),d=ag(r.after.charCodeAt(0),f,o);d.inside&&(l=l.slice(0,-1)+ig(f));const h=a.move(o+o);return i(),n.attentionEncodeSurroundingInfo={after:d.outside,before:u.outside},s+l+h}vg.peek=function(e,t,n){return n.options.strong||"*"};const bg={blockquote:function(e,t,n,r){const o=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const a=n.indentLines(n.containerFlow(e,i.current()),eg);return o(),a},break:ng,code:function(e,t,n,r){const o=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),i=e.value||"",a="`"===o?"GraveAccent":"Tilde";if(function(e,t){return Boolean(!1===t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(i,rg);return e(),t}const s=n.createTracker(r),l=o.repeat(Math.max(function(e,t){const n=String(e);let r=n.indexOf(t),o=r,i=0,a=0;if("string"!=typeof t)throw new TypeError("Expected substring");for(;-1!==r;)r===o?++i>a&&(a=i):i=1,o=r+t.length,r=n.indexOf(t,o);return a}(i,o)+1,3)),c=n.enter("codeFenced");let u=s.move(l);if(e.lang){const t=n.enter(`codeFencedLang${a}`);u+=s.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...s.current()})),t()}if(e.lang&&e.meta){const t=n.enter(`codeFencedMeta${a}`);u+=s.move(" "),u+=s.move(n.safe(e.meta,{before:u,after:"\n",encode:["`"],...s.current()})),t()}return u+=s.move("\n"),i&&(u+=s.move(i+"\n")),u+=s.move(l),c(),u},definition:function(e,t,n,r){const o=og(n),i='"'===o?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":"\n",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+o),c+=l.move(n.safe(e.title,{before:c,after:o,...l.current()})),c+=l.move(o),s()),a(),c},emphasis:sg,hardBreak:ng,heading:function(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(function(e,t){let n=!1;return Tp(e,(function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,Pp})),Boolean((!e.depth||e.depth<3)&&md(e)&&(t.options.setext||n))}(e,n)){const t=n.enter("headingSetext"),r=n.enter("phrasing"),a=n.containerPhrasing(e,{...i.current(),before:"\n",after:"\n"});return r(),t(),a+"\n"+(1===o?"=":"-").repeat(a.length-(Math.max(a.lastIndexOf("\r"),a.lastIndexOf("\n"))+1))}const a="#".repeat(o),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(a+" ");let c=n.containerPhrasing(e,{before:"# ",after:"\n",...i.current()});return/^[\t ]/.test(c)&&(c=ig(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),s(),c},html:lg,image:cg,imageReference:ug,inlineCode:fg,link:hg,linkReference:pg,list:function(e,t,n,r){const o=n.enter("list"),i=n.bulletCurrent;let a=e.ordered?function(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(n):mg(n);const s=e.ordered?"."===a?")":".":function(e){const t=mg(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n);let l=!(!t||!n.bulletLastUsed)&&a===n.bulletLastUsed;if(!e.ordered){const t=e.children?e.children[0]:void 0;if("*"!==a&&"-"!==a||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(l=!0),gg(n)===a&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){l=!0;break}}}}l&&(a=s),n.bulletCurrent=a;const c=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=i,o(),c},listItem:function(e,t,n,r){const o=function(e){const t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let i=n.bulletCurrent||mg(n);t&&"list"===t.type&&t.ordered&&(i=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+i);let a=i.length+1;("tab"===o||"mixed"===o&&(t&&"list"===t.type&&t.spread||e.spread))&&(a=4*Math.ceil(a/4));const s=n.createTracker(r);s.move(i+" ".repeat(a-i.length)),s.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),(function(e,t,n){return t?(n?"":" ".repeat(a))+e:(n?i:i+" ".repeat(a-i.length))+e}));return l(),c},paragraph:function(e,t,n,r){const o=n.enter("paragraph"),i=n.enter("phrasing"),a=n.containerPhrasing(e,r);return i(),o(),a},root:function(e,t,n,r){return(e.children.some((function(e){return yg(e)}))?n.containerPhrasing:n.containerFlow).call(n,e,r)},strong:vg,text:function(e,t,n,r){return n.safe(e.value,r)},thematicBreak:function(e,t,n){const r=(gg(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?r.slice(0,-1):r}};function wg(e){const t=e._align;this.enter({type:"table",align:t.map((function(e){return"none"===e?null:e})),children:[]},e),this.data.inTable=!0}function xg(e){this.exit(e),this.data.inTable=void 0}function Eg(e){this.enter({type:"tableRow",children:[]},e)}function Sg(e){this.exit(e)}function kg(e){this.enter({type:"tableCell",children:[]},e)}function Cg(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Pg));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Pg(e,t){return"|"===t?t:e}function Ag(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){let r=bg.inlineCode(e,t,n);return n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&")),r},table:function(e,t,n,r){return s(function(e,t,n){const r=e.children;let o=-1;const i=[],a=t.enter("table");for(;++o<r.length;)i[o]=l(r[o],t,n);return a(),i}(e,n,r),e.align)},tableCell:a,tableRow:function(e,t,n,r){const o=s([l(e,n,r)]);return o.slice(0,o.indexOf("\n"))}}};function a(e,t,n,r){const o=n.enter("tableCell"),a=n.enter("phrasing"),s=n.containerPhrasing(e,{...r,before:i,after:i});return a(),o(),s}function s(e,t){return function(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||Qm,i=[],a=[],s=[],l=[];let c=0,u=-1;for(;++u<e.length;){const t=[],r=[];let i=-1;for(e[u].length>c&&(c=e[u].length);++i<e[u].length;){const a=null==(f=e[u][i])?"":String(f);if(!1!==n.alignDelimiters){const e=o(a);r[i]=e,(void 0===l[i]||e>l[i])&&(l[i]=e)}t.push(a)}a[u]=t,s[u]=r}var f;let d=-1;if("object"==typeof r&&"length"in r)for(;++d<c;)i[d]=Xm(r[d]);else{const e=Xm(r);for(;++d<c;)i[d]=e}d=-1;const h=[],p=[];for(;++d<c;){const e=i[d];let t="",r="";99===e?(t=":",r=":"):108===e?t=":":114===e&&(r=":");let o=!1===n.alignDelimiters?1:Math.max(1,l[d]-t.length-r.length);const a=t+"-".repeat(o)+r;!1!==n.alignDelimiters&&(o=t.length+o+r.length,o>l[d]&&(l[d]=o),p[d]=o),h[d]=a}a.splice(1,0,h),s.splice(1,0,p),u=-1;const m=[];for(;++u<a.length;){const e=a[u],t=s[u];d=-1;const r=[];for(;++d<c;){const o=e[d]||"";let a="",s="";if(!1!==n.alignDelimiters){const e=l[d]-(t[d]||0),n=i[d];114===n?a=" ".repeat(e):99===n?e%2?(a=" ".repeat(e/2+.5),s=" ".repeat(e/2-.5)):(a=" ".repeat(e/2),s=a):s=" ".repeat(e)}!1===n.delimiterStart||d||r.push("|"),!1===n.padding||!1===n.alignDelimiters&&""===o||!1===n.delimiterStart&&!d||r.push(" "),!1!==n.alignDelimiters&&r.push(a),r.push(o),!1!==n.alignDelimiters&&r.push(s),!1!==n.padding&&r.push(" "),!1===n.delimiterEnd&&d===c-1||r.push("|")}m.push(!1===n.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return m.join("\n")}(e,{align:t,alignDelimiters:r,padding:n,stringLength:o})}function l(e,t,n){const r=e.children;let o=-1;const i=[],s=t.enter("tableRow");for(;++o<r.length;)i[o]=a(r[o],0,t,n);return s(),i}}function Tg(e){const t=this.stack[this.stack.length-2];t.type,t.checked="taskListCheckValueChecked"===e.type}function _g(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){const e=this.stack[this.stack.length-1];e.type;const n=e.children[0];if(n&&"text"===n.type){const r=t.children;let o,i=-1;for(;++i<r.length;){const e=r[i];if("paragraph"===e.type){o=e;break}}o===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function Ng(e,t,n,r){const o=e.children[0],i="boolean"==typeof e.checked&&o&&"paragraph"===o.type,a="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);i&&s.move(a);let l=bg.listItem(e,t,n,{...r,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,(function(e){return e+a}))),l}const Og={tokenize:function(e,t,n){let r=0;return function t(i){return(87===i||119===i)&&r<3?(r++,e.consume(i),t):46===i&&3===r?(e.consume(i),o):n(i)};function o(e){return null===e?n(e):t(e)}},partial:!0},Ig={tokenize:function(e,t,n){let r,o,i;return a;function a(t){return 46===t||95===t?e.check(Lg,l,s)(t):null===t||jd(t)||Fd(t)||45!==t&&Ud(t)?l(t):(i=!0,e.consume(t),a)}function s(t){return 95===t?r=!0:(o=r,r=void 0),e.consume(t),a}function l(e){return o||r||!i?n(e):t(e)}},partial:!0},Rg={tokenize:function(e,t){let n=0,r=0;return o;function o(a){return 40===a?(n++,e.consume(a),o):41===a&&r<n?i(a):33===a||34===a||38===a||39===a||41===a||42===a||44===a||46===a||58===a||59===a||60===a||63===a||93===a||95===a||126===a?e.check(Lg,t,i)(a):null===a||jd(a)||Fd(a)?t(a):(e.consume(a),o)}function i(t){return 41===t&&r++,e.consume(t),o}},partial:!0},Lg={tokenize:function(e,t,n){return r;function r(a){return 33===a||34===a||39===a||41===a||42===a||44===a||46===a||58===a||59===a||63===a||95===a||126===a?(e.consume(a),r):38===a?(e.consume(a),i):93===a?(e.consume(a),o):60===a||null===a||jd(a)||Fd(a)?t(a):n(a)}function o(e){return null===e||40===e||91===e||jd(e)||Fd(e)?t(e):r(e)}function i(e){return Td(e)?a(e):n(e)}function a(t){return 59===t?(e.consume(t),r):Td(t)?(e.consume(t),a):n(t)}},partial:!0},Mg={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(e){return _d(e)?n(e):t(e)}},partial:!0},jg={name:"wwwAutolink",tokenize:function(e,t,n){const r=this;return function(t){return 87!==t&&119!==t||!zg.call(r,r.previous)||Wg(r.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Og,e.attempt(Ig,e.attempt(Rg,o),n),n)(t))};function o(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:zg},Dg={name:"protocolAutolink",tokenize:function(e,t,n){const r=this;let o="",i=!1;return function(t){return 72!==t&&104!==t||!Vg.call(r,r.previous)||Wg(r.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(t),e.consume(t),a)};function a(t){if(Td(t)&&o.length<5)return o+=String.fromCodePoint(t),e.consume(t),a;if(58===t){const n=o.toLowerCase();if("http"===n||"https"===n)return e.consume(t),s}return n(t)}function s(t){return 47===t?(e.consume(t),i?l:(i=!0,s)):n(t)}function l(t){return null===t||Od(t)||jd(t)||Fd(t)||Ud(t)?n(t):e.attempt(Ig,e.attempt(Rg,c),n)(t)}function c(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:Vg},Ug={name:"emailAutolink",tokenize:function(e,t,n){const r=this;let o,i;return function(t){return qg(t)&&Hg.call(r,r.previous)&&!Wg(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(t)):n(t)};function a(t){return qg(t)?(e.consume(t),a):64===t?(e.consume(t),s):n(t)}function s(t){return 46===t?e.check(Mg,c,l)(t):45===t||95===t||_d(t)?(i=!0,e.consume(t),s):c(t)}function l(t){return e.consume(t),o=!0,s}function c(a){return i&&o&&Td(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(a)):n(a)}},previous:Hg},Fg={};let Bg=48;for(;Bg<123;)Fg[Bg]=Ug,Bg++,58===Bg?Bg=65:91===Bg&&(Bg=97);function zg(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||jd(e)}function Vg(e){return!Td(e)}function Hg(e){return!(47===e||qg(e))}function qg(e){return 43===e||45===e||46===e||95===e||_d(e)}function Wg(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}Fg[43]=Ug,Fg[45]=Ug,Fg[46]=Ug,Fg[95]=Ug,Fg[72]=[Ug,Dg],Fg[104]=[Ug,Dg],Fg[87]=[Ug,jg],Fg[119]=[Ug,jg];const Gg={tokenize:function(e,t,n){const r=this;return zd(e,(function(e){const o=r.events[r.events.length-1];return o&&"gfmFootnoteDefinitionIndent"===o[1].type&&4===o[2].sliceSerialize(o[1],!0).length?t(e):n(e)}),"gfmFootnoteDefinitionIndent",5)},partial:!0};function Yg(e,t,n){const r=this;let o=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;o--;){const e=r.events[o][1];if("labelImage"===e.type){a=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(o){if(!a||!a._balanced)return n(o);const s=uh(r.sliceSerialize({start:a.end,end:r.now()}));return 94===s.codePointAt(0)&&i.includes(s.slice(1))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(o),e.exit("gfmFootnoteCallLabelMarker"),t(o)):n(o)}}function $g(e,t){let n,r=e.length;for(;r--;)if("labelImage"===e[r][1].type&&"enter"===e[r][0]){n=e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const o={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[e[r+1],e[r+2],["enter",o,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",o,t]];return e.splice(r,e.length-r+1,...l),e}function Kg(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,a=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),s};function s(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(s){if(a>999||93===s&&!i||null===s||91===s||jd(s))return n(s);if(93===s){e.exit("chunkString");const i=e.exit("gfmFootnoteCallString");return o.includes(uh(r.sliceSerialize(i)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(s),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(s)}return jd(s)||(i=!0),a++,e.consume(s),92===s?c:l}function c(t){return 91===t||92===t||93===t?(e.consume(t),a++,l):l(t)}}function Zg(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,a,s=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(t)}function c(t){if(s>999||93===t&&!a||null===t||91===t||jd(t))return n(t);if(93===t){e.exit("chunkString");const n=e.exit("gfmFootnoteDefinitionLabelString");return i=uh(r.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return jd(t)||(a=!0),s++,e.consume(t),92===t?u:c}function u(t){return 91===t||92===t||93===t?(e.consume(t),s++,c):c(t)}function f(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),o.includes(i)||o.push(i),zd(e,d,"gfmFootnoteDefinitionWhitespace")):n(t)}function d(e){return t(e)}}function Jg(e,t,n){return e.check(Wd,t,e.attempt(Gg,t,n))}function Qg(e){e.exit("gfmFootnoteDefinition")}function Xg(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:function(e,n,r){const o=this.previous,i=this.events;let a=0;return function(t){return 126===o&&"characterEscape"!==i[i.length-1][1].type?r(t):(e.enter("strikethroughSequenceTemporary"),s(t))};function s(i){const l=Mh(o);if(126===i)return a>1?r(i):(e.consume(i),a++,s);if(a<2&&!t)return r(i);const c=e.exit("strikethroughSequenceTemporary"),u=Mh(i);return c._open=!u||2===u&&Boolean(l),c._close=!l||2===l&&Boolean(u),n(i)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let r=n;for(;r--;)if("exit"===e[r][0]&&"strikethroughSequenceTemporary"===e[r][1].type&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset==e[r][1].end.offset-e[r][1].start.offset){e[n][1].type="strikethroughSequence",e[r][1].type="strikethroughSequence";const o={type:"strikethrough",start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},i={type:"strikethroughText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},a=[["enter",o,t],["enter",e[r][1],t],["exit",e[r][1],t],["enter",i,t]],s=t.parser.constructs.insideSpan.null;s&&vd(a,a.length,0,_h(s,e.slice(r+1,n),t)),vd(a,a.length,0,[["exit",i,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",o,t]]),vd(e,r-1,n-r+3,a),n=r+a.length-2;break}}for(n=-1;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class ey{constructor(){this.map=[]}add(e,t,n){!function(e,t,n,r){let o=0;if(0!==n||0!==r.length){for(;o<e.map.length;){if(e.map[o][0]===t)return e.map[o][1]+=n,void e.map[o][2].push(...r);o+=1}e.map.push([t,n,r])}}(this,e,t,n)}consume(e){if(this.map.sort((function(e,t){return e[0]-t[0]})),0===this.map.length)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let r=n.pop();for(;r;){for(const t of r)e.push(t);r=n.pop()}this.map.length=0}}function ty(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if("enter"===o[0])"tableContent"===o[1].type&&r.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===o[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=r.length-1;r[e]="left"===r[e]?"center":"right"}}else if("tableDelimiterRow"===o[1].type)break}else"enter"===o[0]&&"tableDelimiterRow"===o[1].type&&(n=!0);t+=1}return r}function ny(e,t,n){const r=this;let o,i=0,a=0;return function(e){let t=r.events.length-1;for(;t>-1;){const e=r.events[t][1].type;if("lineEnding"!==e&&"linePrefix"!==e)break;t--}const o=t>-1?r.events[t][1].type:null,i="tableHead"===o||"tableRow"===o?w:s;return i===w&&r.parser.lazy[r.now().line]?n(e):i(e)};function s(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){return 124===e||(o=!0,a+=1),l(e)}(t)}function l(t){return null===t?n(t):Md(t)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),f):n(t):Dd(t)?zd(e,l,"whitespace")(t):(a+=1,o&&(o=!1,i+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),o=!0,l):(e.enter("data"),c(t)))}function c(t){return null===t||124===t||jd(t)?(e.exit("data"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return 92===t||124===t?(e.consume(t),c):c(t)}function f(t){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(t):(e.enter("tableDelimiterRow"),o=!1,Dd(t)?zd(e,d,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):d(t))}function d(t){return 45===t||58===t?p(t):124===t?(o=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),h):b(t)}function h(t){return Dd(t)?zd(e,p,"whitespace")(t):p(t)}function p(t){return 58===t?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),m):45===t?(a+=1,m(t)):null===t||Md(t)?v(t):b(t)}function m(t){return 45===t?(e.enter("tableDelimiterFiller"),g(t)):b(t)}function g(t){return 45===t?(e.consume(t),g):58===t?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(t))}function y(t){return Dd(t)?zd(e,v,"whitespace")(t):v(t)}function v(n){return 124===n?d(n):(null===n||Md(n))&&o&&i===a?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(n)):b(n)}function b(e){return n(e)}function w(t){return e.enter("tableRow"),x(t)}function x(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),x):null===n||Md(n)?(e.exit("tableRow"),t(n)):Dd(n)?zd(e,x,"whitespace")(n):(e.enter("data"),E(n))}function E(t){return null===t||124===t||jd(t)?(e.exit("data"),x(t)):(e.consume(t),92===t?S:E)}function S(t){return 92===t||124===t?(e.consume(t),E):E(t)}}function ry(e,t){let n,r,o,i=-1,a=!0,s=0,l=[0,0,0,0],c=[0,0,0,0],u=!1,f=0;const d=new ey;for(;++i<e.length;){const h=e[i],p=h[1];"enter"===h[0]?"tableHead"===p.type?(u=!1,0!==f&&(iy(d,t,f,n,r),r=void 0,f=0),n={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(i,0,[["enter",n,t]])):"tableRow"===p.type||"tableDelimiterRow"===p.type?(a=!0,o=void 0,l=[0,0,0,0],c=[0,i+1,0,0],u&&(u=!1,r={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(i,0,[["enter",r,t]])),s="tableDelimiterRow"===p.type?2:r?3:1):!s||"data"!==p.type&&"tableDelimiterMarker"!==p.type&&"tableDelimiterFiller"!==p.type?"tableCellDivider"===p.type&&(a?a=!1:(0!==l[1]&&(c[0]=c[1],o=oy(d,t,l,s,void 0,o)),l=c,c=[l[1],i,0,0])):(a=!1,0===c[2]&&(0!==l[1]&&(c[0]=c[1],o=oy(d,t,l,s,void 0,o),l=[0,0,0,0]),c[2]=i)):"tableHead"===p.type?(u=!0,f=i):"tableRow"===p.type||"tableDelimiterRow"===p.type?(f=i,0!==l[1]?(c[0]=c[1],o=oy(d,t,l,s,i,o)):0!==c[1]&&(o=oy(d,t,c,s,i,o)),s=0):!s||"data"!==p.type&&"tableDelimiterMarker"!==p.type&&"tableDelimiterFiller"!==p.type||(c[3]=i)}for(0!==f&&iy(d,t,f,n,r),d.consume(t.events),i=-1;++i<t.events.length;){const e=t.events[i];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=ty(t.events,i))}return e}function oy(e,t,n,r,o,i){const a=1===r?"tableHeader":2===r?"tableDelimiter":"tableData";0!==n[0]&&(i.end=Object.assign({},ay(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const s=ay(t.events,n[1]);if(i={type:a,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",i,t]]),0!==n[2]){const o=ay(t.events,n[2]),i=ay(t.events,n[3]),a={type:"tableContent",start:Object.assign({},o),end:Object.assign({},i)};if(e.add(n[2],0,[["enter",a,t]]),2!==r){const r=t.events[n[2]],o=t.events[n[3]];if(r[1].end=Object.assign({},o[1].end),r[1].type="chunkText",r[1].contentType="text",n[3]>n[2]+1){const t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[["exit",a,t]])}return void 0!==o&&(i.end=Object.assign({},ay(t.events,o)),e.add(o,0,[["exit",i,t]]),i=void 0),i}function iy(e,t,n,r,o){const i=[],a=ay(t.events,n);o&&(o.end=Object.assign({},a),i.push(["exit",o,t])),r.end=Object.assign({},a),i.push(["exit",r,t]),e.add(n+1,0,i)}function ay(e,t){const n=e[t],r="enter"===n[0]?"start":"end";return n[1][r]}const sy={name:"tasklistCheck",tokenize:function(e,t,n){const r=this;return function(t){return null===r.previous&&r._gfmTasklistFirstContentOfListItem?(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),o):n(t)};function o(t){return jd(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),i):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),i):n(t)}function i(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(t)}function a(r){return Md(r)?t(r):Dd(r)?e.check({tokenize:ly},t,n)(r):n(r)}}};function ly(e,t,n){return zd(e,(function(e){return null===e?n(e):t(e)}),"whitespace")}const cy={};function uy(e){const t=e||cy,n=this.data(),r=n.micromarkExtensions||(n.micromarkExtensions=[]),o=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),i=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);r.push(function(e){return Cd([{text:Fg},{document:{91:{name:"gfmFootnoteDefinition",tokenize:Zg,continuation:{tokenize:Jg},exit:Qg}},text:{91:{name:"gfmFootnoteCall",tokenize:Kg},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Yg,resolveTo:$g}}},Xg(e),{flow:{null:{name:"table",tokenize:ny,resolveAll:ry}}},{text:{91:sy}}])}(t)),o.push([{transforms:[Im],enter:{literalAutolink:Pm,literalAutolinkEmail:Am,literalAutolinkHttp:Am,literalAutolinkWww:Am},exit:{literalAutolink:Om,literalAutolinkEmail:Nm,literalAutolinkHttp:Tm,literalAutolinkWww:_m}},{enter:{gfmFootnoteCallString:jm,gfmFootnoteCall:Dm,gfmFootnoteDefinitionLabelString:Um,gfmFootnoteDefinition:Fm},exit:{gfmFootnoteCallString:Bm,gfmFootnoteCall:zm,gfmFootnoteDefinitionLabelString:Vm,gfmFootnoteDefinition:Hm}},{canContainEols:["delete"],enter:{strikethrough:Km},exit:{strikethrough:Zm}},{enter:{table:wg,tableData:kg,tableHeader:kg,tableRow:Eg},exit:{codeText:Cg,table:xg,tableData:Sg,tableHeader:Sg,tableRow:Sg}},{exit:{taskListCheckValueChecked:Tg,taskListCheckValueUnchecked:Tg,paragraph:_g}}]),i.push(function(e){return{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:km,notInConstruct:Cm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:km,notInConstruct:Cm},{character:":",before:"[ps]",after:"\\/",inConstruct:km,notInConstruct:Cm}]},Wm(e),{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:$m}],handlers:{delete:Jm}},Ag(e),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Ng}}]}}(t))}const fy=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],dy={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...fy,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...fy],h2:[["className","sr-only"]],img:[...fy,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...fy,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...fy],table:[...fy],ul:[...fy,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},hy={}.hasOwnProperty;function py(e,t){if(t&&"object"==typeof t){const n=t;switch("string"==typeof n.type?n.type:""){case"comment":return function(e,t){if(e.schema.allowComments){const e="string"==typeof t.value?t.value:"",n=e.indexOf("--\x3e"),r={type:"comment",value:n<0?e:e.slice(0,n)};return vy(r,t),r}}(e,n);case"doctype":return function(e,t){if(e.schema.allowDoctypes){const e={type:"doctype"};return vy(e,t),e}}(e,n);case"element":return function(e,t){const n="string"==typeof t.tagName?t.tagName:"";e.stack.push(n);const r=my(e,t.children),o=function(e,t){const n=e.stack[e.stack.length-1],r=e.schema.attributes,o=e.schema.required,i=r&&hy.call(r,n)?r[n]:void 0,a=r&&hy.call(r,"*")?r["*"]:void 0,s=t&&"object"==typeof t?t:{},l={};let c;for(c in s)if(hy.call(s,c)){const t=s[c];let n=gy(e,by(i,c),c,t);null==n&&(n=gy(e,by(a,c),c,t)),null!=n&&(l[c]=n)}if(o&&hy.call(o,n)){const e=o[n];for(c in e)hy.call(e,c)&&!hy.call(l,c)&&(l[c]=e[c])}return l}(e,t.properties);e.stack.pop();let i=!1;if(n&&"*"!==n&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(i=!0,e.schema.ancestors&&hy.call(e.schema.ancestors,n))){const t=e.schema.ancestors[n];let r=-1;for(i=!1;++r<t.length;)e.stack.includes(t[r])&&(i=!0)}if(!i)return e.schema.strip&&!e.schema.strip.includes(n)?r:void 0;const a={type:"element",tagName:n,properties:o,children:r};return vy(a,t),a}(e,n);case"root":return function(e,t){const n={type:"root",children:my(e,t.children)};return vy(n,t),n}(e,n);case"text":return function(e,t){const n={type:"text",value:"string"==typeof t.value?t.value:""};return vy(n,t),n}(0,n)}}}function my(e,t){const n=[];if(Array.isArray(t)){const r=t;let o=-1;for(;++o<r.length;){const t=py(e,r[o]);t&&(Array.isArray(t)?n.push(...t):n.push(t))}}return n}function gy(e,t,n,r){return t?Array.isArray(r)?function(e,t,n,r){let o=-1;const i=[];for(;++o<r.length;){const a=yy(e,t,n,r[o]);"number"!=typeof a&&"string"!=typeof a||i.push(a)}return i}(e,t,n,r):yy(e,t,n,r):void 0}function yy(e,t,n,r){if(("boolean"==typeof r||"number"==typeof r||"string"==typeof r)&&function(e,t,n){const r=e.schema.protocols&&hy.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!r||0===r.length)return!0;const o=String(n),i=o.indexOf(":"),a=o.indexOf("?"),s=o.indexOf("#"),l=o.indexOf("/");if(i<0||l>-1&&i>l||a>-1&&i>a||s>-1&&i>s)return!0;let c=-1;for(;++c<r.length;){const e=r[c];if(i===e.length&&o.slice(0,e.length)===e)return!0}return!1}(e,n,r)){if("object"==typeof t&&t.length>1){let e=!1,n=0;for(;++n<t.length;){const o=t[n];if(o&&"object"==typeof o&&"flags"in o){if(o.test(String(r))){e=!0;break}}else if(o===r){e=!0;break}}if(!e)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+r:r}}function vy(e,t){const n=Gf(t);t.data&&(e.data=vp(t.data)),n&&(e.position=n)}function by(e,t){let n,r=-1;if(e)for(;++r<e.length;){const o=e[r],i="string"==typeof o?o:o[0];if(i===t)return o;"data*"===i&&(n=o)}if(t.length>4&&"data"===t.slice(0,4).toLowerCase())return n}function wy(e){return function(t){const n=function(e,t){let n={type:"root",children:[]};const r=py({schema:t?{...dy,...t}:dy,stack:[]},e);return r&&(Array.isArray(r)?1===r.length?n=r[0]:n.children=r:n=r),n}(t,e);return n}}function xy({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Ey=i.forwardRef(xy);function Sy(e){return Sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(e)}function ky(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ty(r.key),r)}}function Cy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Cy=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Py(e)}function Ay(e,t){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ay(e,t)}function Ty(e){var t=function(e){if("object"!=Sy(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Sy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Sy(t)?t:t+""}var _y=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=function(e,t,n){return t=Py(t),function(e,t){if(t&&("object"==Sy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Cy()?Reflect.construct(t,n||[],Py(e).constructor):t.apply(e,n))}(this,t,[].concat(a)),n=e,o={mounted:!1},(r=Ty(r="state"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ay(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){return this.state.mounted?i.createElement(K,this.props,this.props.children):null}}])&&ky(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(i.Component),Ny=["src","alt","title","className"],Oy=["node"],Iy=["node"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ry.apply(null,arguments)}function Ly(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return My(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?My(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function My(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function jy(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Dy=function(e){var t=e.src,n=e.alt,r=e.title,o=e.className,a=jy(e,Ny),s=Ly((0,i.useState)(t),2),l=s[0],c=s[1];return i.createElement("img",Ry({src:l,alt:n,title:r,className:o,loading:"lazy",onError:function(e){e.currentTarget.onerror=null,c("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==")}},a))};const Uy=function(){var e=function(){let{matches:e}=i.useContext(He),t=e[e.length-1];return t?t.params:{}}().slug,t=Ly((0,i.useState)(""),2),n=t[0],r=t[1],o=(0,i.useRef)(!1),a=Ly((0,i.useState)(!0),2),s=a[0],l=a[1],c=Ly((0,i.useState)(null),2),u=c[0],f=c[1],d=Ly((0,i.useState)({title:"",date:"",readTime:""}),2),h=d[0],p=d[1];return(0,i.useEffect)((function(){o.current=!1}),[e]),(0,i.useEffect)((function(){if(!e)return f("Blog post slug is missing."),void l(!1);l(!0),fetch("/blog/".concat(e,".md")).then((function(e){if(!e.ok)throw new Error("Post not found");return e.text()})).then((function(e){r(e);var t=e.match(/^#\s+(.*)/m),n=e.match(/^Date:\s*(.*)/m),o=e.split(/\s+/).length,i=Math.max(1,Math.ceil(o/200));p({title:t?t[1]:"Blog Post",date:n?n[1]:"Recent",readTime:"".concat(i," min read")}),l(!1)})).catch((function(e){f(e.message),l(!1)}))}),[e]),s?i.createElement("div",{className:"min-h-screen flex items-center justify-center"},i.createElement("div",{className:"text-center"},i.createElement("div",{className:"inline-block w-12 h-12 border-4 border-t-indigo-500 border-gray-700 rounded-full animate-spin mb-4"}),i.createElement("p",{className:"text-lg text-indigo-300"},"Loading post..."))):u?i.createElement(mi.P.div,{className:"min-h-screen flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},i.createElement("div",{className:"bg-gray-800 p-8 rounded-xl shadow-lg text-red-400 text-center"},i.createElement("p",{className:"mb-4"},u),i.createElement(vt,{to:"/blog",className:"inline-flex items-center text-indigo-400 hover:underline"},i.createElement(Ey,{className:"w-4 h-4 mr-1"}),"Back to Blog"))):i.createElement(i.Fragment,null,i.createElement(_y,null,i.createElement("title",null,h.title),i.createElement("meta",{name:"description",content:"".concat(h.title,"  ").concat(h.readTime)}),i.createElement("meta",{property:"og:title",content:h.title}),i.createElement("meta",{property:"og:description",content:"Read time: ".concat(h.readTime)})),i.createElement(mi.P.div,{className:"min-h-screen py-12 px-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},i.createElement("div",{className:"max-w-3xl mx-auto"},i.createElement(vt,{to:"/blog",className:"inline-flex items-center text-indigo-400 hover:underline mb-6"},i.createElement(Ey,{className:"w-4 h-4 mr-1"}),"Back to all posts"),i.createElement(mi.P.article,{className:"bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700",initial:{y:20},animate:{y:0},transition:{delay:.2,duration:.4}},i.createElement("header",{className:"p-6 bg-gradient-to-r from-indigo-900 to-purple-900 text-white"},i.createElement("h1",{className:"text-3xl font-bold"},h.title),i.createElement("div",{className:"flex space-x-4 mt-2 text-gray-300"},i.createElement("span",{className:"flex items-center"},i.createElement(Nl,{className:"w-4 h-4 mr-1"}),h.date),i.createElement("span",{className:"flex items-center"},i.createElement(Ui,{className:"w-4 h-4 mr-1"}),h.readTime))),i.createElement("div",{className:"p-6 prose prose-invert prose-indigo max-w-none"},i.createElement(wm,{remarkPlugins:[uy],rehypePlugins:[wy],components:{img:function(e){e.node;var t=jy(e,Oy);return i.createElement(Dy,Ry({},t,{className:"rounded-lg mx-auto shadow my-6 w-full max-w-sm object-contain"}))},h2:function(e){e.node;var t=jy(e,Iy),n=i.createElement("h2",t),r=null;return o.current||(r=i.createElement(Nu,{className:"my-8"}),o.current=!0),i.createElement(i.Fragment,null,n,r)}}},n)),i.createElement("footer",{className:"p-6 bg-gray-900 text-gray-400 flex justify-between items-center"},i.createElement(vt,{to:"/blog",className:"inline-flex items-center text-indigo-400 hover:underline"},i.createElement(Ey,{className:"w-4 h-4 mr-1"}),"Back to all posts"))))))};function Fy(e){return Fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(e)}function By(e){return function(e){if(Array.isArray(e))return Gy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zy(){zy=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new N(r||[]);return o(a,"_invoke",{value:P(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(O([])));E&&E!==n&&r.call(E,a)&&(w=E);var S=b.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,s){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Fy(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Fy(t)+" is not iterable")}return v.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},k(C.prototype),c(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Vy(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Hy(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Vy(i,r,o,a,s,"next",e)}function s(e){Vy(i,r,o,a,s,"throw",e)}a(void 0)}))}}function qy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Wy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wy(e,t){if(e){if("string"==typeof e)return Gy(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gy(e,t):void 0}}function Gy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Yy(){var e=function(){var e=hi((0,i.useState)(!1),2),t=e[0],n=e[1],r=hi((0,i.useState)(null),2),o=r[0],a=r[1],s=hi((0,i.useState)(!0),2),l=s[0],c=s[1],u=hi((0,i.useState)(!1),2),f=u[0],d=u[1];(0,i.useEffect)((function(){h()}),[]);var h=function(){var e=di(ui().mark((function e(){var t;return ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,li.currentAuthenticatedUser();case 3:t=e.sent,n(!0),a(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n(!1),a(null);case 12:return e.prev=12,c(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),p=(0,i.useCallback)((function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("[Auth] Sign-in success, setting authenticated state",{userId:null==e||null===(t=e.attributes)||void 0===t?void 0:t.sub,isAuthenticated:!0,isNew:r}),a(e),n(!0),d(r)}),[]),m=function(){var e=di(ui().mark((function e(){return ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,li.signOut();case 3:n(!1),a(null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error signing out:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return{isAuthenticated:t,currentUser:o,loading:l,isNewUser:f,handleSigninSuccess:p,handleSignout:m,checkAuthState:h}}(),t=e.isAuthenticated,n=e.currentUser,r=e.handleSigninSuccess,o=e.handleSignout,a=e.loading,s=$e(),l=Ge(),c=qy((0,i.useState)(null),2),u=c[0],f=c[1],d=qy((0,i.useState)(!1),2),h=d[0],p=d[1],m=qy((0,i.useState)(!1),2),g=m[0],y=m[1];(0,i.useEffect)((function(){if(h){var e=window.scrollY;return document.body.style.position="fixed",document.body.style.top="-".concat(e,"px"),document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%",document.body.style.overscrollBehavior="none",document.documentElement.style.overflow="hidden",document.documentElement.style.overscrollBehavior="none",function(){document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width="",document.body.style.overscrollBehavior="",document.documentElement.style.overflow="",document.documentElement.style.overscrollBehavior="",window.scrollTo(0,e)}}}),[h]);var v=qy((0,i.useState)(!1),2),b=v[0],w=v[1],x=qy((0,i.useState)(!1),2),E=x[0],S=x[1],k=qy((0,i.useState)(!1),2),C=k[0],P=k[1],A=qy((0,i.useState)(!1),2),T=A[0],_=A[1],N=qy((0,i.useState)(null),2),O=N[0],I=N[1],R=qy((0,i.useState)(!1),2),L=R[0],M=R[1],j=qy((0,i.useState)(!1),2),D=j[0],U=j[1],F=qy((0,i.useState)(!1),2),B=F[0],z=F[1],V=qy((0,i.useState)(!1),2),H=V[0],q=V[1],W=qy((0,i.useState)(!1),2),G=W[0],Y=W[1],$=qy((0,i.useState)(null),2),K=$[0],Z=$[1],J=qy((0,i.useState)(!1),2),Q=J[0],X=J[1],ee=(null==O?void 0:O.questionnaireCompleted)&&!(null!=O&&O.detailedQuestionsCompleted),te=(0,i.useRef)(null),ne=(0,i.useRef)(null),re=(0,i.useRef)(!1),oe=(0,i.useRef)(null),ie=(0,i.useRef)(0),ae=(0,i.useRef)(!1);(0,i.useEffect)((function(){a||(z(!0),t||(U(!1),M(!1),I(null),ne.current=null,q(!1)))}),[a,t]),(0,i.useEffect)((function(){var e,t=null==n||null===(e=n.attributes)||void 0===e?void 0:e.sub;oe.current!==t&&t&&!ae.current&&(ae.current=!0,"User changed from ".concat(oe.current," to ").concat(t,". Resetting state."),I(null),M(!1),U(!1),ne.current=null,oe.current=t,!oe.current&&t&&(Y(!0),q(!1)),setTimeout((function(){ae.current=!1}),500))}),[n]);var se=(0,i.useCallback)((function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(t=e.attributes)||void 0===t||t.sub,r(e,n),Y(!0),q(!1),re.current=!1,ie.current=0}),[r]),le=(0,i.useCallback)(Hy(zy().mark((function e(){var r,o,i,a,s,l;return zy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie.current++,r=ie.current,t&&n&&!re.current){e.next=6;break}return re.current,t&&n||(U(!1),M(!1),I(null),ne.current=null,q(!1)),e.abrupt("return");case 6:if(re.current=!0,U(!0),e.prev=9,r===ie.current){e.next=13;break}return ie.current,e.abrupt("return");case 13:return o=n.signInUserSession.accessToken.jwtToken,i=n.attributes.sub,e.next=17,fetch("".concat("https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod","/preferences"),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},mode:"cors"});case 17:if(a=e.sent,r===ie.current){e.next=21;break}return ie.current,e.abrupt("return");case 21:if(a.ok){e.next=32;break}if(404!==a.status){e.next=29;break}if(I(null),M(!1),i)try{localStorage.removeItem("questionnaire_completed_".concat(i))}catch(e){}e.next=30;break;case 29:throw new Error("Preferences API Error: Status ".concat(a.status));case 30:e.next=40;break;case 32:return e.next=34,a.json();case 34:if(s=e.sent,l=(null==s?void 0:s.questionnaireCompleted)||!1,I(s),M(l),i)try{localStorage.setItem("questionnaire_completed_".concat(i),l?"true":"false")}catch(e){}case 40:e.next=47;break;case 42:e.prev=42,e.t0=e.catch(9),e.t0,I(null),M(!1);case 47:return e.prev=47,r===ie.current?(U(!1),re.current=!1,G&&setTimeout((function(){q(!0),Y(!1)}),300)):ie.current,e.finish(47);case 50:case"end":return e.stop()}}),e,null,[[9,42,47,50]])}))),[t,n,G]);(0,i.useEffect)((function(){B&&t?le():B&&!t&&(U(!1),M(!1),I(null),ne.current=null,q(!1))}),[B,t,le]),(0,i.useEffect)((function(){var e=B&&t&&!D&&!L&&"/onboarding"!==l.pathname;_(e),e&&G&&(q(!0),Y(!1))}),[B,t,D,L,l.pathname,G]),(0,i.useEffect)((function(){!B||!t||D||G||H||q(!0)}),[B,t,D,G,H]);var ce=(0,i.useCallback)((function(){var e,t=null==n||null===(e=n.attributes)||void 0===e?void 0:e.sub;if(t){M(!0),y(!1),_(!1);try{localStorage.setItem("questionnaire_completed_".concat(t),"true")}catch(e){}le(),"/onboarding"===l.pathname&&s("/"),setTimeout((function(){q(!0)}),500)}}),[n,le,l.pathname,s]),ue=(0,i.useCallback)((function(){return s("/signin")}),[s]),fe=(0,i.useCallback)((function(){return s("/signup")}),[s]),de=(0,i.useCallback)((function(e){Z(e),X(!0)}),[]),he=(0,i.useCallback)((function(){X(!1),setTimeout((function(){return Z(null)}),300)}),[]),pe=!B,me=(0,i.useCallback)((function(e){I(e),te.current&&te.current.refreshRecommendations(e)}),[]);return i.createElement(i.Fragment,null,i.createElement(ba,null),"      ",i.createElement(_i,null,T&&i.createElement(mi.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{type:"spring",stiffness:200,damping:25},className:"fixed bottom-6 right-6 z-50",role:"alert","aria-live":"polite"},i.createElement(mi.P.div,{className:"bg-gray-800/90 backdrop-blur-sm rounded-lg shadow-lg border border-purple-700/50 overflow-hidden",whileHover:{scale:1.03},animate:{boxShadow:["0px 0px 0px rgba(124, 58, 237, 0)","0px 0px 15px rgba(124, 58, 237, 0.3)","0px 0px 0px rgba(124, 58, 237, 0)"]},transition:{boxShadow:{repeat:1/0,duration:2,repeatDelay:1}}},i.createElement("div",{className:"flex items-center justify-between px-3 py-2 bg-gradient-to-r from-purple-900/80 to-indigo-900/80"},i.createElement("h3",{className:"text-xs font-medium text-white flex items-center"},i.createElement(sc,{className:"h-3.5 w-3.5 text-purple-300 mr-1.5"}),"Personalize Your Experience"),i.createElement("button",{onClick:function(){_(!1);try{var e,t=null==n||null===(e=n.attributes)||void 0===e?void 0:e.sub;t&&localStorage.setItem("preferences_prompt_dismissed_".concat(t),"true")}catch(e){console.warn("Could not save preference prompt state:",e)}},className:"text-gray-400 hover:text-white -mr-1","aria-label":"Close"},i.createElement("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),i.createElement("div",{className:"p-3"},i.createElement("button",{onClick:function(){return y(!0)},className:"w-full text-center bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 px-3 py-1.5 rounded text-xs font-medium text-white transition-colors"},"Set Preferences"))))),i.createElement(_i,null,g&&i.createElement(mi.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onMouseDown:function(e){e.target===e.currentTarget&&y(!1)}},"            ",i.createElement(mi.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"w-full max-w-2xl bg-gray-900 rounded-lg shadow-2xl overflow-hidden",onMouseDown:function(e){return e.stopPropagation()}},i.createElement(is,{currentUser:n,onComplete:ce,onSkip:function(){return y(!1)},isModal:!0,onClose:function(){te.current&&O&&te.current.refreshRecommendations(O),y(!1)},existingPreferences:O,onPreferencesUpdated:me,skipBasicQuestions:ee})))),i.createElement(_i,null,C&&t&&i.createElement(El,{currentUser:n,onClose:function(){return P(!1)}})),i.createElement(_i,null,b&&t&&i.createElement(mi.P.div,{className:"fixed top-16 right-4 sm:right-10 z-50",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20,transition:{duration:0}},onMouseDown:function(e){return e.stopPropagation()},onClick:function(e){return e.stopPropagation()}},i.createElement(la,{currentUser:n,isAuthenticated:t,isOpen:b,onClose:function(){return w(!1)},inHeader:!0}))),i.createElement(_i,null,E&&t&&i.createElement(mi.P.div,{className:"fixed top-16 right-4 sm:right-10 z-50",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20,transition:{duration:0}},onMouseDown:function(e){return e.stopPropagation()},onClick:function(e){return e.stopPropagation()}},i.createElement(ml,{currentUser:n,isAuthenticated:t,isOpen:E,onClose:function(){return S(!1)},inHeader:!0}))),"/onboarding"!==l.pathname&&"/auth"!==l.pathname&&"/signup"!==l.pathname&&"/signin"!==l.pathname&&i.createElement(ha,{isAuthenticated:t,currentUser:n,onSignout:o,onSearchClick:function(e){return p(void 0===e||e)},onPreferencesClick:function(e){return y(void 0===e||e)},onFavoritesClick:function(e){return w(void 0===e||e)},onWatchlistClick:function(e){return S(void 0===e||e)},onAccountClick:function(e){return P(void 0===e||e)},showFavorites:b,showWatchlist:E,showSearch:h,hasBasicPreferencesOnly:(null==O?void 0:O.questionnaireCompleted)&&!(null!=O&&O.detailedQuestionsCompleted)}),i.createElement(_i,null,h&&i.createElement(i.Fragment,null,i.createElement(mi.P.div,{key:"search-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-30 bg-gradient-to-b from-gray-900/95 to-black/90 backdrop-blur-md",onClick:function(){return p(!1)}}),i.createElement(mi.P.div,{key:"search-container",initial:{opacity:0,y:-20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{type:"spring",stiffness:350,damping:30,delay:.05},className:"fixed inset-x-0 top-16 z-30 pt-4 px-4",onClick:function(e){return e.stopPropagation()}},"              ",i.createElement("div",{className:"flex justify-end max-w-3xl mx-auto mb-3"},i.createElement("button",{onClick:function(){return p(!1)},className:"p-2 rounded-full bg-gray-800/90 text-gray-300 hover:bg-gray-700 hover:text-white transition-colors shadow-lg","aria-label":"Close search"},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),i.createElement(mi.P.div,{className:"max-w-3xl mx-auto relative",transition:{delay:.2,duration:.5}},i.createElement(au,{currentUser:n,onMediaClick:function(e){de(e),p(!1)}}))))),i.createElement(Zu,{item:K,isOpen:Q,onClose:he,currentUser:n}),i.createElement("main",{className:"relative z-10 pt-20 transition-transform duration-300 ease-in-out"},i.createElement(lt,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}},i.createElement(at,{path:"/auth",element:!t&&B?i.createElement(Pa,{onSignupSuccess:se,onSigninSuccess:se}):t?i.createElement(it,{to:"/",replace:!0}):null}),i.createElement(at,{path:"/signup",element:!t&&B?i.createElement(Pa,{onSignupSuccess:se,onSigninSuccess:se,initialMode:"signup"}):t?i.createElement(it,{to:"/",replace:!0}):null}),i.createElement(at,{path:"/signin",element:!t&&B?i.createElement(Pa,{onSignupSuccess:se,onSigninSuccess:se,initialMode:"signin"}):t?i.createElement(it,{to:"/",replace:!0}):null}),i.createElement(at,{path:"/onboarding",element:B?t?i.createElement("div",{className:"min-h-screen flex items-center justify-center p-4"},i.createElement(is,{currentUser:n,onComplete:ce})):i.createElement(it,{to:"/auth",replace:!0,state:{from:l}}):null}),i.createElement(at,{path:"/",element:i.createElement("div",{className:"container mx-auto px-4 pb-16"},!t&&B?i.createElement(Au,{onSignInClick:ue,onSignUpClick:fe}):pe?i.createElement("div",{className:"space-y-12 animate-pulse"},i.createElement("div",{className:"mb-12 max-w-7xl mx-auto px-4"},i.createElement("div",{className:"flex justify-between items-center mb-4"},i.createElement("div",{className:"bg-gray-700 rounded h-4 sm:h-6 w-1/3"}),i.createElement("div",{className:"bg-gray-700 rounded-full h-4 sm:h-5 w-16 sm:w-24"})),"            ",i.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 lg:gap-6"},By(Array(3)).map((function(e,t){return i.createElement("div",{key:t,className:"bg-gray-800 rounded-xl overflow-hidden shadow-lg h-[350px]"},i.createElement("div",{className:"h-3/5 bg-gray-700"}),i.createElement("div",{className:"p-4 space-y-3"},i.createElement("div",{className:"h-5 bg-gray-700 rounded w-3/4"}),i.createElement("div",{className:"h-4 bg-gray-700 rounded w-1/2"}),i.createElement("div",{className:"h-4 bg-gray-700 rounded w-full"})))})))),i.createElement("div",{className:"mb-12 max-w-7xl mx-auto px-4"},i.createElement("div",{className:"h-4 sm:h-6 bg-gray-700 rounded w-1/4 mb-4"}),i.createElement("div",{className:"flex gap-3 sm:gap-4 overflow-x-auto pb-2 -mx-2 px-2 hide-scrollbar"},By(Array(5)).map((function(e,t){return i.createElement("div",{key:t,className:"bg-gray-800 rounded-xl overflow-hidden min-w-[140px] sm:min-w-[180px] md:min-w-[220px] flex-shrink-0 flex flex-col"},i.createElement("div",{className:"h-[100px] sm:h-[130px] md:h-[150px] bg-gray-700"}),i.createElement("div",{className:"p-2 sm:p-3 flex-grow flex flex-col"},i.createElement("div",{className:"h-3 sm:h-4 bg-gray-700 rounded w-3/4 mb-1"}),i.createElement("div",{className:"h-2 sm:h-3 bg-gray-700 rounded w-1/2 mb-1"}),i.createElement("div",{className:"mt-auto h-2 sm:h-3 bg-gray-700 rounded w-1/3"})))})))),i.createElement("div",{className:"mb-12 max-w-7xl mx-auto px-4"},i.createElement("div",{className:"h-4 sm:h-6 bg-gray-700 rounded w-1/5 mb-4"}),i.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 sm:gap-3"},By(Array(6)).map((function(e,t){return i.createElement("div",{key:t,className:"aspect-[1.5/1] rounded-lg bg-gray-800 overflow-hidden"})}))))):t&&B?i.createElement("div",{className:"space-y-12"},i.createElement(_i,null,H&&i.createElement(mi.P.div,{key:"personalized-recommendations",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},i.createElement($s,{ref:te,currentUser:n,isAuthenticated:t,propUserPreferences:O,propHasCompletedQuestionnaire:L,initialAppLoadComplete:B,onMediaClick:de}))),i.createElement(gs,{currentUser:n,isAuthenticated:t,initialAppLoadComplete:B,onMediaClick:de}),i.createElement(nl,{onCategorySelect:f}),u&&i.createElement(hl,{genreId:u,currentUser:n,onMediaClick:de})):null)}),i.createElement(at,{path:"/blog",element:i.createElement(tf,null)}),i.createElement(at,{path:"/blog/:slug",element:i.createElement(Uy,null)}),i.createElement(at,{path:"*",element:i.createElement(it,{to:"/",replace:!0})}))))}const $y=function(){return i.createElement(mt,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}},i.createElement(Yy,null),i.createElement(Ru,null))};te.configure({Auth:{region:"eu-north-1",userPoolId:"eu-north-1_x2FwI0mFK",userPoolWebClientId:"4gob38of1s9tu7h9ciik5unjrl",authenticationFlowType:"USER_PASSWORD_AUTH",mandatorySignIn:!0,oauth:{domain:"eu-north-1x2fwi0mfk.auth.eu-north-1.amazoncognito.com",scope:["email","profile","openid"],redirectSignIn:"https://www.movierec.net,https://account.d1akezqpdr5wgr.amplifyapp.com,http://localhost:3000",redirectSignOut:"https://www.movierec.net/logout,https://account.d1akezqpdr5wgr.amplifyapp.com/logout,http://localhost:3000/logout",responseType:"code"}},API:{endpoints:[{name:"api",endpoint:"https://n09230hhhj.execute-api.eu-north-1.amazonaws.com/prod"}]}});var Ky=document.getElementById("root");(0,s.H)(Ky).render(i.createElement(i.StrictMode,null,i.createElement(H,null,i.createElement($y,null))))})()})();